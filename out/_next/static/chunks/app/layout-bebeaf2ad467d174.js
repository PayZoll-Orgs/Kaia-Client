(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6956:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(12115);let l=r.forwardRef(function(e,t){let{title:s,titleId:l,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),s?r.createElement("title",{id:l},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},13673:()=>{},14893:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(95155),l=s(12115),a=s(20063),n=s(14124);function i(){let{login:e,isLoading:t,isInLineApp:s}=(0,n.A)(),[a,i]=(0,l.useState)(!1),o=async()=>{if(!t&&!a){i(!0);try{await e()}catch(e){console.error("Login failed:",e)}finally{i(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-green-500 rounded-2xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to LINE DApp"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:s?"Continue with your LINE account to access all features":"Sign in with LINE to get started"}),(0,r.jsx)("button",{onClick:o,disabled:t||a,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-3",children:t||a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Connecting..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,r.jsx)("span",{children:"Continue with LINE"})]})}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-6",children:s?"You'll be authenticated using your LINE account":"You'll be redirected to LINE for secure authentication"})]})})})}var o=s(33275);let c=["/auth/callback","/landing"];function d(e){let{children:t}=e,s=(0,a.usePathname)(),{isAuthenticated:l,isLoading:d,error:m}=(0,n.A)();return c.includes(s)?(0,r.jsx)(r.Fragment,{children:t}):d?(0,r.jsx)(o.A,{message:"Verifying authentication..."}):l?m?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:m}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Try Again"})]})}):(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(i,{})}},20063:(e,t,s)=>{"use strict";var r=s(47260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},25096:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(95155),l=s(14124),a=s(12115);let n=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});var i=s(51691),o=s(6956);let c=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))});function d(e){let{onComplete:t}=e,{user:s,wallet:d,connectWallet:m}=(0,l.A)(),[u,x]=(0,a.useState)(1),[h,g]=(0,a.useState)(!1);console.log("\uD83C\uDFAF Onboarding component rendered!",{currentStep:u,isConnecting:h,walletConnected:d.isConnected,walletAddress:d.address}),(0,a.useEffect)(()=>{d.isConnected&&d.address&&(console.log("✅ User already has wallet, completing onboarding"),t())},[d.isConnected,d.address,t]);let b=async()=>{g(!0);try{console.log("\uD83D\uDE80 Starting wallet onboarding..."),console.log("\uD83D\uDCA1 DappPortal will show wallet creation UI");let e=await m();e&&(console.log("✅ Wallet setup completed during onboarding:",e),x(3),setTimeout(()=>{t()},2e3))}catch(e){console.error("❌ Wallet setup failed during onboarding:",e),g(!1),e&&"object"==typeof e&&"code"in e&&-32603===e.code&&alert("⚠️ Wallet service not available. Please contact support.\n\nError: CLIENT_ID not authorized for wallet operations.")}},f=[{title:"Welcome to Our DApp!",description:"Let's get you set up with a secure wallet on the Kaia network.",icon:n},{title:"Create Your Wallet",description:"We'll help you create a secure wallet to manage your digital assets.",icon:i.A},{title:"You're All Set!",description:"Your wallet has been created successfully. Welcome aboard!",icon:o.A}],p=f[u-1];return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-2",children:f.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(t+1<=u?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:t+1<=u&&t+1<u?(0,r.jsx)(o.A,{className:"w-5 h-5"}):t+1}),t<f.length-1&&(0,r.jsx)("div",{className:"w-12 h-0.5 mx-2 ".concat(t+1<u?"bg-blue-600":"bg-gray-200")})]},t))}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Step ",u," of ",f.length]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)(p.icon,{className:"w-8 h-8 text-blue-600"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:p.title}),(0,r.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:p.description}),s&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Logged in as:"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:s.displayName})]}),1===u&&(0,r.jsxs)("button",{onClick:()=>x(2),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-colors flex items-center justify-center gap-2",children:["Get Started",(0,r.jsx)(c,{className:"w-5 h-5"})]}),2===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:b,disabled:h,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Wallet..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"Create My Wallet"]})}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"This will open a secure interface to create your wallet"})]}),3===u&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Wallet Created Successfully!"})]}),d.address&&(0,r.jsxs)("p",{className:"text-sm text-green-700 mt-2 font-mono",children:[d.address.slice(0,6),"...",d.address.slice(-4)]})]}),(0,r.jsxs)("button",{onClick:t,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl transition-colors flex items-center justify-center gap-2",children:["Continue to App",(0,r.jsx)(c,{className:"w-5 h-5"})]})]})]}),1===u&&(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip for now"})})]})})}function m(e){let{children:t}=e,{isAuthenticated:s,needsOnboarding:a,completeOnboarding:n,isLoading:i}=(0,l.A)();return(console.log("\uD83C\uDFAF OnboardingWrapper state:",{isAuthenticated:s,needsOnboarding:a,isLoading:i,shouldShowOnboarding:s&&a}),i)?(console.log("⏳ Auth still loading, showing spinner"),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})):s&&a?(console.log("\uD83D\uDE80 Showing onboarding UI"),(0,r.jsx)(d,{onComplete:n})):(console.log("\uD83D\uDCF1 Showing regular app content"),(0,r.jsx)(r.Fragment,{children:t}))}},33944:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},51691:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(12115);let l=r.forwardRef(function(e,t){let{title:s,titleId:l,...a}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},a),s?r.createElement("title",{id:l},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))})},80981:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,96168,23)),Promise.resolve().then(s.t.bind(s,33944,23)),Promise.resolve().then(s.t.bind(s,13673,23)),Promise.resolve().then(s.bind(s,14893)),Promise.resolve().then(s.bind(s,25096)),Promise.resolve().then(s.bind(s,14124))},96168:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}}},e=>{e.O(0,[9652,4590,2626,8441,1255,7358],()=>e(e.s=80981)),_N_E=e.O()}]);