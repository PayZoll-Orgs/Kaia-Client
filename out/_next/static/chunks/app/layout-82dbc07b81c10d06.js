(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6956:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},13673:()=>{},14893:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(95155),a=s(12115),l=s(20063),n=s(14124);function i(){let{login:e,isLoading:t,isInLineApp:s}=(0,n.A)(),[l,i]=(0,a.useState)(!1),o=async()=>{if(!t&&!l){i(!0);try{await e()}catch(e){console.error("Login failed:",e)}finally{i(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 bg-green-500 rounded-2xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-10 h-10 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to LINE DApp"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:s?"Continue with your LINE account to access all features":"Sign in with LINE to get started"}),(0,r.jsx)("button",{onClick:o,disabled:t||l,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-3",children:t||l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Connecting..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,r.jsx)("span",{children:"Continue with LINE"})]})}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-6",children:s?"You'll be authenticated using your LINE account":"You'll be redirected to LINE for secure authentication"})]})})})}var o=s(33275);let d=["/auth/callback","/landing"];function c(e){let{children:t}=e,s=(0,l.usePathname)(),{isAuthenticated:a,isLoading:c,error:u}=(0,n.A)();return d.includes(s)?(0,r.jsx)(r.Fragment,{children:t}):c?(0,r.jsx)(o.A,{message:"Verifying authentication..."}):a?u?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Error"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:u}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Try Again"})]})}):(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(i,{})}},20063:(e,t,s)=>{"use strict";var r=s(47260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},33944:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_9a8899",variable:"__variable_9a8899"}},34190:(e,t,s)=>{"use strict";s.d(t,{default:()=>f});var r=s(95155),a=s(14124),l=s(12115);let n=l.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});var i=s(51691),o=s(36337),d=s(6956);let c=l.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}),u={BACKEND_URL:"https://kaia-server.onrender.com"},m={AUTH:{ADD_USER:"/api/auth/addUser",GET_USER:"/api/auth/getUser",SEARCH_USERS:"/api/auth/searchUsers",GET_ALL_USERS:"/api/auth/getAllUsers"}},x=l.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}),h=l.forwardRef(function(e,t){let{title:s,titleId:r,...a}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},a),s?l.createElement("title",{id:r},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))});function g(e){var t,s;let{isOpen:n,onClose:d,onSave:c}=e,{user:g,wallet:p}=(0,a.A)(),[f,b]=(0,l.useState)(!1),[v,y]=(0,l.useState)(null),[j,w]=(0,l.useState)("unchecked"),[N,k]=(0,l.useState)(null),[E,C]=(0,l.useState)({username:"",displayName:(null==g?void 0:g.displayName)||"",pictureUrl:(null==g?void 0:g.pictureUrl)||"",statusMessage:"",walletAddress:p.address||"",userId:(null==g?void 0:g.userId)||""});(0,l.useEffect)(()=>{C(e=>({...e,userId:(null==g?void 0:g.userId)||e.userId,displayName:(null==g?void 0:g.displayName)||e.displayName,pictureUrl:(null==g?void 0:g.pictureUrl)||e.pictureUrl,walletAddress:p.address||e.walletAddress}))},[null==g?void 0:g.userId,null==g?void 0:g.displayName,null==g?void 0:g.pictureUrl,p.address]),(0,l.useEffect)(()=>{(async()=>{if(n&&(null==g?void 0:g.userId))try{let e=g.userId;console.log("\uD83D\uDD0D Checking if lineUserId exists in database:",e);let t=await fetch("".concat(u.BACKEND_URL).concat(m.AUTH.GET_ALL_USERS),{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){let s=await t.json();console.log("\uD83D\uDCCB Retrieved all users, searching for lineUserId:",e);let r=s.find(t=>t.userId===e);if(r){console.log("✅ Found existing user with this lineUserId, auto-login:",r),console.log("\uD83D\uDD04 Calling onSave and onClose for existing user"),C({username:r.username,displayName:r.displayName||"",pictureUrl:r.pictureUrl||"",statusMessage:r.statusMessage||"",walletAddress:r.walletAddress||p.address||"",userId:r.userId||e}),console.log("\uD83D\uDCE4 Triggering onSave callback with existing user data"),c(r),console.log("\uD83D\uDCE4 Triggering onClose to close modal"),d();return}console.log("ℹ️ LineUserId not found in database, user needs to register"),console.log("\uD83D\uDCCB Modal should stay open for new user registration"),C(t=>({...t,username:"",userId:e,displayName:(null==g?void 0:g.displayName)||"",pictureUrl:(null==g?void 0:g.pictureUrl)||"",walletAddress:p.address||""})),console.log("✅ Profile form ready for new user input")}else console.error("❌ Failed to fetch users from backend:",t.status),C(t=>({...t,username:"",userId:e,displayName:(null==g?void 0:g.displayName)||"",pictureUrl:(null==g?void 0:g.pictureUrl)||"",walletAddress:p.address||""}))}catch(t){console.error("❌ Error checking existing user:",t);let e=(null==g?void 0:g.userId)||"";C(t=>({...t,username:"",userId:e,displayName:(null==g?void 0:g.displayName)||"",pictureUrl:(null==g?void 0:g.pictureUrl)||"",walletAddress:p.address||""}))}})()},[n,null==g?void 0:g.userId,p.address,c,d]),(0,l.useEffect)(()=>()=>{N&&clearTimeout(N)},[N]);let L=async e=>{if(!e||e.length<3)return void w("unchecked");w("checking");try{let t=await fetch("".concat(u.BACKEND_URL).concat(m.AUTH.GET_USER,"/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});t.ok?w("taken"):404===t.status?w("available"):w("unchecked")}catch(e){console.error("Error checking username availability:",e),w("unchecked")}},A=(e,t)=>{C(s=>({...s,[e]:t})),"username"===e&&(N&&clearTimeout(N),k(setTimeout(()=>{L(t)},500)))},U=async()=>{if(!(null==g?void 0:g.userId))return void y("LINE user ID is required. Please make sure you are logged in through LINE.");if(!E.username||E.username.trim().length<3)return void y("Please enter a valid Username (minimum 3 characters)");if("available"!==j)return void y("Please choose an available Username");b(!0),y(null);try{console.log("\uD83D\uDD04 Creating new user profile:",E);let e={username:E.username.trim(),displayName:E.displayName||(null==g?void 0:g.displayName)||"Anonymous User",pictureUrl:E.pictureUrl||(null==g?void 0:g.pictureUrl)||"",statusMessage:E.statusMessage||"",walletAddress:p.address||"",userId:g.userId};console.log("\uD83D\uDCE4 Sending profile to backend:",e);let t=await fetch("".concat(u.BACKEND_URL).concat(m.AUTH.ADD_USER),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to save profile"}));throw Error(e.error||"HTTP ".concat(t.status,": Failed to save profile"))}let s=await t.json();console.log("✅ Profile created successfully:",s),c(s),d()}catch(e){console.error("❌ Failed to save profile:",e),y(e instanceof Error?e.message:"Failed to save profile")}finally{b(!1)}};return n?(console.log("✅ ProfileSaveModal is open, rendering modal"),(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 text-center",children:"Complete Your Profile"}),(0,r.jsx)("p",{className:"text-gray-600 text-center mt-2",children:"Set up your profile to get started with KaiaPay"})]}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(null==g?void 0:g.userId)&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),"LINE User ID"]}),(0,r.jsx)("div",{className:"w-full px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg font-mono text-sm text-blue-800",children:g.userId}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Your unique LINE identifier (used internally)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),"Choose Your Username *"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",value:E.username,onChange:e=>A("username",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat("available"===j?"border-green-500 bg-green-50":"taken"===j?"border-red-500 bg-red-50":"border-gray-300"),placeholder:"e.g., johndoe123",disabled:f,minLength:3,maxLength:30,required:!0}),(0,r.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:["checking"===j&&(0,r.jsx)("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full"}),"available"===j&&(0,r.jsx)("svg",{className:"h-4 w-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"taken"===j&&(0,r.jsx)("svg",{className:"h-4 w-4 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),(0,r.jsxs)("div",{className:"mt-1",children:["available"===j&&(0,r.jsx)("p",{className:"text-xs text-green-600",children:"✅ This Username is available!"}),"taken"===j&&(0,r.jsx)("p",{className:"text-xs text-red-600",children:"❌ This Username is already taken"}),"checking"===j&&(0,r.jsx)("p",{className:"text-xs text-blue-600",children:"\uD83D\uDD0D Checking availability..."}),"unchecked"===j&&(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Your unique username for KaiaPay (minimum 3 characters)"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4"}),"Display Name"]}),(0,r.jsx)("input",{type:"text",value:E.displayName||"",onChange:e=>A("displayName",e.target.value),placeholder:"Enter your display name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(x,{className:"w-4 h-4"}),"Profile Picture URL (Optional)"]}),(0,r.jsx)("input",{type:"url",value:E.pictureUrl||"",onChange:e=>A("pictureUrl",e.target.value),placeholder:"https://example.com/your-photo.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),E.pictureUrl&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:E.pictureUrl,alt:"Profile preview",className:"w-16 h-16 rounded-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(h,{className:"w-4 h-4"}),"Status Message (Optional)"]}),(0,r.jsx)("textarea",{value:E.statusMessage||"",onChange:e=>A("statusMessage",e.target.value),placeholder:"What's on your mind?",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"Wallet Address"]}),(0,r.jsx)("div",{className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg font-mono text-sm text-gray-600",children:E.walletAddress||"No wallet connected"})]}),(null==g?void 0:g.userId)&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[(0,r.jsx)("strong",{children:"Debug:"})," LINE ID: ",g.userId]}),v&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-red-800 text-sm",children:v})})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[(0,r.jsx)("button",{onClick:d,disabled:f,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Skip for now"}),(0,r.jsx)("button",{onClick:U,disabled:f||!(null==(t=E.displayName)?void 0:t.trim())||!(null==(s=E.username)?void 0:s.trim())||"available"!==j,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Profile"})]})]})})):(console.log("❌ ProfileSaveModal not open, returning null"),null)}function p(e){let{onComplete:t}=e,{user:s,wallet:u,connectWallet:m}=(0,a.A)(),[x,h]=(0,l.useState)(1),[p,f]=(0,l.useState)(!1),[b,v]=(0,l.useState)(!1);console.log("\uD83C\uDFAF Onboarding component rendered!",{currentStep:x,isConnecting:p,walletConnected:u.isConnected,walletAddress:u.address}),(0,l.useEffect)(()=>{u.isConnected&&u.address&&(console.log("✅ User already has wallet, moving to profile setup"),h(3))},[u.isConnected,u.address]);let y=async()=>{f(!0);try{console.log("\uD83D\uDE80 Starting wallet onboarding..."),console.log("\uD83D\uDCA1 DappPortal will show wallet creation UI");let e=await m();e&&(console.log("✅ Wallet setup completed during onboarding:",e),h(3))}catch(e){console.error("❌ Wallet setup failed during onboarding:",e),f(!1),e&&"object"==typeof e&&"code"in e&&-32603===e.code&&alert("⚠️ Wallet service not available. Please contact support.\n\nError: CLIENT_ID not authorized for wallet operations.")}},j=[{title:"Welcome to KaiaPay!",description:"Let's get you set up with a secure wallet on the Kaia network.",icon:n},{title:"Create Your Wallet",description:"We'll help you create a secure wallet to manage your digital assets.",icon:i.A},{title:"Set Up Your Profile",description:"Complete your profile to personalize your KaiaPay experience.",icon:o.A},{title:"You're All Set!",description:"Welcome to KaiaPay! You&apos;re ready to start sending and receiving payments.",icon:d.A}],w=j[x-1];return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:[(0,r.jsxs)("div",{className:"max-w-md w-full",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-2",children:j.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(t+1<=x?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:t+1<=x&&t+1<x?(0,r.jsx)(d.A,{className:"w-5 h-5"}):t+1}),t<j.length-1&&(0,r.jsx)("div",{className:"w-12 h-0.5 mx-2 ".concat(t+1<x?"bg-blue-600":"bg-gray-200")})]},t))}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Step ",x," of ",j.length]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)(w.icon,{className:"w-8 h-8 text-blue-600"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:w.title}),(0,r.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:w.description}),s&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Logged in as:"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:s.displayName})]}),1===x&&(0,r.jsxs)("button",{onClick:()=>h(2),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-colors flex items-center justify-center gap-2",children:["Get Started",(0,r.jsx)(c,{className:"w-5 h-5"})]}),2===x&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("button",{onClick:y,disabled:p,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating Wallet..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"Create My Wallet"]})}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"This will open a secure interface to create your wallet"})]}),3===x&&(0,r.jsxs)("div",{className:"space-y-4",children:[u.address&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,r.jsx)(d.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Wallet Ready!"})]}),(0,r.jsxs)("p",{className:"text-sm text-green-700 mt-2 font-mono",children:[u.address.slice(0,6),"...",u.address.slice(-4)]})]}),(0,r.jsxs)("button",{onClick:()=>v(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-xl transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),"Set Up Profile"]}),(0,r.jsx)("button",{onClick:()=>h(4),className:"w-full text-gray-600 hover:text-gray-800 font-medium py-2 px-4 rounded-xl transition-colors",children:"Skip Profile Setup"})]}),4===x&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[(0,r.jsx)(d.A,{className:"w-5 h-5"}),(0,r.jsx)("span",{className:"font-medium",children:"Setup Complete!"})]}),(0,r.jsx)("p",{className:"text-sm text-green-700 mt-2",children:"You're ready to start using KaiaPay"})]}),(0,r.jsxs)("button",{onClick:t,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-xl transition-colors flex items-center justify-center gap-2",children:["Continue to App",(0,r.jsx)(c,{className:"w-5 h-5"})]})]})]}),1===x&&(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Skip for now"})})]}),(0,r.jsx)(g,{isOpen:b,onClose:()=>v(!1),onSave:e=>{console.log("✅ Profile saved successfully:",e),h(4),setTimeout(()=>{t()},2e3)}})]})}function f(e){let{children:t}=e,{isAuthenticated:s,needsOnboarding:l,completeOnboarding:n,isLoading:i}=(0,a.A)();return(console.log("\uD83C\uDFAF OnboardingWrapper state:",{isAuthenticated:s,needsOnboarding:l,isLoading:i,shouldShowOnboarding:s&&l}),i)?(console.log("⏳ Auth still loading, showing spinner"),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})})):s&&l?(console.log("\uD83D\uDE80 Showing onboarding UI"),(0,r.jsx)(p,{onComplete:n})):(console.log("\uD83D\uDCF1 Showing regular app content"),(0,r.jsx)(r.Fragment,{children:t}))}},36337:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})},51691:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(12115);let a=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))})},80981:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,96168,23)),Promise.resolve().then(s.t.bind(s,33944,23)),Promise.resolve().then(s.t.bind(s,13673,23)),Promise.resolve().then(s.bind(s,14893)),Promise.resolve().then(s.bind(s,34190)),Promise.resolve().then(s.bind(s,14124))},96168:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_188709",variable:"__variable_188709"}}},e=>{e.O(0,[9652,4590,2626,8441,1255,7358],()=>e(e.s=80981)),_N_E=e.O()}]);