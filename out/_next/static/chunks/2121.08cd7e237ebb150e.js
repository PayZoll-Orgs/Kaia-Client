(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2121],{94:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileDiscover=t.creatNotSupportMethodItemReplay=t.connectMethodsAdaptOldVersion=void 0;var n=r(87598);Object.defineProperty(t,"connectMethodsAdaptOldVersion",{enumerable:!0,get:function(){return n.connectMethodsAdaptOldVersion}}),Object.defineProperty(t,"creatNotSupportMethodItemReplay",{enumerable:!0,get:function(){return n.creatNotSupportMethodItemReplay}}),Object.defineProperty(t,"isMobileDiscover",{enumerable:!0,get:function(){return n.isMobileDiscover}})},119:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;let i=r(14903),s=r(71994),o=r(38962),a=r(45236);class c{constructor(e=window.okxwallet.sui){this.accountChangedHandler=null,this.wallet=e}getSuiPublicKey(){return n(this,void 0,void 0,function*(){return(yield this.connect()).accounts[0].publicKey})}parseConnectResponse(e,t,r,o,c,l){return n(this,void 0,void 0,function*(){try{let e=[];o.forEach(t=>{t.namespace===i.NameSpaceKeySui&&e.push(...t.chains)});let t=[],r={};if(0==e.length)return;let n=yield this.getSuiPublicKey();if(e.forEach(e=>{var i;(0,s.getChainId)(e);let o=c.address.find(t=>784===t.coinType||t.namespaceChainId===e);o&&(t.push(e+":"+o.address),r[e]={publicKey:null!=(i=o.publicKey)?i:n})}),t&&t.length>0)return{namespace:i.NameSpaceKeySui,addresses:t,methods:[...a.SuiMethods],extra:r};return}catch(e){throw e}})}restoreConnect(){return(0,o.isDevice)("mobile")?this.connect():Promise.resolve()}getSuiWallet(){return this.wallet}send(e){return n(this,void 0,void 0,function*(){try{let t;yield this.restoreConnect(),(0,s.logDebug)("suiProvider send request:",JSON.stringify(e));let r=e.method;if(e.injectParams&&this.getSuiWallet()){let n=e.injectParams;switch(r){case"sui_signTransactionBlock":let s;if(this.getSuiWallet().features["sui:signTransaction"])s=yield this.getSuiWallet().features["sui:signTransaction"].signTransaction(n);else if(this.getSuiWallet().features["sui:signTransactionBlock"])s=yield this.getSuiWallet().features["sui:signTransactionBlock"].signTransactionBlock(n);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);t={method:"sui_signTransactionBlock",result:null==s?void 0:s.signature};break;case"sui_signAndExecuteTransactionBlock":let o;if(this.getSuiWallet().features["sui:signAndExecuteTransaction"])o=yield this.getSuiWallet().features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(n);else if(this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"])o=yield this.getSuiWallet().features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(n);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);t={method:"sui_signAndExecuteTransactionBlock",result:o.digest};break;case"sui_signMessage":let a=yield this.getSuiWallet().features["sui:signMessage"].signMessage(n);t={method:"sui_signMessage",result:a.signature};break;case"sui_signPersonalMessage":let c=yield this.getSuiWallet().features["sui:signPersonalMessage"].signPersonalMessage(n);t={method:"sui_signPersonalMessage",result:c.signature}}}return t}catch(e){throw(0,s.logDebug)("suiProvider send error:",e),e}})}connect(){return n(this,void 0,void 0,function*(){var e;return null==(e=this.getSuiWallet())?void 0:e.features["standard:connect"].connect()})}singleConnect(){return this.connect()}addStandardEventListener(e){var t,r;(null==(t=this.getSuiWallet())?void 0:t.features["standard:events"])?((0,s.logDebug)("sui-provider standard:events change"),null==(r=this.getSuiWallet())||r.features["standard:events"].on("change",t=>{e(t)})):(0,s.logDebug)("sui-provider standard:events null")}addAccountChangedListener(e){var t;console.log("configEventWithKey:","sui"),this.getSuiWallet().on&&(this.accountChangedHandler=t=>{console.log("configEventWithKey_sui:",Date.now(),"sui",t),t&&e()},null==(t=this.getSuiWallet())||t.on("accountChanged",this.accountChangedHandler))}removeListener(){var e;this.accountChangedHandler&&(null==(e=this.getSuiWallet())||e.removeListener("accountChanged",this.accountChangedHandler))}}t.SuiProvider=c},425:(e,t,r)=>{"use strict";r.d(t,{v:()=>a});let n=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],i=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],s=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];var o=r(45553);let a={getERC20Abi:e=>o.o.USDT_CONTRACT_ADDRESSES.includes(e)?s:n,getSwapAbi:()=>i}},637:function(e,t,r){"use strict";var n,i,s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaStandardProvider=void 0;let c=r(14903),l=r(71994),d=r(84291);class h{constructor(e){this.wallet=e,n.set(this,void 0),i.set(this,void 0)}getVersion(){return this.wallet.version}supportChains(e){return 1===e.length&&e[0]===c.SOLANA_CHAINS.MAINNET}send(e){return s(this,void 0,void 0,function*(){try{let t;try{(0,l.logDebug)("SolanaStandardProvider send request:",JSON.stringify(e))}catch(e){}let r=l.chainIdToStandardChainIdMap.get(e.chainId);if(!r)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);let n=e.method;if(e.injectParams&&this.wallet){let i=e.injectParams;switch(n){case"solana_signMessage":let s,o=this.wallet.features["solana:signMessage"],a=i.message,c=new TextEncoder().encode(a);if(o)switch(o.version){case"1.0.0":case"1.1.0":let l={message:c,account:this.wallet.accounts[0]};s=yield o.signMessage(l)}s&&(t={method:"solana_signMessage",injectResult:s});break;case"solana_signTransaction":if("transactionBuffer"in i){let e=yield this.signTransaction(i.transactionBuffer,r);e&&(t={method:"solana_signTransaction",injectResult:e})}break;case"solana_signAndSendTransaction":let d,h=this.wallet.features["solana:signAndSendTransaction"];if(h&&"transactionBuffer"in i&&"1.0.0"===h.version){let e={transaction:i.transactionBuffer,account:this.wallet.accounts[0],chain:r};d=yield h.signAndSendTransaction(e)}d&&(t={method:"solana_signAndSendTransaction",injectResult:d});break;case"solana_signAllTransactions":let u=[];if("transactionBufferArray"in i&&Array.isArray(i.transactionBufferArray))for(let e of i.transactionBufferArray){let t=yield this.signTransaction(e,r);u.push(t)}u&&(t={method:"solana_signAllTransactions",injectResult:u})}}if(!t)throw new c.OKXConnectError(c.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return t}catch(e){throw(0,l.logDebug)("solana request send error:",e),e}})}signTransaction(e,t){return s(this,void 0,void 0,function*(){let r,n=this.wallet.features["solana:signTransaction"];if(n&&"1.0.0"===n.version){let i={transaction:e,account:this.wallet.accounts[0],chain:t};r=yield n.signTransaction(i)}return r})}removeListener(){let e=o(this,n,"f");e&&(a(this,n,null,"f"),e())}addAccountChangedListener(e){if(this.wallet.features["standard:events"]){let t=this.wallet.features["standard:events"];t&&"1.0.0"===t.version&&a(this,n,this.wallet.features[d.StandardEvents].on("change",t=>{if("accounts"in t){let t=this.wallet.accounts[0];o(this,i,"f")&&t!==o(this,i,"f")&&(t?e(t.address):e(void 0))}"features"in t&&e(void 0)}),"f")}}connect(e){return s(this,void 0,void 0,function*(){this.wallet.features["bitkeep:"]&&(yield new Promise(e=>{setTimeout(e,400)})),this.wallet.accounts.length||(yield this.wallet.features[d.StandardConnect].connect(e))})}getAccount(e){return s(this,void 0,void 0,function*(){yield this.connect(e);let t=this.wallet.accounts[0];a(this,i,t,"f");let r=t.address;return{namespace:c.NameSpaceKeySOL,addresses:[`${c.SOLANA_CHAINS.MAINNET}:${r}`],methods:[],extra:{}}})}disconnect(){return s(this,void 0,void 0,function*(){if(this.wallet.features["standard:disconnect"])return this.wallet.features["standard:disconnect"].disconnect()})}}t.SolanaStandardProvider=h,n=new WeakMap,i=new WeakMap},971:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(637),t)},1425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPendingConnectionHttp=function(e){return!("connectEvent"in e)}},2045:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosThirdpartInjectProvider=void 0;let i=r(14903),s=r(90897),o=r(71994),a=r(90050);class c{constructor(e){this.walletAdapter=e}disconnect(){return n(this,void 0,void 0,function*(){yield this.walletAdapter.disconnect()})}getVersion(){return this.walletAdapter.version}getAccount(e){return n(this,void 0,void 0,function*(){yield this.walletAdapter.connect();let e=this.walletAdapter.publicAccount,t=e.address,r=e.publicKey.toString(),n={};return n[i.APTOS_CHAINS.MAINNET]={publicKey:r},{namespace:i.NameSpaceKeyAptos,addresses:[`${i.APTOS_CHAINS.MAINNET}:${t}`],methods:[],extra:n}})}supportChains(e){return this.walletAdapter.readyState===s.WalletReadyState.Installed&&1===e.length&&e[0]===i.APTOS_CHAINS.MAINNET}send(e){return n(this,void 0,void 0,function*(){try{let t;try{(0,o.logDebug)("AptosStandardProvider send request:",JSON.stringify(e))}catch(e){}this.confirmNetwrok(e.chainId);let r=e.method;if(e.injectParams&&this.walletAdapter){let n=e.injectParams;switch(r){case"aptos_signTransaction":let i=yield this.walletAdapter.signTransaction(e.params);t={method:"aptos_signTransaction",result:i};break;case"aptos_signMessage":let s=yield this.walletAdapter.signMessage(n);"object"==typeof s&&"signature"in s&&(s=s.signature),t={method:"aptos_signMessage",result:s};break;case"aptos_signAndSubmitTransaction":let o=yield this.walletAdapter.signAndSubmitTransaction(e.params);t={method:"aptos_signAndSubmitTransaction",result:o.hash}}}return t}catch(e){throw(0,o.logDebug)("aptosProvider send error:",e),e}})}removeListener(){}addAccountChangedListener(e){this.walletAdapter.onAccountChange(t=>{null==e||e(null==t?void 0:t.address)})}confirmNetwrok(e){var t;if(e!==o.chainName2IdMap.get(i.APTOS_CHAINS.MAINNET)||(null==(t=this.walletAdapter.network.name)?void 0:t.toLowerCase())!=a.AptosNetwork.MAINNET)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}}t.AptosThirdpartInjectProvider=c},2195:(e,t,r)=>{"use strict";var n,i,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=p,t.addPathToUrl=function(e,t){return p(e)+"/"+t},t.openOKXDeeplink=function(e,t,r){f(e,t,r,!1)},t.openOKXDeeplinkWithFallback=f,t.getWindow=g,t.isTelegramUrl=function(e){if(!e)return!1;let t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},t.encodeTelegramUrlParameters=function(e){let t=e;return(t=(t=(t=(t=(t=t.replace(/\./g,"%2E")).replace(/-/g,"%2D")).replace(/_/g,"%5F")).replace(/&/g,"-")).replace(/=/g,"__")).replace(/%/g,"--")},t.encodeConnectParams=m,t.encodeTWAConnectURLParams=y,t.openOKXTMAWalletlinkWithFallback=function(e){var t,r,n,i,s;(0,c.logDebug)("[TWA] open link:",e,"isInTMA ==> ",C()),C()?(null==(r=null==(t=g())?void 0:t.Telegram)?void 0:r.WebApp)?null==(s=null==(i=null==(n=g())?void 0:n.Telegram)?void 0:i.WebApp)||s.openTelegramLink(e):(0,h.sendOpenTelegramLink)(e):(0,l.getTestTwaUrl)()?window.open(e,"_blank"):window.open(e,"_self")},t.isInTMA=C,t.isInTelegramBrowser=function(){var e;let t=!!(null==(e=g())?void 0:e.TelegramWebview);return(C()||t)&&"unknown"===E},t.getOKXLink=function(e,t=a.ConnectWalletType.OKX_APP_COMMON,r){function n(t,r){if(!e)return{universalLink:r,deepLink:t};let n=`${t}?param=${m(e)}`;return{universalLink:`${r}?topic=${e.topic}${(0,d.getLastSixMd5Hash)(e.clientId)}`,deepLink:n}}switch((0,c.logDebug)(`url  getOKXLink() called connectRequest==> ${JSON.stringify(e)}  walletType=> ${t}  tmaReturnUrl==> ${r}`),t){case a.ConnectWalletType.OKX_WALLET:return n(a.okxWalletDeepLink,a.okxWalletUniversalLink);case a.ConnectWalletType.OKX_APP_COMMON:return n(l.okxCommonDeepLink,l.okxCommonUniversalLink);case a.ConnectWalletType.OKX_MINI:return e?{universalLink:b(y(e),null!=r?r:"back")}:{universalLink:b(void 0,null!=r?r:"back")};default:return n(a.okxAppDeepLink,a.okxAppUniversalLink)}};let a=r(14903),c=r(75260),l=r(56518),d=r(16919),h=r(49737),u=r(20756);function p(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function f(e,t,r,n=!0){var i;let s=!!(null==(i=g())?void 0:i.TelegramWebviewProxy);console.log("openOKXDeeplinkWithFallback fullUrl:",t);let o=!1,l=null,h=()=>{console.log("fallbackToDownloadPage :empty")},u=!1;if(u=r===a.OpenAppLinkType.UniversalLink?(0,d.isInIOSChrome)()||(0,d.isInIOSLine)()||(0,d.isInIOSLark)()||(0,d.isInIOSWeChat)():!1===s&&(0,d.isIos)(),n&&((0,d.isIos)()?u&&(h=()=>{console.log("windowOpen --\x3e fallbackToDownloadPage --",o),o||(console.log("windowOpen --\x3e fallbackToDownloadPage universal link"),window.open(t,"_self"))}):h=()=>{o||(l?l.open(t,"_self"):window.open(t,"_blank"))}),!(0,d.isIos)()||u){if(s?((0,c.logDebug)("window.open(deeplinkUrl, '_blank') ",e),l=window.open(e,"_blank")):(console.log("windowOpen --\x3e deeplinkUrl"),window.location.href=e),n){setTimeout(h,3e3);let e=0,t=setInterval(()=>{console.log("windowOpen --\x3e interval:",++e,document.hidden,document.visibilityState),document.hidden&&(o=!0),(e>10||document.hidden)&&(clearInterval(t),console.log("windowOpen :cleat: ${count}"))},200);window.addEventListener("blur",()=>{console.log("windowOpen :blur"),o=!0},{once:!0}),document.addEventListener("visibilitychange",()=>{console.log("windowOpen :visibilitychange:",document.visibilityState),"hidden"===document.visibilityState&&(o=!0)})}}else s?window.open(t,"_blank"):(console.log("windowOpen[before]: ",Date.now()),(null==window?void 0:window.okxLogDebug)?window.open(t,"_blank"):window.open(t,"_self"),console.log("windowOpen[after]: ",Date.now()))}function g(){if("undefined"!=typeof window)return window}function m(e){let t=JSON.stringify(Object.assign(Object.assign({},e),{protocolVersion:u.CONNECT_PROTOCOL_VER}));(0,c.logDebug)("url encodeConnectParams connectRequestStr ",t);let r=btoa(String.fromCharCode(...new TextEncoder().encode(t)));return(0,c.logDebug)("url encodeConnectParams base64Encoded ",r),r}function y(e){let t=JSON.stringify({topic:e.topic,clientId:e.clientId});return(0,c.logDebug)("url encodeConnectParams connectRequestStr",t),btoa(String.fromCharCode(...new TextEncoder().encode(t)))}function b(e,t){let r={okxconnect:"",redirect:"",extraparams:"",fromtg:!1};e&&(r.okxconnect=e),t&&(r.redirect=t),C()?r.fromtg=!0:r.fromtg=!1,(0,c.logDebug)("getTelegramWalletTWAUrl redirect:",r.redirect);let n=JSON.stringify(r),i=btoa(String.fromCharCode(...new TextEncoder().encode(n))),s=(0,d.toSafeBase64FromBase64)(i);if((0,c.logDebug)("[TWA] open link:",r,i),e||t)if(C())if((0,l.getTestTgTwaUrl)())return`${(0,l.getTestTgTwaUrl)()}?startapp=${s}`;else return`https://t.me/${l.tgwalletName}/start?startapp=${s}`;else{if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}?tgWebAppStartParam=${s}`;if(!(0,l.getTestTgTwaUrl)())return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`;let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:r}=e;return`tg://resolve?domain=${t}&appname=${r}&startapp=${s}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}&startapp=${s}`}if(C())if((0,l.getTestTgTwaUrl)())return`${(0,l.getTestTgTwaUrl)()}`;else return`https://t.me/${l.tgwalletName}/start`;if((0,l.getTestTwaUrl)())return`${(0,l.getTestTwaUrl)()}`;if(!(0,l.getTestTgTwaUrl)())return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`;{let e=(0,l.getBotNameAndAppName)((0,l.getTestTgTwaUrl)());if(e){let{botName:t,appName:r}=e;return`tg://resolve?domain=${t}&appname=${r}`}return`tg://resolve?domain=${l.tgwalletName}&appname=${l.tgwalletAppName}`}}function v(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}let w={};try{let e=location.hash.toString();w=function(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(0>e.indexOf("=")&&0>e.indexOf("?"))return t._path=v(e),t;let r=e.indexOf("?");r>=0&&(t._path=v(e.substr(0,r)),e=e.substr(r+1));let n=function(e){let t,r,n,i,s={};if(!e.length)return s;let o=e.split("&");for(t=0;t<o.length;t++)n=v((r=o[t].split("="))[0]),i=null==r[1]?null:v(r[1]),s[n]=i;return s}(e);for(let e in n)t[e]=n[e];return t}(e)}catch(e){}let E="unknown";if((null==w?void 0:w.tgWebAppPlatform)&&(E=null!=(n=w.tgWebAppPlatform)?n:"unknown"),"unknown"===E){let e=g();E=null!=(o=null==(s=null==(i=null==e?void 0:e.Telegram)?void 0:i.WebApp)?void 0:s.platform)?o:"unknown"}function C(){var e;return"unknown"!==E||!!(null==(e=g())?void 0:e.TelegramWebviewProxy)}},2354:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(52321),i=r(32973);let s=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.ATTRIBUTE||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(void 0===this.st){for(let r in this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(e=>""!==e))),t)t[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(t)}let r=e.element.classList;for(let e of this.st)e in t||(r.remove(e),this.st.delete(e));for(let e in t){let n=!!t[e];n===this.st.has(e)||this.nt?.has(e)||(n?(r.add(e),this.st.add(e)):(r.remove(e),this.st.delete(e)))}return n.c0}})},2447:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.MartainWalletAdapter=void 0;let i=r(74717),s=r(42316),o=r(14903),a=r(16919),c=r(71994);class l extends i.BaseAptosWalletAdapter{get readyState(){throw Error("Method not implemented.")}constructor(){super(),this.name="Martian",this.icon="https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/martian.png",this.url="",this._version="unknown",this._readyState="undefined"==typeof window||"undefined"==typeof document?s.WalletReadyState.Unsupported:s.WalletReadyState.NotDetected,this._provider="undefined"!=typeof window?window.martian:void 0,this._network=void 0,this._connecting=!1,this._wallet=null,"undefined"!=typeof window&&this._readyState!==s.WalletReadyState.Unsupported&&(0,a.scopePollingDetectionStrategy)(()=>!!window.martian&&(this._readyState=s.WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0))}get publicAccount(){var e,t,r;return{publicKey:(null==(e=this._wallet)?void 0:e.publicKey)||null,address:(null==(t=this._wallet)?void 0:t.address)||null,authKey:(null==(r=this._wallet)?void 0:r.authKey)||null}}get connecting(){return this._connecting}get version(){return this._version}get network(){return{name:this._network,chainId:this._chainId}}onAccountChange(e){return n(this,void 0,void 0,function*(){try{let e=this._wallet,t=this._provider||window.martian;if(!e||!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let r=e=>n(this,void 0,void 0,function*(){let{publicKey:r}=yield null==t?void 0:t.account();this._wallet=Object.assign(Object.assign({},this._wallet),{address:e,publicKey:r})});yield null==t?void 0:t.onAccountChange(r)}catch(e){throw e.message,e}(0,c.logDebug)("MartainWalletAdapter.onAccountChange()")})}onNetworkChange(){return n(this,void 0,void 0,function*(){(0,c.logDebug)("MartainWalletAdapter.onNetworkChange()")})}connect(){return n(this,void 0,void 0,function*(){try{if(this._readyState!==s.WalletReadyState.Loadable&&this._readyState!==s.WalletReadyState.Installed)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if(this.connecting)return;if(this.connected)return void(yield this.initNetWork());this._connecting=!0;let e=this._provider||window.martian;if((yield null==e?void 0:e.isConnected())&&(yield null==e?void 0:e.disconnect()),!(yield null==e?void 0:e.connect()))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);yield this.initNetWork()}catch(e){throw e}finally{this._connecting=!1}})}initNetWork(){return n(this,void 0,void 0,function*(){let e=this._provider||window.martian,t=yield null==e?void 0:e.account();if(t){this._wallet=Object.assign(Object.assign({},t),{isConnected:!0});let r=yield null==e?void 0:e.network(),{chainId:n}=yield e.getChainId();this._network=r,this._chainId=n.toString()}})}disconnect(){return n(this,void 0,void 0,function*(){let e=this._wallet,t=this._provider||window.martian;if(e){this._wallet=null;try{yield null==t?void 0:t.disconnect()}catch(e){}}})}signAndSubmitTransaction(e,t){return n(this,void 0,void 0,function*(){try{let r=this._wallet,n=this._provider||window.martian;if(!r||!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let i=yield n.generateTransaction(r.address||"",e,t);if(!i)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"generate transaction error");let s=yield null==n?void 0:n.signAndSubmitTransaction(i);if(!s)throw Error("No response");return{hash:s}}catch(e){throw e}})}signTransaction(e,t){return n(this,void 0,void 0,function*(){try{let r=this._wallet,n=this._provider||window.martian;if(!r||!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let i=yield n.generateTransaction(r.address||"",e,t);if(!i)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"generate transaction error");let s=yield null==n?void 0:n.signTransaction(i);if(!s)throw Error("No response");return s}catch(e){throw e}})}signMessage(e){return n(this,void 0,void 0,function*(){try{let t=this._wallet,r=this._provider||window.martian;if(!t||!r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if("object"!=typeof e||!e.nonce)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"Invalid signMessage Payload");let n=yield null==r?void 0:r.signMessage(e);if(n)return n;throw Error("Sign Message failed")}catch(e){throw e}})}}t.MartainWalletAdapter=l},2497:function(e,t,r){var n;n=r(16611),r(9956),r(11816),r(93524),r(99229),function(){var e=n.lib.StreamCipher,t=n.algo,r=t.RC4=e.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;for(var i=0,s=0;i<256;i++){var o=i%r,a=t[o>>>2]>>>24-o%4*8&255;s=(s+n[i]+a)%256;var c=n[i];n[i]=n[s],n[s]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[r],e[r]=s,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}n.RC4=e._createHelper(r);var s=t.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});n.RC4Drop=e._createHelper(s)}(),e.exports=n.RC4},2648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(12590);n.__exportStar(r(48543),t),n.__exportStar(r(25939),t)},3515:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(66575);function i(e){return(0,n.M)({...e,state:!0,attribute:!1})}},3824:(e,t,r)=>{"use strict";let n;r.d(t,{x:()=>C});var i=r(12661),s=r(98866),o=r(45553),a=r(65103),c=r(71305),l=r(4768),d=r(16323),h=r(12319),u=r(58653),p=r(36964),f=r(58051),g=r(93481),m=r(10899),y=r(70417),b=r(81701),v=r(67869),w=r(24369);let E=(0,i.BX)({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"}),C=(0,p.X)({state:E,subscribe:e=>(0,i.B1)(E,()=>e(E)),subscribeKey:(e,t)=>(0,s.u$)(E,e,t),_getClient:()=>E._client,setClient(e){E._client=(0,i.KR)(e)},initialize(e){let t=e.filter(e=>!!e.namespace).map(e=>e.namespace);C.syncStorageConnections(t)},syncStorageConnections(e){let t=u.i.getConnections();for(let r of e??Array.from(g.W.state.chains.keys())){let e=t[r]??[],n=new Map(E.recentConnections);n.set(r,e),E.recentConnections=n}},getConnections:e=>e?E.connections.get(e)??[]:[],hasAnyConnection:e=>Array.from(C.state.connections.values()).flatMap(e=>e).some(({connectorId:t})=>t===e),async connectWalletConnect({cache:e="auto"}={}){let t=h.w.isTelegram()||h.w.isSafari()&&h.w.isIos();if("always"===e||"auto"===e&&t){if(n){await n,n=void 0;return}if(!h.w.isPairingExpired(E?.wcPairingExpiry)){let e=E.wcUri;E.wcUri=e;return}n=C._getClient()?.connectWalletConnect?.().catch(()=>void 0),C.state.status="connecting",await n,n=void 0,E.wcPairingExpiry=void 0,C.state.status="connected"}else await C._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,r=!0){let n=await C._getClient()?.connectExternal?.(e);return r&&g.W.setActiveNamespace(t),n},async reconnectExternal(e){await C._getClient()?.reconnectExternal?.(e);let t=e.chain||g.W.state.activeChain;t&&m.a.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;b.W.setLoading(!0,g.W.state.activeChain);let r=m.a.getAuthConnector();r&&(f.U.setPreferredAccountType(e,t),await r.provider.setPreferredAccount(e),u.i.setPreferredAccountTypes(Object.entries(g.W.state.chains).reduce((e,[t,r])=>{let n=(0,c.lj)(t);return void 0!==n&&(e[t]=n),e},{})),await C.reconnectExternal(r),b.W.setLoading(!1,g.W.state.activeChain),y.E.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:g.W.state.activeCaipNetwork?.caipNetworkId||""}}))},signMessage:async e=>C._getClient()?.signMessage(e),parseUnits:(e,t)=>C._getClient()?.parseUnits(e,t),formatUnits:(e,t)=>C._getClient()?.formatUnits(e,t),updateBalance:e=>C._getClient()?.updateBalance(e),sendTransaction:async e=>C._getClient()?.sendTransaction(e),getCapabilities:async e=>C._getClient()?.getCapabilities(e),grantPermissions:async e=>C._getClient()?.grantPermissions(e),walletGetAssets:async e=>C._getClient()?.walletGetAssets(e)??{},estimateGas:async e=>C._getClient()?.estimateGas(e),writeContract:async e=>C._getClient()?.writeContract(e),getEnsAddress:async e=>C._getClient()?.getEnsAddress(e),getEnsAvatar:async e=>C._getClient()?.getEnsAvatar(e),checkInstalled:e=>C._getClient()?.checkInstalled?.(e)||!1,resetWcConnection(){E.wcUri=void 0,E.wcPairingExpiry=void 0,E.wcLinking=void 0,E.recentWallet=void 0,E.status="disconnected",w.W.resetTransactions(),u.i.deleteWalletConnectDeepLink()},resetUri(){E.wcUri=void 0,E.wcPairingExpiry=void 0,n=void 0},finalizeWcConnection(e){let{wcLinking:t,recentWallet:r}=C.state;t&&u.i.setWalletConnectDeepLink(t),r&&u.i.setAppKitRecent(r),e&&y.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:v.I.state.data?.wallet?.name||"Unknown"}})},setWcBasic(e){E.wcBasic=e},setUri(e){E.wcUri=e,E.wcPairingExpiry=h.w.getPairingExpiry()},setWcLinking(e){E.wcLinking=e},setWcError(e){E.wcError=e,E.buffering=!1},setRecentWallet(e){E.recentWallet=e},setBuffering(e){E.buffering=e},setStatus(e){E.status=e},setIsSwitchingConnection(e){E.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:r}={}){try{await C._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:r})}catch(e){throw new p.A("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(e,t){let r=new Map(E.connections);r.set(t,e),E.connections=r},async handleAuthAccountSwitch({address:e,namespace:t}){let r=f.U.state.user?.accounts?.find(e=>"smartAccount"===e.type),n=r&&r.address.toLowerCase()===e.toLowerCase()&&d.g.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await C.setPreferredAccountType(n,t)},async handleActiveConnection({connection:e,namespace:t,address:r}){let n=m.a.getConnectorById(e.connectorId),i=e.connectorId===o.o.CONNECTOR_ID.AUTH;if(!n)throw Error(`No connector found for connection: ${e.connectorId}`);if(i)i&&r&&await C.handleAuthAccountSwitch({address:r,namespace:t});else{let e=await C.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:t},t);return e?.address}return r},async handleDisconnectedConnection({connection:e,namespace:t,address:r,closeModalOnConnect:n}){let i,s=m.a.getConnectorById(e.connectorId),a=e.auth?.name?.toLowerCase(),c=e.connectorId===o.o.CONNECTOR_ID.AUTH,l=e.connectorId===o.o.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw Error(`No connector found for connection: ${e.connectorId}`);if(c)if(a&&d.g.isSocialProvider(a)){let{address:e}=await d.g.connectSocial({social:a,closeModalOnConnect:n,onOpenFarcaster(){b.W.open({view:"ConnectingFarcaster"})},onConnect(){v.I.replace("ProfileWallets")}});i=e}else{let{address:e}=await d.g.connectEmail({closeModalOnConnect:n,onOpen(){b.W.open({view:"EmailLogin"})},onConnect(){v.I.replace("ProfileWallets")}});i=e}else if(l){let{address:e}=await d.g.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:n,onOpen(e){let t=e?"AllWallets":"ConnectingWalletConnect";b.W.state.open?v.I.push(t):b.W.open({view:t})},onConnect(){v.I.replace("ProfileWallets")}});i=e}else{let e=await C.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);e&&(i=e.address)}return c&&r&&await C.handleAuthAccountSwitch({address:r,namespace:t}),i},async switchConnection({connection:e,address:t,namespace:r,closeModalOnConnect:n,onChange:i}){let s,o=f.U.getCaipAddress(r);if(o){let{address:e}=a.C.parseCaipAddress(o);s=e}let c=l.b.getConnectionStatus(e,r);switch(c){case"connected":case"active":{let n=await C.handleActiveConnection({connection:e,namespace:r,address:t});if(s&&n){let e=n.toLowerCase()!==s.toLowerCase();i?.({address:n,namespace:r,hasSwitchedAccount:e,hasSwitchedWallet:"active"===c})}break}case"disconnected":{let s=await C.handleDisconnectedConnection({connection:e,namespace:r,address:t,closeModalOnConnect:n});s&&i?.({address:s,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw Error(`Invalid connection status: ${c}`)}}})},4058:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>o,J8:()=>a,MU:()=>c});var n=r(59350),i=r(13933),s=r(24250);class o extends i.C{constructor({body:e,cause:t,details:r,headers:i,status:o,url:a}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${(0,s.I)(a)}`,e&&`Request body: ${(0,n.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=o,this.url=a}}i.C;class a extends i.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,s.I)(r)}`,`Request body: ${(0,n.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}i.C;class c extends i.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,s.I)(t)}`,`Request body: ${(0,n.A)(e)}`],name:"TimeoutError"})}}},4078:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeConnectionStorage=void 0;let i=r(79864);class s{constructor(e){this.storage=e,this.storeKey="ton_connect_info_adapter_universal"}storeConnection(e){return n(this,void 0,void 0,function*(){return(0,i.logDebug)("BridgeConnectionStorage ==>> storeConnection ==>> connection:",e),this.storage.saveContent(JSON.stringify(e),this.storeKey)})}removeConnection(){return n(this,void 0,void 0,function*(){return(0,i.logDebug)("BridgeConnectionStorage ==>> removeConnection"),this.storage.clearCache(this.storeKey)})}getConnection(){return n(this,void 0,void 0,function*(){let e=this.storage.getItem(this.storeKey);if((0,i.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>this.storage: ",this.storage),!e||!(null==e?void 0:e.content))return null;try{let t=null==e?void 0:e.content;if(!t)return null;{let e;return e=JSON.parse(t),(0,i.logDebug)("BridgeConnectionStorage ==>> getConnection ==>>connection: ",e),e}}catch(e){return null}})}getHttpConnection(){return n(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Trying to read HTTP connection source while nothing is stored");return e})}storeLastWalletEventId(e){return n(this,void 0,void 0,function*(){let t=yield this.getConnection();if(t&&"connectEvent"in t)return t.lastWalletEventId=e,this.storeConnection(t)})}getLastWalletEventId(){return n(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}}t.BridgeConnectionStorage=s},4138:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXBtcProvider=void 0;let i=r(88478),s=r(79864);class o{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e}getAddressForChainId(e){var t,r;if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let n=null==(r=null==(t=this.provider.session)?void 0:t.namespaces.btc)?void 0:r.accounts.filter(function(t){return t.startsWith(e)});if(void 0==n||n.length<0)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return n[0].split(":")[2]}getAccount(e){var t,r,n;if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let s=null==(n=null==(r=null==(t=this.provider.session)?void 0:t.namespaces.btc)?void 0:r.extra)?void 0:n[e],o="";return void 0!=s&&(o=s.compressedPublicKey),{address:this.getAddressForChainId(e),publicKey:o}}signMessage(e,t,r){return n(this,void 0,void 0,function*(){if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let n={signStr:t,from:this.getAddressForChainId(e)};r&&(n.type=r);try{let t=yield this.provider.request({method:"btc_signMessage",params:n},e);if("result"in t)return t.result;return t.error}catch(e){if(e instanceof i.OKXConnectError)throw e;throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendBitcoin(e,t,r,s){return n(this,void 0,void 0,function*(){if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let n={from:this.getAddressForChainId(e),to:t,value:(r/1e8).toString()};(null==s?void 0:s.feeRate)&&(n.satBytes=s.feeRate.toString());let o=yield this.send(e,n);return void 0!==o&&"txhash"in o?o.txhash:o})}send(e,t){return n(this,void 0,void 0,function*(){if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(t,"to","value"))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");t.from=this.getAddressForChainId(e);try{let r=yield this.provider.request({method:"btc_send",params:t},e);if("result"in r)return{txhash:r.result};return r.error}catch(e){if(e instanceof i.OKXConnectError)throw e;throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}})}signPsbt(e,t,r){return n(this,void 0,void 0,function*(){return new Promise((n,i)=>{this.signPsbts(e,[t],[r]).then(e=>{n(JSON.parse(e)[0])}).catch(e=>{i(e)})})})}signPsbts(e,t,r){return n(this,void 0,void 0,function*(){if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let n={psbtHexs:t,options:r};n.from=this.getAddressForChainId(e);try{let t=yield this.provider.request({method:"btc_signPsbts",params:n},e);if("result"in t)return t.result}catch(e){if(e instanceof i.OKXConnectError)throw e;throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}})}signAndPushPsbt(e,t,r){return n(this,void 0,void 0,function*(){if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let n={psbtHex:t,options:r};n.from=this.getAddressForChainId(e);try{let t=yield this.provider.request({method:"btc_signAndPushPsbt",params:n},e);if("result"in t)return JSON.parse(t.result);return t.error}catch(e){if(e instanceof i.OKXConnectError)throw e;throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${e}`)}})}sendInscription(e,t,r,s){return n(this,void 0,void 0,function*(){let n={address:t,inscriptionId:r,options:s};if(void 0==this.checkChainId(e))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var o=0;s&&"feeRate"in s&&(o=s.feeRate);let a=this.getAddressForChainId(e);var c=7;if("undefined"!==r){let e="-Atomicals",t="-Ordinals";(null==r?void 0:r.toLowerCase().endsWith(e.toLowerCase()))?(c=8,r=this.removeSuffix(r,e)):(null==r?void 0:r.toLowerCase().endsWith(t.toLowerCase()))&&(r=this.removeSuffix(r,t))}let l={scenario:5,feeRate:o,txType:"20",to:t,batchBean:[{coinAmount:"1",nftId:r,protocolId:c,coinId:"",inscriptionId:"",from:a}],extension:n};try{let n=yield this.provider.request({method:"btc_sendInscription",params:l,injectParams:{address:t,inscriptionId:r,options:s}},e);if("result"in n)return n.result;return n.error}catch(e){if(e instanceof i.OKXConnectError)throw e;throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}})}sendRunes(e,t,r,o,a){return n(this,void 0,void 0,function*(){try{let n;if(!e||!t||!r||!o)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let c=this.checkChainId(e);if(void 0!=c&&(c.startsWith("btc")?n=13:c.startsWith("fractal")&&(n=16)),void 0==c||void 0==n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let l={fromAddress:this.getAddressForChainId(e),protocolId:n,address:t,runeid:r,amount:o,options:a};return(0,s.logDebug)("OKXBtcProvider sendRunes --\x3e",JSON.stringify(l)),(yield this.provider.request({method:"btc_sendRunes",params:l,injectParams:{address:t,runeid:r,amount:o,options:a}},e)).result}catch(e){throw e}})}inscribeTransfer(e,t,r){return n(this,void 0,void 0,function*(){try{let n;if(!e||!t||!r)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"The parameter is empty. Please check");let o=this.checkChainId(e);if(void 0!=o&&(o.startsWith("btc")?n=1:o.startsWith("fractal")&&(n=14)),void 0==o||void 0==n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a={fromAddress:this.getAddressForChainId(e),protocolId:n,ticker:t,amount:r};(0,s.logDebug)("OKXBtcProvider inscribeTransfer --\x3e",JSON.stringify(a)),yield this.provider.request({method:"btc_inscribeTransfer",params:a},e)}catch(e){throw e}})}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e,...t){var r=[];return t.forEach(t=>{`${t}`in e||r.push(t)}),!(r.length>0)||(console.log("not find key: ",r.join(",")),!1)}checkChainId(e){if(this.caip.includes(e)){let[t,r]=e.split(":");return t}}}t.OKXBtcProvider=o,t.default=o},4380:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4486:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>o,E5:()=>h,Rm:()=>l,SJ:()=>c,UW:()=>d,b2:()=>i,oX:()=>a,v2:()=>n,xw:()=>u});let n=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],i=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],s=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],o=[...s,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],a=[...s,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],c=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],l=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],d=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],h=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],u=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]},4609:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletStandardErrorMessages=void 0;let n=r(14449);t.WalletStandardErrorMessages={[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED]:"The wallet account $address does not support the chain `$chain`",[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED]:"The wallet account $address does not support the `$featureName` feature",[n.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED]:"The wallet '$walletName' does not support the `$featureName` feature",[n.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND]:"No account with address $address could be found in the '$walletName' wallet",[n.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND]:"No underlying Wallet Standard wallet could be found for this handle. This can happen if the wallet associated with the handle has been unregistered.",[n.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED]:"The user rejected the request"}},4707:function(e,t,r){var n,i,s;n=r(16611),r(99229),n.mode.OFB=(s=(i=n.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(s,0);for(var o=0;o<n;o++)e[t+o]^=s[o]}}),i.Decryptor=s,i),e.exports=n.mode.OFB},4768:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var n=r(3824),i=r(10899),s=r(55480);let o={getConnectionStatus(e,t){let r=i.a.state.activeConnectorIds[t],s=n.x.getConnections(t);return r&&e.connectorId===r?"connected":s.some(t=>t.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections:({connections:e,connectorId:t,addresses:r})=>e.map(e=>{if(t&&e.connectorId.toLowerCase()===t.toLowerCase()&&r){let t=e.accounts.filter(e=>!r.some(t=>t.toLowerCase()===e.address.toLowerCase()));return{...e,accounts:t}}return e}),excludeExistingConnections(e,t){let r=new Set(e);return t.filter(e=>!r.has(e.connectorId))},getConnectionsByConnectorId:(e,t)=>e.filter(e=>e.connectorId.toLowerCase()===t.toLowerCase()),getConnectionsData(e){let t=!!s.H.state.remoteFeatures?.multiWallet,r=i.a.state.activeConnectorIds[e],a=n.x.getConnections(e),c=(n.x.state.recentConnections.get(e)??[]).filter(e=>i.a.getConnectorById(e.connectorId)),l=o.excludeExistingConnections([...a.map(e=>e.connectorId),...r?[r]:[]],c);return t?{connections:a,recentConnections:l}:{connections:a.filter(e=>e.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}}},5124:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0});let s=r(99766),o=r(79864),a=r(90794),c=r(19476),l=r(30697);class d{constructor(e,t,r){this.name=o.NameSpaceKeyTON,this.namespace=e.namespace,this.events=r,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}request(e){return n(this,void 0,void 0,function*(){var t,r,n,s;if((0,o.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,o.logDebug)("TONProvider request provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method)){if(!e.params)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){let a=e.params,{validUntil:c}=a,l=i(a,["validUntil"]),d=null==(r=null==(t=this.namespace.payload)?void 0:t.ton_addr)?void 0:r.address;"from"in l&&(d=l.from||(null==(s=null==(n=this.namespace.payload)?void 0:n.ton_addr)?void 0:s.address)),e.params.from=d,e.params.network=this.getDefaultChain(),e.params.valid_until=c;let h=yield this.client.request(e);if(this.isRecord(h)&&"result"in h){let e={boc:h.result.toString()};return(0,o.logDebug)("TONProvider request provider response: ",JSON.stringify(h)),(0,o.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)})}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(s.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;let r=this.namespace.accounts;if((0,o.logDebug)("ton getAccounts accounts :",r),(0,o.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!r)return[];let n=null==(t=null==(e=this.namespace.payload)?void 0:e.ton_addr)?void 0:t.address;return((0,o.logDebug)("ton getAccounts address :",n),n)?[n]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,a.getChainId)(t),n=(0,a.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,o.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&((0,o.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new l.JsonRpcProvider(new c.JsonRpcConnection(t,(0,a.getGlobal)("disableProviderPing")));(0,o.logDebug)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return"ton_sendTransaction"===e.method}}t.default=d},5566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(12590);n.__exportStar(r(2648),t),n.__exportStar(r(38053),t),n.__exportStar(r(90332),t),n.__exportStar(r(25648),t)},5676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(46307),i=r(51113);class s{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}t.SystemRandomSource=s},5988:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=t.createVersionInfo=t.BrowserEventDispatcher=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=t.OKXTonConnect=void 0;var s=r(93041);Object.defineProperty(t,"OKXTonConnect",{enumerable:!0,get:function(){return s.OKXTonConnect}}),i(r(79864),t);var o=r(36115);Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return o.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}}),Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return o.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return o.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return o.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return o.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return o.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return o.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return o.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return o.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return o.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return o.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return o.BrowserEventDispatcher}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return o.createVersionInfo}});var a=r(34182);Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return a.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return a.removeUrlLastSlash}}),Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return a.toUserFriendlyAddress}})},6578:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(12661),i=r(98866);let s=(0,n.BX)({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),o={state:s,subscribe:e=>(0,n.B1)(s,()=>e(s)),subscribeOpen:e=>(0,i.u$)(s,"open",e),set(e){Object.assign(s,{...s,...e})}}},6948:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXAppCommonConnector=t.OKXWalletAppConnector=t.ThirdpartInjectConnector=t.OkxwalletInjectTonsdkConnector=t.OkxwalletInjectConnector=t.WsConnector=t.TgwalletConnector=t.InjectConnector=t.OKXAppConnector=void 0;var s=r(82454);Object.defineProperty(t,"OKXAppConnector",{enumerable:!0,get:function(){return s.OKXAppConnector}}),i(r(55982),t);var o=r(62016);Object.defineProperty(t,"InjectConnector",{enumerable:!0,get:function(){return o.InjectConnector}});var a=r(78171);Object.defineProperty(t,"TgwalletConnector",{enumerable:!0,get:function(){return a.TgwalletConnector}});var c=r(7769);Object.defineProperty(t,"WsConnector",{enumerable:!0,get:function(){return c.WsConnector}});var l=r(56901);Object.defineProperty(t,"OkxwalletInjectConnector",{enumerable:!0,get:function(){return l.OkxwalletInjectConnector}});var d=r(16740);Object.defineProperty(t,"OkxwalletInjectTonsdkConnector",{enumerable:!0,get:function(){return d.OkxwalletInjectTonsdkConnector}});var h=r(30020);Object.defineProperty(t,"ThirdpartInjectConnector",{enumerable:!0,get:function(){return h.ThirdpartInjectConnector}});var u=r(28352);Object.defineProperty(t,"OKXWalletAppConnector",{enumerable:!0,get:function(){return u.OKXWalletAppConnector}});var p=r(42087);Object.defineProperty(t,"OKXAppCommonConnector",{enumerable:!0,get:function(){return p.OKXAppCommonConnector}})},7152:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r,n){this.name="aptos",this.namespace=e.namespace,this.events=n,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("aptos request --args--string>",(0,s.safeJsonStringify)(e)),(0,s.logDebug)("aptos provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))return this.client.request(e);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}t.default=l},7580:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(50167),t),i(r(16182),t),i(r(971),t)},7769:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.WsConnector=void 0;let i=r(14441),s=r(75260);class o{constructor(){this.disconnectListener=[],this.walletName="",this.walletNameKey="",this.enable=!0,this.icon="",this.pendingRequests=new Map,(0,s.getDefaultReporter)().beginReport()}setOpenWalletCalled(e){this.openWalletCalledListener=e}setAccountChangeListener(e){this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}addConnectionListener(){var e;null==(e=this.connectionManager)||e.addListener("sdk_response",(e,t)=>{var r=(0,i.safeJsonParse)(t);(0,s.logDebug)(`Engine ==>> addListener ==> success ==> ${r}`),this.handleResponse(e,r)},function(){})}addDisconnectListener(e){this.disconnectListener.push(e)}connectManagerDisconnect(){return n(this,arguments,void 0,function*(e=!1){var t;yield null==(t=this.connectionManager)?void 0:t.disconnect(e)})}openWallet(e,t){var r;null==(r=this.openWalletCalledListener)||r.call(this,this)}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,t,r){return n(this,void 0,void 0,function*(){var n,o;try{delete e.injectParams}catch(e){}(0,s.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));let a=this.getRequestId();try{let c=yield null==(n=this.connectionManager)?void 0:n.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:a})),r);c&&(null==(o=this.connectionManager)||o.events.once(c.toString(),e=>{var r;(0,s.logDebug)(`Engine ==> send => onAck => ${(0,i.safeJsonStringify)(e)}`),e&&e.result&&(null==(r=t.onAck)||r.call(t))})),t.resolve&&this.bindRequestForPromise(a,t.resolve)}catch(e){return Promise.reject(e)}})}restoreconnect(e,t){return n(this,void 0,void 0,function*(){var r;yield null==(r=this.connectionManager)?void 0:r.restoreConnect(e.topic),t(e)})}restoreconnectFromTopic(e){return n(this,void 0,void 0,function*(){var t;yield null==(t=this.connectionManager)?void 0:t.restoreConnect(e)})}getRequestId(){let e=Date.now().toString();return(0,s.logDebug)("Engine ==>> getRequestId ==>",e),e}handleResponse(e,t){if((0,s.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,i.safeJsonStringify)(t)}`,e),"requestId"in t){(0,s.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId,r=this.pendingRequests.get(e);r?((0,s.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",r),r(t),this.pendingRequests.delete(e)):((0,s.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach(e=>e()),this.disconnectListener=[],this.clearData()))}}getCurrentConnectionReady(){var e;return!!(null==(e=this.connectionManager)?void 0:e.getCurrentConnectionReady())}saveSessionContent(e,t){var r;null==(r=this.connectionManager)||r.saveSessionContent(e,t)}getSessionContent(e){var t;return null==(t=this.connectionManager)?void 0:t.getSessionContent(e)}setOnConnectResultListener(e){this.connectResultListener=e}getTag(){return""}toJSON(){return"ws-connector"}clearData(){this.pendingRequests.clear()}}t.WsConnector=o},7873:(e,t,r)=>{let n=r(85268),i=r(15063);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},8318:(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var n=r(45553),i=r(58051),s=r(93481),o=r(10899),a=r(67869);let c={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let r=s.W.state.activeCaipNetwork,c=a.I.state.data;if(e.id===r?.id)return;let l=i.U.getCaipAddress(s.W.state.activeChain),d=e.chainNamespace!==s.W.state.activeChain,h=i.U.getCaipAddress(e.chainNamespace),u=o.a.getConnectorId(s.W.state.activeChain)===n.o.CONNECTOR_ID.AUTH,p=n.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>t===e.chainNamespace);t||u&&p?a.I.push("SwitchNetwork",{...c,network:e}):l&&d&&!h?a.I.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):a.I.push("SwitchNetwork",{...c,network:e})}}},8567:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});let n={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:r(45553).o.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH",getSDKVersionWarningMessage:(e,t)=>`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}},8821:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n={getSpacingStyles:(e,t)=>Array.isArray(e)?e[t]?`var(--apkt-spacing-${e[t]})`:void 0:"string"==typeof e?`var(--apkt-spacing-${e})`:void 0,getFormattedDate:e=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e),formatCurrency(e=0,t={}){let r=Number(e);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(r)},getHostName(e){try{return new URL(e).hostname}catch(e){return""}},getTruncateString:({string:e,charsStart:t,charsEnd:r,truncate:n})=>e.length<=t+r?e:"end"===n?`${e.substring(0,t)}...`:"start"===n?`...${e.substring(e.length-r)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(r))}`,generateAvatarColors(e){let t=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),r=this.hexToRgb(t),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(n?.replace("px","")),s=`${i}% ${i}% at 65% 40%`,o=[];for(let e=0;e<5;e+=1){let t=this.tintColor(r,.15*e);o.push(`rgb(${t[0]}, ${t[1]}, ${t[2]})`)}return`
    --local-color-1: ${o[0]};
    --local-color-2: ${o[1]};
    --local-color-3: ${o[2]};
    --local-color-4: ${o[3]};
    --local-color-5: ${o[4]};
    --local-radial-circle: ${s}
   `},hexToRgb(e){let t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]},tintColor(e,t){let[r,n,i]=e;return[Math.round(r+(255-r)*t),Math.round(n+(255-n)*t),Math.round(i+(255-i)*t)]},isNumber:e=>/^[0-9]+$/u.test(e),getColorTheme:e=>e?e:"undefined"!=typeof window&&window.matchMedia&&"function"==typeof window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark",splitBalance(e){let t=e.split(".");return 2===t.length?[t[0],t[1]]:["0","00"]},roundNumber:(e,t,r)=>e.toString().length>=t?Number(e).toFixed(r):e,cssDurationToNumber:e=>e.endsWith("s")?1e3*Number(e.replace("s","")):e.endsWith("ms")?Number(e.replace("ms","")):0}},9196:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TonConnectTracker=void 0;let i=r(44006),s=r(35676);class o{get version(){return(0,i.createVersionInfo)({okx_ton_connect_sdk_lib:this.OKXtonConnectSdkVersion,okx_connect_ui_lib:this.OKXConnectUiVersion})}constructor(e){this.eventPrefix="okx-ton-connect-",this.OKXConnectUiVersion=null,this.eventDispatcher=new s.BrowserEventDispatcher,this.OKXtonConnectSdkVersion=e.OKXtonConnectSdkVersion,this.init().catch()}init(){return n(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.OKXConnectUiVersion=yield this.requestTonConnectUiVersion()}catch(e){}})}setRequestVersionHandler(){return n(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("okx-ton-connect-request-version",()=>n(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("okx-ton-connect-response-version",(0,i.createResponseVersionEvent)(this.OKXtonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>n(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("okx-connect-ui-response-version",t=>{e(t.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("okx-connect-ui-request-version",(0,i.createRequestVersionEvent)())}catch(e){t(e)}}))})}dispatchUserActionEvent(e){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${e.type}`,e).catch()}catch(e){}}trackConnectionStarted(...e){try{let t=(0,i.createConnectionStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionDeepLink(...e){try{let t=(0,i.createConnectionDeepLinkEvent)(...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionCompleted(...e){try{let t=(0,i.createConnectionCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionInfoBeforeJump(e){try{let t=(0,i.createConnectionInfoBeforeJumpEvent)(e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionError(...e){try{let t=(0,i.createConnectionErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringStarted(...e){try{let t=(0,i.createConnectionRestoringStartedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringCompleted(...e){try{let t=(0,i.createConnectionRestoringCompletedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackConnectionRestoringError(...e){try{let t=(0,i.createConnectionRestoringErrorEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackDisconnection(...e){try{let t=(0,i.createDisconnectionEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSentForSignature(...e){try{let t=(0,i.createTransactionSentForSignatureEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigned(...e){try{let t=(0,i.createTransactionSignedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}trackTransactionSigningFailed(...e){try{let t=(0,i.createTransactionSigningFailedEvent)(this.version,...e);this.dispatchUserActionEvent(t)}catch(e){}}}t.TonConnectTracker=o},9490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(57382);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function s(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function o(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function d(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function u(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),d(e/0x100000000>>>0,t,r),d(e>>>0,t,r+4),t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/0x100000000>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=s,t.writeInt16LE=s,t.readInt32BE=o,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=l,t.writeUint32BE=d,t.writeInt32BE=d,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=o(e,t),n=o(e,t+4);return 0x100000000*r+n-(n>>31)*0x100000000},t.readUint64BE=function(e,t){return void 0===t&&(t=0),0x100000000*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 0x100000000*c(e,t+4)+r-(r>>31)*0x100000000},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 0x100000000*l(e,t+4)+r},t.writeUint64BE=u,t.writeInt64BE=u,t.writeUint64LE=p,t.writeInt64LE=p,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var s=1,o=e/8+i-1;o>=i;o--)r[o]=t/s&255,s*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+e/8;o++)r[o]=t/s&255,s*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},9748:function(e,t,r){var n;n=r(16611),r(99229),n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([0x80000000],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},e.exports=n.pad.Iso97971},9956:function(e,t,r){var n,i;i=(n=r(16611)).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],s=0;s<r;s+=3)for(var o=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<r;a++)i.push(n.charAt(o>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var s=0;s<r.length;s++)n[r.charCodeAt(s)]=s}var o=r.charAt(64);if(o){var a=e.indexOf(o);-1!==a&&(t=a)}for(var c=e,l=t,d=n,h=[],u=0,p=0;p<l;p++)if(p%4){var f=d[c.charCodeAt(p-1)]<<p%4*2|d[c.charCodeAt(p)]>>>6-p%4*2;h[u>>>2]|=f<<24-u%4*8,u++}return i.create(h,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=n.enc.Base64},10156:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r){this.name=s.NameSpaceKeyTron,this.namespace=e.namespace,this.events=r,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("tron request --args--string>",JSON.stringify(e)),(0,s.logDebug)("tron provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))return this.client.request(e);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}t.default=l},10899:(e,t,r)=>{"use strict";r.d(t,{a:()=>E});var n=r(12661),i=r(98866),s=r(76190),o=r(45553),a=r(52617),c=r(73537),l=r(71305),d=r(19831),h=r(58653),u=r(36964),p=r(72880),f=r(93481),g=r(55480),m=r(67869),y=r(45069);let b=Object.fromEntries(s.P.map(e=>[e,void 0])),v=Object.fromEntries(s.P.map(e=>[e,!0])),w=(0,n.BX)({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:b,filterByNamespaceMap:v}),E=(0,u.X)({state:w,subscribe:e=>(0,n.B1)(w,()=>{e(w)}),subscribeKey:(e,t)=>(0,i.u$)(w,e,t),initialize(e){e.forEach(e=>{let t=h.i.getConnectedConnectorId(e);t&&E.setConnectorId(t,e)})},setActiveConnector(e){e&&(w.activeConnector=(0,n.KR)(e))},setConnectors(e){e.filter(e=>!w.allConnectors.some(t=>t.id===e.id&&E.getConnectorName(t.name)===E.getConnectorName(e.name)&&t.chain===e.chain)).forEach(e=>{"MULTI_CHAIN"!==e.type&&w.allConnectors.push((0,n.KR)(e))});let t=E.getEnabledNamespaces(),r=E.getEnabledConnectors(t);w.connectors=E.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(w.filterByNamespaceMap).forEach(e=>{w.filterByNamespaceMap[e]=!1}),e.forEach(e=>{w.filterByNamespaceMap[e]=!0}),E.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){w.filterByNamespaceMap[e]=t,E.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=E.getEnabledNamespaces(),t=E.getEnabledConnectors(e),r=E.areAllNamespacesEnabled();w.connectors=E.mergeMultiChainConnectors(t),r?p.N.clearFilterByNamespaces():p.N.filterByNamespaces(e)},getEnabledNamespaces:()=>Object.entries(w.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e),getEnabledConnectors:e=>w.allConnectors.filter(t=>e.includes(t.chain)),areAllNamespacesEnabled:()=>Object.values(w.filterByNamespaceMap).every(e=>e),mergeMultiChainConnectors(e){let t=E.generateConnectorMapByName(e),r=[];return t.forEach(e=>{let t=e[0],n=t?.id===o.o.CONNECTOR_ID.AUTH;e.length>1&&t?r.push({name:t.name,imageUrl:t.imageUrl,imageId:t.imageId,connectors:[...e],type:n?"AUTH":"MULTI_CHAIN",chain:"eip155",id:t?.id||""}):t&&r.push(t)}),r},generateConnectorMapByName(e){let t=new Map;return e.forEach(e=>{let{name:r}=e,n=E.getConnectorName(r);if(!n)return;let i=t.get(n)||[];i.find(t=>t.chain===e.chain)||i.push(e),t.set(n,i)}),t},getConnectorName:e=>e&&({"Trust Wallet":"Trust"})[e]||e,getUniqueConnectorsByName(e){let t=[];return e.forEach(e=>{t.find(t=>t.chain===e.chain)||t.push(e)}),t},addConnector(e){if(e.id===o.o.CONNECTOR_ID.AUTH){let t=(0,n.P9)(g.H.state),r=y.W.getSnapshot().themeMode,i=y.W.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType}),e?.provider?.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:(0,a.o)(i,r)}),E.setConnectors([e])}else E.setConnectors([e])},getAuthConnector(e){let t=e||f.W.state.activeChain,r=w.connectors.find(e=>e.id===o.o.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(e=>e.chain===t):r},getAnnouncedConnectorRdns:()=>w.connectors.filter(e=>"ANNOUNCED"===e.type).map(e=>e.info?.rdns),getConnectorById:e=>w.allConnectors.find(t=>t.id===e),getConnector({id:e,rdns:t,namespace:r}){let n=r||f.W.state.activeChain;return w.allConnectors.filter(e=>e.chain===n).find(r=>r.explorerId===e||r.info?.rdns===t)},syncIfAuthConnector(e){if("ID_AUTH"!==e.id)return;let t=(0,n.P9)(g.H.state),r=y.W.getSnapshot().themeMode,i=y.W.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,sdkType:t.sdkType,projectId:t.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:(0,a.o)(i,r)})},getConnectorsByNamespace(e){let t=w.allConnectors.filter(t=>t.chain===e);return E.mergeMultiChainConnectors(t)},canSwitchToSmartAccount:e=>f.W.checkIfSmartAccountEnabled()&&(0,l.lj)(e)===c.Vl.ACCOUNT_TYPES.EOA,selectWalletConnector(e){let t=E.getConnector({id:e.id,rdns:e.rdns});d.W.handleMobileDeeplinkRedirect(t?.explorerId||e.id,f.W.state.activeChain),t?m.I.push("ConnectingExternal",{connector:t,wallet:e}):m.I.push("ConnectingWalletConnect",{wallet:e})},getConnectors:e=>e?E.getConnectorsByNamespace(e):E.mergeMultiChainConnectors(w.allConnectors),setFilterByNamespace(e){w.filterByNamespace=e,w.connectors=E.getConnectors(e),p.N.setFilterByNamespace(e)},setConnectorId(e,t){e&&(w.activeConnectorIds={...w.activeConnectorIds,[t]:e},h.i.setConnectedConnectorId(t,e))},removeConnectorId(e){w.activeConnectorIds={...w.activeConnectorIds,[e]:void 0},h.i.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return w.activeConnectorIds[e]},isConnected:e=>e?!!w.activeConnectorIds[e]:Object.values(w.activeConnectorIds).some(e=>!!e),resetConnectorIds(){w.activeConnectorIds={...b}}})},11620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wallets=t.WalletNames=void 0;let n=r(14903);t.WalletNames={BitKeep:"Bitget Wallet",Nightly:"Nightly",Petra:"Petra",Pontem:"Pontem Wallet",BackPack:"Backpack",Coin98:"Coin98",MagicEden:"Magic Eden",Phantom:"Phantom",Solflare:"Solflare",Trust:"Trust",AptosGoole:n.AptosGoogleWalletName,AptosApple:n.AptosAppleWalletName},t.wallets={[t.WalletNames.BitKeep]:{icon:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAggGCAgGCAgICAgICAcHCAgHCAkIBgYICAYIBggICAcICggICAgJBggICBYICAgICQsJBwkXGAoIDQcICQgBAwQEBgUGCAYGCA0ICQ0JCA4ICA4NDQ4JCAkICAgICggIDQgICAgICggICAgICg4ICAgICAgIDQgICAgICAgICP/AABEIAHgAeAMBEQACEQEDEQH/xAAcAAEBAAIDAQEAAAAAAAAAAAAACAEJAwQHBQL/xAA2EAACAgEDAgMDCQkBAAAAAAABAgADEQQFIQgxEhNBFDJRBiI0QmFjlbHUCRUZIyRDU1WBM//EABwBAQACAwEBAQAAAAAAAAAAAAABBgMHCAIFBP/EAD8RAAIBAgMFBAMNCAMAAAAAAAABAgMRBAVBBhIhMVETImFxB0KRFFJVYpKTorHB0tPh8BYXIzJDU4GhFSQz/9oADAMBAAIRAxEAPwDXPPtlUEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEAQBAEASCRJIEAQBAEAQBAEAQBIB+XfAJ+AJ478DMklK7SKw2X9n/fdTXbZu1NbuiuUr0TXIhYeLwrd7VV5gGfe8tM/ASzUshqVIqaqpXXLdbt9JfUaSx/pTwuExFSh7inPdk1v9pGO9bWzpS3b9N526s7v8PG3/AHNf4a362Zf2dq/3o/Jf3z5/738L8H1Pno/gHxvlX0C67T0vdpdfTrbVBYadtOdI1uBnw12tfehsPYLYK0JxmxBkzDWyGtTi5Rmpv3trf7cnp5eaPqZb6U8vxdaNKtQnhot27VzU0m+V1GnB2vzau0uUZPgTJrtC9DtTYjV2IxR0dSrowOCrKcEEH0MrcouLs1Z9DctOpGpFTg1KLV1JcU09VY4JB7EASAJIEAQBAEAQBAEAq7pV6ovZTXsu4v8A0/Fel1LnnTdgtNp9afQOeU7crjw2nKs0dNqlVfd0fTw8jR+3WxEcbGWPwUbVVd1YL+pq5r43Va81qWyrZAI5BAII5BB5BB9Rj1l6TTV0ctzpypycZKzT4roZnoxngPUt00V75W2u0qrXuCL9gXWKo4R/vAOA5/KVnNMrVZOpTVpa+JurYjbeeXyjg8W3Ki33Za02+nh16+Zr93Db3od6bUZLK2KOjjDoynBUg9iDKFKLi2nwfQ6qpVYVYKcGpRaTjJcmnqjrzwZBJAgCAIAgCAIAgCAIBWHS71VeymvZ9zs/kEhNNqnP0cngV3Mf7RPAf6p78HItWV5p2bVKq+GkunmaN232FjjIyxuBjaqk3OmvX6uNtdWvZ0LXU55HY8gjsZeU0+KOXalOVOTjJWa5ozPRjJ66nOmNd7U7jogqbii/OX3a9wRRwrHsuoUcLaeGGFbjy3prGaZWqydWkrS1XvvzN37DbcvL2sDjm5UG+5P1qTf1weq5p96PHejOBNw296Hem1GrsRijo4KujA4IZTyCDKHKLi2nweqOpaVWFWCnBqUWk4yXJp6o688mQQBAEAQBAEAQBAEAQCr+lbqjOlNezblYTQcJpdS5y2nPYU2seTV2AY8p25GMWnKs0dNqlVfd0fTwNHbc7ERxkZY7BRtVV3UprlP40UuT69ea1LYVs8jkHkEcgg8gg+ox6y9ppq6OXJ05U5OMlZp8UZkng8B6mOmmvfK212lVU3CtSeOF1iqPcf7zHAcysZplirJ1KatLVdTdOxG28svnHB4uW9Rb7snzpt6+Xh9pr51GnatmRgVZSVZTwVZT4SCPiCMShNNOzOrITU4qUXdNJp6NNXTXmjjkHoQBAEAQBAEAQBIAkgQDY50i/vD90J7f48eP+j83/wBfZvCMeLPzsePxY8X1cfbNi5N2vY/xOXq9bHIHpG9w/wDI/wDTtvW/jW/l37vlbwtfxvbge2SwGpxIYV7q3PQ1h9TLVH5Qbr5OPL9oTt7vmjSUDUYxx9M87/uZqvMLe6au7y3lb5Mb/Sud1bIqqslwXbX7Tspb1+f/AK1N36G7b4tjzOfPLaIAgCAIAgCAIAgCAVf0rdLh1Jr3ncqyKBh9LpnGG1B7i61TyKuxCnl+/Axm05VlbqNVaqtHRdfE0dtztvHBxlgcFK9V3VSouUF72LWvXpyWpbCrjgDAHAA7ADgAD0AEvSSSsjlypUlUk5Sd23xZmejGeA9THUrXsdbaHSMr7hYuOOV0SsPff7zHIQ/lKxmmaKknTpu8tX0N17EbETzCccZjI7tFPuxfOo1p5eP2mvrU6lrGaxyWZ2LMzHLMzHxEk+pJOZQm23dnVUIRhFRirJJJLRJKyS8kcUg9iAIAgCAIAgCAIBWHS70q+0mvd9zr/kAh9NpXH0gjkWXKf7QPIT6x78cG05XlXaNVaq7ukevn4Gjtt9uo4OMsFgZXqtNTqL1OqjbXRv2dS11GOB2HAHoJeklFWRy5UnKpJyk7t82Znoxk89TnU4uyKdu0RV9xdfnP71e3ow4Zh2bUMOVqPCj5zceWl1YzTNFRXZUuMtX738zd+w2wzzBrHY5ONBPuU+Uqsl9UFq+bfdjx3pQgXcNwe93utdrLHYu7uSzuxOSWY8kkyhSk5O74s6lpUoUoKEEoxSSjFcklojrzyZBJAgCAIAgCAIAgkq7pW6XDqjXvO5V4oGH0umcc6k91utHpV6hDy/fhceK05VlbqNVaq7vqrr4+Ro7brbeOCjLA4KV6r4Vai9RaxXj1enJalsquBgDAHAA4AA4AA9ABL2kkrI5bqTlUk5yd2+b6mZJjPAepbqXr2OttDpWWzcHX7CujVhw7j/JjkIfylYzTNFRTp03eWr6G6tiNiJ5hKOMxkXGineMdajXTw69PM1+7huD3u91rs9ljF3dzl3ZjksSe5JlCbcnd8X1OqqVOFKChBKMUkoxXJJaI68gyCAIAgCAIAgCAIBh0yCPiCOO/IxBKdmn+uBV+y/tAL6aa6bNppsdEVGsTXNSlhVfD4hT7Lb5YOM+DzHx8TLNSz6pTiodknZc95q/+Nx29ppHH+izC4zEVK/u2cN6Te52cZbt9LurHet13VfnZHd/iHW/6av8AEm/RTL+0VX+zH5T+4fg/dBhfhCp8zH8c+P8AKrr61uopenS6CnRWupUag6k6pqsjHirqaihPGBkhnNig4yjgEHDVz6tUi4qChw/mTu17YpfrkfTy70V5fhK0atbESxMU79k4KCk1yu41ZStfnZJtcFKL4qY9drnudrrHayx2Lu7sWd2JyWZjkkk+plbbcndu7Ny06cacVCCUYpWSXBJLRWOCQZRBAgCAIAgCAIAgCAIAgkQQIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgCAIAgH/9k=",downloadUrl:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak"},[t.WalletNames.Petra]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAACChJREFUeJztnW1oHNUagJ8zuzbRGI1BW7BN/GhaK2otaIN4iz8tCHoLIlKV23wIhaJc6C8vgvjH6B/RC4JgbbrFIuhFof2jBjSgrdVoUVEhaio12SStTVNNbTapu3PujzfTpOlXPmY7Z07eB4bt7s5u3+TJe2bOnPPOMcwC29RUibW3kc0+grUNWNuIMXWz+Q5llljbC/QQBF0Ui++YnTu/nc3HzUW/v7U1oFRaRibThLX/BmrnGKoSD/0Y8zal0mtkswPmzTeLF9r5goJtc/MSjHkceBYV6xongFcIw+3kcr3nE3nO121ra5YwXIsxzwP3lytCJRY6sLaNINhntm8/K5vPEmxbWjLAQ8BLwMpLEKAyf34GngH2mPb20tQ3gqlPbHNzFpHbhspNEysRZw/Z1tbs1DdOC7aFAhjzDyRzV13a+JQYWAW8RBiunfri6SbaNjfXY8w29JibdjoIw3+ZXO4ITGSwffLJLMa0onJ94H4ymcftli0BRE10sXg9sDXJqJQYsfZZCoVlEAnOZJ4GrkwyJiVWaoEmmDgG25aWPLA0wYCU+BkmDJcGtqlpDSrXR2qB2wKMeTTpSJQyYcwjAdCYdBxK2VgRYExD0lEoZcKYtQFQn3QcStmoCy6+j5JmVLDnqGDPUcGeo4I9RwV7jgr2nIUhuFSa2Wse4q/gMIRCAf76C268ETKZyfeCAOrqYGgIxsZkX0/JXnyXFGEt/P23SL32Wli/Hu6+G8bH4Y03YGRE9rv6ati8Wfb74gv4/HORXVUFl10G5qL1AKnBD8GlEoyOiqDGRrjvPsnaykqoqID+/klp1koG19bCsmWy34MPwm+/wd698OmnkM3KZ6dmfUpJr+AwlMw8eRKWL4cnnoA774RrrhExU7PQWtnO9byyUrbaWli9GjZuhH37oLNT/jAqKmRLaVanR3AkpFiEEyeguho2bIB77oH6GMZLjJHMve46+d4NG6CvDz75BN57T5ruqirZJ9o/BbgtOMq0SK61cMst8PDD8ljuX3JdHWzaJNuBA/DRR9DdLS1EGMr/H22O4p7gSGgYStZcfjncdJM0v+vWSXOZBHfdJdsff8APP0BHBxw/LoeIUkkkB+51StwSXCpJE1hTI8fS22+HNWvghhuSjmySmhr5Q1u3Dg4ehC+/hHweDh8W+WHo1MmZO4KDQM5q77gDbr0VVqyARYuSjurCLF8u26lT0nR//71k9++/Jx3ZadwQHIZy0rR+Pdx7b9LRzJ5Fi+QMfPVq+PhjePdd6Y87cGx256ARBHLMTTvZrFPHYncigTP7qmnFsZ/BLcFK7Khgz1HBnqOCPUcFe44K9hwV7DkqOG4cuHo1FRXsOSo4bkZGZEKCI5msguOkWJTxYYdmaargODl2DI4edWo8WAXHydAQDA6qYG85elQG+3W40EOOHYOeHqmmcOQEC1RwfAwOypQdx6YZqeA4KBTg119heNip5hlU8PyxVuTu3+/UyVWECp4vx4/DZ59JmYsK9oyxMejqki3rxgTV6ajg+dDXBx9+OFnG4iAqeK4cOgSvvy7VDA42zRFutiuuk89DW5uUrzraNEdoBs+W3l7YujUVckEFz5wwlBLSLVvOrBN2nHREmSTFIvz5J7z/PuzeDYsXO3tCdS5U8PkoFKQb9M03sGuXNMlLliQd1axZmILPV5Uf3XZpdFTEdnbK6FB0H48UsvAEGyOlnfm8HEvDUOp7CwW5085338mo0Pi4VDtecUXSEc+LhSc4CGRazVtvyYnS+LhU5588KfIrKqRfm9KMnc7CEwwyQNDXJ4/RvTWu9HNdsIUpGJy++hQn2g/2HBXsOSrYc1Sw57gjuFiUTYkVNwQbIxcaCoWkI/EOFew5bgiOOHxYRm6U2HBHcCYDAwNO3efRB9wSnM+r4JhxR3B0HB4YkOE6JRbcEQySxQcOyLwnJRbcE9zfL1NST51KOhovcEswyNDd/v0ynKfMG/cEZ7NSzPX113IzE2VeuCcYRHJnp9wmf4GsMVgu3BQcTav54APpOilzxk3BIJXyBw/KlNWhoaSjSS3uCgZpqru7Ydu2yYUllVnhtmCQTO7uhhde0EyeA+4LBsnkwUF47jl5VGZMOgSDTEIfHYXHHpM6IWVGpEcwyJWum2+WhaeeekqWlSuVnLo3pGukc150VZXUEL38MjQ0wAMPyGNNjTTn00s7HV8htJykUzBINldXy7XrV1+Fq66S1b9XrZJVvaurJ9cEHhlZsFlubEuLW0t1zRVrpahsfFz+vXixZHRVlTw/dGhBSk5vBk/HGOlSRbcSHB2Vq2HRUnMpqciPG39/asduKZgU+lvwHBXsOSrYc1Sw56hgz1HBnqOCPScAdPqiv/QGGPNV0lEoZcLanoAw/CXpOJSy0RVg7f+SjkIpE9a+EwA/AsNJx6LETr/J5b4NTC43hrX/TToaJXbehsluUg7NYp84gbWvQSQ4DPNY25ZoSEqcvIIxAzAh2OzcGQK7gI4ko1JioYMw3G7a24sw5UqW2bHjCNY+D2i3Kb38jLUvksudrqA/81JlEHwFPAP8dIkDU+bPT8B/CIK9U+ePnjWX1La0ZIB/Ai8CKy9RcMr8+AVJzN2mvf2MetuzBhtMe3sJY/Zg7Wb0mJwGOrB2E8bsmS4XzpHBERagubkeaMWYrYCft0RPL8MTPZ9dZseOI+fb6aLT/W1TUxZjrgeexpiNwNIYg1Rmz/DEhakcYZif6AGdl1nXc9impjUY8yjQCDRgTP0cA1VmgrV9GNOFtT0T4wY/mlxubKYf/z/Dhnu5uHkRfgAAAABJRU5ErkJggg==",downloadUrl:"https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci"},[t.WalletNames.Pontem]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAAgAElEQVR4nOx9d5xUVdL2U3Xu7Z6eABJdUVFBUZKEISkqDBkDZhDTumtAXVcx7Lqru4hZ14TsqoDuruvKSnBNqOQBAwo4JEkGgqigAgrMMDPdfe+p+v643T3dExBwZnzf7/vq97sdbjp16zl1Tp2qOucS/geT3roN9FgLKJRw8QLCjveI5t5lM05qPAIb23VuQrCtRbUNgVtD6ShAD1fgUCI0VqABQBGChgBAAY+AUgXtBXQngO0AbQWwBaQbGPS5qtnUeuXMnShdmMnTwLEGzU5T/KdACaRJHv+nEv3cDFQmxUVAry7A4tsJI6bQ4ti3OOm10bLw6N9Qo0Obh12HjSumo0PmZCU9WaFdFXqMASPbhMBEUFUIFL4qfBWIWggUqkEZRACDYGBgmGFAMMQgAkQV5TYOHwpW2gRgBYE+8FU+8Nhfrb7632//Nn7a5qf1w3PGca/wYcDUEYpfP6wYsAJ08ZSfVX6V6X8MwHr5G4DvA3O/JBy6FbTmEV3c7UHOc6WBIWoaJtNTgSEC6SuqR+Q5ERAATyziYmEhqoAAKolbEgGkIKKK50x+a/KbABFoageBQIAxYAqxgcsGCqDEj4IJXzswhaI6Jw5ZYlV27ra7i3svfUT0jlsJhx4BzD9KcYgDemFYPUlu3/SzA/z24AthS06gns3y0fz1cxQAVve8p4FB6LCw43Qn0rOs2IEhNo1ccuGpRVQ8KOADCgIREmACICZSACAkfkCRgasmzk78p+CYKgANPkmD/8EuqAaww8liFy4ZxNWDJ3aXITNPIa/HrC0S4JsOi+8oBoDt57xKS7Yvx56mRi99Y2y9yLEm+lkBfqfPfdT+qzu16aaAjTW9HjqMCCeG2QwAMIyJ2rhkAi1VK6oqIIBATAAbYg20FBAVMLG6ZMoMcTmDykGIimpcoT4Aq1BJAMwEGAI5DAoByBJoxFfJ9tVGRIWYGISgSlgVUkAUwQ8QsUuGXTLwg7bjcwLNiFtvjq/4uOOSP34DADua30JNT+0F+u9wrV4CdU8/C8D/unAoXW5GgaYEGvtxr4eOCbHp5ZIZZlWGGqKGTISY+CqaanLZISZDDEXQt4bZ2eOS2S6qO6Li7RSVrQrdpsAOge4kwi4AJQqUOkpxn9QP1NI6DA6rIgJQAyY0IqKmAJqRUgtDdHgWh5oSUTNfbfOY+A0dYhAIVgU+RAEIFGAiDpNDAoVV2eOQmempvOFbu6j9ktu/BAAd/hqh0xLQnQ/WO9D1CrACWNl5Ene57hrBKGBVrwcOD7M7KETueRa2H4GyFYq4WCWoBKpG7JCBBDjbMLtbiPDZXi+6CazrVGmTqGwOkW49/sM7SmqDz097P5oXt/7hIBzDRK2hOCHHhFsT6PiYeC0BMkwEXy2silDQiJBLhjmogKUMmhMV+1rMjxd2+eiOrwHgo44TudvqUVKfQq+3suYV3M0nrrxLm++CFvV8LJRl5IIIuxeIykAC5VoV+Gol0fexS4YMMawKHDIbAF0RE69ISNeR0prv1q35st+eF6RyOS9eNJ0a7vmGepV9j6ZEWAlghwr6Nm0Llw2AwDBbuHM9mhGjM4Cdqlic3QR7Gh6ml065sIqWTWtzNx/fONzSgDoyUdswu90A6uKrPTbJo6+S5J1cYubANCghpflReNNLfXq559Lb4jtwFH1c8Cvqv2BsFd7rguocYIUCp/6N6b3fCgCs7vnwycp8TY4JD/XEb64AfLWpWu2SwyBAVUsdMot89RfExV+mrGs6ffCHbyru/E8Ut+1HRYc+S16oITjSTQe83lfpJz6SQjHv7AdIyneTG89Ft+8Wa4P1MzNA//ikv7SAanuXnXyXnH6+2pMJlAMoPLUpK94lQwIgzM72UhubCcGkjkt+9wEArOo8mU9cebH8VH5/jOr07nrRNEJJS9BbvXR57wcPcaw7qoETGVlio51cYsTVpoYrLhk2xPDV7jLgGXH1Z1rI8p1edOOAojEWCNRjQd+7mEB4faHqONxdL33aaIyls/uCFIqChXenKuPbXW43LcJNWhuYriE2Q63KWQ6bRlYFnlohBZRAITbkiSDPZK3aY0v/45M+m//B7bv0zMWE3C9BU+rOCKszgD/sMomPbNxAj5h/kS7v+ZeTs034DwD6KzTbEwGgqqTKYA6zg5j4e102/4qp95paWt158S3fgQjfNAH9os0tQItuwMqXlDbOqCuW94u09VlA55GEbUXYseFxbb4DwKPAx9Meba5EnUPGucBXe3GY3Zy49dSSKikIIHKZQURlUMwvldiD+Yt//+Gmgsn03e5SOmnFNXXSZNc6wAoAvW5kWjxe5h37CjdusnlUQydyY0y8E3yt8Ccp1EZMyLEqENUpPuQZga7q+uGtezAWePTLX1HHr7ui9XfL9dhV/6xtNmuFNnQahY2HNqL3jnwI9x4HpT8ART0ea+SCOhrD1xLRSIcY5TbuE8gAABGRA0aY3U+K/fLxnfOumEDzmqj2upGxeHytG2C1er/rcCMOxyH8J9wjy3s+3Azk3p/F7iWimuWrJQCkEJ+InTwTwV6/fDWxuT3ml7/ffentJRubPsetdn6m04dF4WdP14unfPOjZf5PoKcuOgODylrTsW/kAr1XgRa9pUt7/CUvy3FPUcHDuU6k415bDqvqM8gBoC6xEnE0JvEXRe2f8pf8fsd9GMNbsVuewfha463WAH7+stmIlO/mES+PkMXd/3J8Azd7vAKD4uKn+heF+rkmyy2VGIzSHXtk76OntvjCm7eHuP+CQ3Vx95ba66M1IDxZW2zVKynGAgMAzPNofsH3NGD3BFlo7nWbug1vias8lGvC2GujHoFcBG40hMghAuYUe2U39vro959OvWAql0cOkSv+PbhWeKoVgBf0HQDLJ5kBhffaJd0f69TAzZ6sQPtyiQmBOOEjpgZOhPb60c2etUN7fHTLpwAwt+AOM3DBA/bHyvjfSHrxy0z/uUAAYGWPv7SBCb+dayKt9/hlCpASwKoqERNmAtYWe2WX9Pzo1lXz+/3JsCy2BQvn/WQefjLAiwveRzFnm0Hzu9qiHuMGhp3QdAY1LLNxywQDwDpkDIHgqfd4/uLRtwJAUddJbrfl13g/+Qn+F1D6sy7rNf4xl8wtgefLWgBGVG22k2VEZU/Uehd0X3LTvNn9l5mGUm57LTjlJ5XNP+XixQXvoydnm9VNukpRr/HnuBx6k8ANS23cAmRUSUIUNlaxq0y94Ulwp104zfy/Ai4AdFt+jTftwukGAPIX33hrDPZCBf0QorBRJSGwKfNjlsANQ+y+WdRj/DkyP9/2NNlmccF7P6nsg9bgBX0HwJq/mF05XaXl9vHDXXKmGBBi4vkEcgDSiAmJr3ZF1IuN6lU0evnyrs+Zl757Wx7Z+srP5nz/Oen6Fv3oykMv5vwVV9klvcZ1zaLwJEOmc7mNE6CsUD+LQ46FwFc7YsPi+6Y17T/TOPZ3tmDh/IMq86A0+PnLZkP5JDNgflfbcvtfz3bgTjFglItvAXIUhDCHPKv6dqmNjuhVNHr5iu7PGl99+/8quADw9LZCtfDtim7Pmp6LRy/fY6PDrepbYQ75iWinUy5xn2Fg1Ext1ePPZw+c39Uqn2yev2z2QZV5wABfhxsRKd/N/QrvtYt6jB/owJ1qiFEuvg+QARghdssFOmWXX/7b3ktv3lR+7kvcuUsL22PFtQfF5P9N1GPFtejctYXVc1/i05bevGlPvPxGUZ3islsOMBTslIvnGzZw2Jm6qPv4gf0K77WR8t18I2484PIOCGAFcAQa8oiXR8i7PZ7sFOGs6YZMKCqer0oOgeFyqAzgF3f5pX/u+9HoLU/iSY68Olto0hkHzNz/rUSTzgBenS2b8SSftmz0llIb/ROBX3Q5VEZgKMgpE883ZMIRkzX9/e5Pdhrx8ghpiIYHrJAH1Aev6TWVOyweIQu7PnH8IeG8V1TRrlxiNvDSEMLGKWfQi3ts2T19lt749bp+hdS2sOAnBwD+byWFAv0WEBX203d6jD+igckeo9DL4tbL0uCojXDYAFhb7O89r0/R6M+m9JrKFy0esd9uzf2uEcu6PM0dFo+Q9/OfbpYXyh2vinZlEljLAGuYQ3Eoppf40Xv7LL3x61V976W2hf3+P7j7IAIBhf10Vd97qc/SG7/+wS+9T4FpYQ7FARaATJnErYLa5zm5T77b/a/NLlo8QpZ1eXq/cdsv6b940TQ6ckcUHWwc68viE8PkXh0TTyhIfZGICauovrXH33tjv6Kbtmi/QkJhP/3/0O4fKYD1/QqpXWE/Lew+7qgGTu5fDfj0chsjTThDskyIoxKfdPgJA6/9+qv3seXQHFy6H1Eo58cLVyzZuwS95vfSd3s8fX0WhS6Jq68gZoXaMIeNp1JU5pff3K/opi2P40lGYcFBOc1fGDmVmpTsopySb0jpf1f1UAialnfWjkvOPeAYLwHQwgJ9Ek9yv49u2lLY48nRuZxzWIjD3WISsyAyMfE1TKFLv1o/d+VpH13/zPtnvE9akTS4z3vvk/7deTJftvISKez21EmHuLn/8KzXJg6fAKhDhqH4ISaxgX2Lblj+0rkv8exXZ8vzeP6AHjCRtEqJ1Jf/1aT3/40Q/kbptvsP+NorcAUGnzuYR746Ut7pNqGry2YeERolEiLIgdGwcT8r9kp/3afoNx9+cOoSPvm9nvvsj/cJ8IKCO7lgwf0yr8f4JrmU87yqnmmDtBpSKELsUszGhvcpun76R92fNYu6tLCjD9BaTgf3rc6Ph7KcrA4MzoFCBELKGnC5D291kMtMKhBicBBmB6lCg+vTRGBgVGCrrUmVk6YNWAVKFVnTCWKk7kkgMBEsqUL10wFFv9mpjToTdp2jhLEHJAsAGHfNW+i94mvT/aNR9r1uT1/gmvD0uHgpW8YhQ0Q0o8SWXz6w6IbdhQV3cL8FD9QIco0AKxRotINoV3Nd0P2ZP0Q4/GdP/GwNjnkNnGy3xJY9ftrSUbeuyn/O+OLb/AMc56ZNNNDC7hNbZbEzPkxuzwRC6QnN+3s7qua7ynmalhm9n/f8cSKimMS/j/veHcdtavxai10zFTjqoEBe1mUCmMl0WTbKvttt4mO5bvYtJX6pR2CXCHDJKYtK/J6+H137sLYoIWzLrdGYrZH5pzs+zdevvl4W9nj65DyT90zMeid66qtCbI7JdqIS23Dq0quPA4DfHX4eHYyH6t1T7wSyl3Bs5/mHNHJz7zfga4ttaZ3nKdUBkUAlh7OMQNaW2fJLCoquW6UYDMLBeaC+PPUFtHzvcgDAez2e3ZjF4ValttwnkHHJobBxVxXbsusLlo764NnOz/LVK6+uVourNbf1fqXrV18vc9uOC6k615T40RPjahNdunFKbQwWegYQBA4O1v34zWGdcdrseWLINI6Kd0pU44m5J8rVb0hs+zq+P9eg0v59Ha/uWJWyCQCXSRxR8dqDnKODJ5xVtXnfT2r53uWYduE0AwAWOrTUjwJgR0GIq0WJH+0EpWvmth8Xunr0EJl24bRqtaJagCevCiZQmdzsCyKcdbpDDiSYxmFzTDYM8R/6Lr3ms2X5E93h04cfdCyXErPBVIlUiQNXHZEqQUFIfae2xHyS5LFqj6cd00rXJLfk3BRF9dclr0nNX0nnB9WUGxxDYr+o/qQoXZKGTx9ul+VPdPsuveYzInNHjsmGQq0A6pCDCEeGOtk5F+CKI2FN9feowoh//jS6dNpIndd1whFZFL4wrrZZXKxCScOc5ZTa6Oo9funjAJC/bFSthPw4qOUaCAmqCISF5HelLV3Aqf1IOx/VHNfMczXt/HRwKt8DSAe34rz0/6nyKfk8tTcaSMr4e6/00b1+dHWYsxwoaVysxtVvHuLQ+bO7T2gxcspwfafPfVW0OAPgtcPGYuySmQAAw24/C/RPKhmDyReBALefmRPx9OJptVJLAUCQnD8GaOq75i2dMrRNq56zr3tU/p15v0BWWqlArfQn877JVqDWRBMUc/FUPu+U33rM9HtfLAjESV5EMTCkoUEAcFrxTfr24Aszrs3gZOtOS/d9/U+dkz+ppUPuOarI80RUldRll5Twkqf+++uz+jL9Z3itpXkKCFJZY36uLaOZPtBrEyKtZR8e/WeEfPLpBi7zY4sUeCnEIShIPBEBKM9l9/zZXZ89hlbkwSk5IaPwFMBvXP4G5h/WCgDgsNtboANtouk05JioeGUxsRMGFY0qOWHu+Fp1SGQKExkCq9BKytDQqlpbVdhpc0Ar9b2V++Zq7lVtP7uPMpWg4NSx2qbj5z6iQ5dfV+KJToiKt9fAGCglJrlrgctOLwCYc1hrvHH5G6nrUgBv9308/N9f6az8v7cwcM8GONcXEQWBiWHInSyK1X8v2Ez3D7io1p8hJXhNByddq6ozoNL6xcQ1qO5aUOY+VJSFFOCVjTVkAqrVAFrpGFBxTm3TsO7dtUvr+9mDrjLk/ovJgQLwxQqBcgw5Z83u+txhj/73Ct3u+6nrUm35le8tIgAg0Im+2iGiCg20lz2VH+LivTxk2ZW7li94Hn+a17tWmRehDK1IGkwVwtr3VvmaytcrSBUkwYbEN2nl8yt3D/sqq+p1gXOrLrQXAD756C84Y6PRocuu3BNT7zVP7Q+GXFZAJViq4nQQnwgAV767KGXlMQCs6jUb/mFn4u3Of2/gwB1I4IZxtaIgBggMM0NUVz73uOLcYafWAfuMCuGmAx1Q9f1hNQYOkn05IAkwAYJDDrkc4hCHOcQhdsllBpOCVAAJxt6EykZFdWUm+al6PJOH2qbP8Tn6DuuG5x9RwGI1w7yZkB3H1QrDNHTJHfBW1783iP/idKzqNTslWbRZfBu5SwsUoMMUOItgktpLoiiNizd7yKgt282612h79vbab56RdAcE2pAUdtXv9C39WMXxoEaTOuRyiMKcyJDYBeAzKFZCebUCXykoTjBUcU5QGVL31GrKVKrYKvGU2ZXUDW3P3q7+J6/Q4OW/+i4u/kwBSplMMPsJDFEMI+XDwkX9tdPimwgAHL11G7BtFr28spRDJtQDRMfF1FNVIiYDYlrkibcMo+5Bi0EPY/Cc22ud8Yqan6a5KUEl3coAESVWzEg/hvRfYpgDwFS/B/FcAIs99T9X1T0qGicQEyMboOYGThcFCpicHg6I4uIFxWuwvkf6aFYzOKn4ka6rSqh8Vq3SxVMuxuxBDwNE8PP/sSxE4fdVdbDCUkw9dci0CRm32xtdnvt83vGMRw8fog491gLbLrwJWVmd8xQ0zIGDuPrCYOOrQFUXRHnPRj12JzZ+t7pOOM+0XFFFPoogXqTJQXnadUBKpOKQwwZc5sF/WdROjqm/xkbpu2HrrqjW2/Zml3+8ZYhecNg9zVf9LZFpB0AFNlmP0ohS7UwS7ExWEzxmHK19av1dD9VWW2lB1tubvKi/EKDBRIZFxTrsGl/9YQb8FtnVxbc99ms4CiWaTvJW/r+a+SoDknE5h10QaEO5LV927rKb7fKT+lPXDwvqEOAUyNWWUVljKx1TJmYCf+Grvafcxl4Lt79qV+sGoOMLo1BcjmnDX6Pm21eCQPisaSssfXkDzljxq1ICrXu1+9OfujbnQ0N8u8vuRQSCr75qlaBTpl1QlQ+C1ni0dujYVQVYdtIq9Ft0tX2z67+WRTi8gVWPjSMOTyx8lQEi1HTA9Cd2K5ScVy6ZQc+/+zc46vZk4kPi6glA7KvAgVlBoDUA8EWLDXXGtAb9ZBJoqgrkPrRCVYmIGOZzT/0bV676fM4fJ98j7z13O23b5iLHXadHoiswLVPqD+ABbD56M97LWkRZm5robP764y6Hb702rv7OELvXMcFYlUTB1ZVfqf1A5VFA3dGWFhsBAKxYo8AKX+VYBTiuVkLkNibH9Hzu6Mc2vtJ7BnHTnc2oYaPskIIGOexCoEJgUiUbE7/ojBVXfAMAz6x8ps6qJWWMX6vbqrOaE2InQ2HO+jIu/uihyy+b1fWIlii9FfRpXivtt+A+PXJN12rLvAN3oNUXrXDqJ711x/eNZdCRm+iMlb8sZri3xcSbRmBKhkOqHR9Xtp615i6mtimJxekrfvlN1HpFCrIEQ6IQhx2o6pBGDRqEm+5sTtxn9kkWDhwftiAuwdpihhyEOLTFV10HAAv6vstzN86tM4ZtamhBCT9uWlCh0pYeHGAyNstE9pbZ8r+eueKyt5/o9gwP3nKV5GyFXvXqqP0u/3Q0R4/l18iy/IlmyIoRcSv2D6JYpQqGslYAl+44qcQPVThd6lqD526ciwV932UAsIp1IQ5tMeRAKVhgRhR9XA6bPrN7WQaAMLI7KuiIuPhQGLIAVOkzhawJbjmrThmupCVaMdSg1PH084LfJFA2e/2y989acfmjALC96KufpDv5y0bZovyJZtiqX35Vbr1Hs03uTiJOtb+Vb57UaACpoIQA8FBD7K5WaVaCB1kjSp8JCKTMUfEhwJHK1BFIjIMFODnC2RDAB4h9EeyV8k1tNtCXAPD6QreOG50MNx9Vbv4yPUgV+7I4stOKPAEAy/OfMw/igZ/M56RlmwUAzl0Vm1xi964VgBOesCqOj5oDI3VPSUyO2Uhflkn5Jl8ECOZi+xGTDYZzEpB0Var2TjLGZNTl0B4F1rfbe7kUty2mul7NJsOZX4PAKnmzhMlwid376bmrLp8DAF2WXVkrk8gn4SFdWDDLEK5WBV6JcGQvwFI9X9WDXtdNNACMw91a3LaYOpVcLgpa57K7h8hosuVToDcAMBCHKLr6YpMWLBlytkNpIwAUHVpUDwlSnLKkqze2MoEGSMIc8USCdmpB33GmNvO4Yt57CgBCPNcXKVbA1GTkVY121Q/AQAU2qtjE5GxH4H4lTyxU0QUA+NV2bzRVwtGe+oAyqQKiukOgmwHAC9X9PG1RhVTS3pqMLA1ciCxQz2csAgA/1LFW+Xnl/ZgCwC6UfV4u0Z2BZ4y0StQpw+CqAFnqo41GBTYC3SyqO4LwEFFcfSjQataJ05owQn5rhgNPRQEiXxVR8XY6arYCAEe4ztnNDLUFGiGVtLaSM4TLbdxn0CYA+MrZUqs8TsSjugu7cOXyq3wBfc1wkg1LNTHhykO5+tPgJDaOmq1R8XbaYNhOvooSHJQZac0gOjbEYSRCaETE6qtsPXvVyBIAGPD6gHoAOFNAmYZKlf5NAYav1vNjkWIA2Pz25lrnaS3WJlEqJjIa2C/VhxV/DnCBCmzOXjWyxKpuDVbNICjIhigMhbZhqzg2Ea5TgJXJKVfoNgB48aIXqT5ylCtbpTXFg5MBicQ1glCwLqSpg2HJLMxK5ohZJDI1pBqeAqpsQdcPyATCixe9mOyHtxlyyigReiViqHJrh8BHpYwXYhhyygDeAQBN9jSpu9BIJVYrBJdMwqvpzKSgFV44XmeSdBLz8iThaAt40hSPmRwFVNHV1B8lMVLoDgaXA5ytkKRNc5QjoBY2yN5AELXhclHdCQBZZVn1wmTlvheazLFME1jqI3BVqzK43K/+hrXJm1bW2oCScCfRJCRj2ajwetQDJTGy0J1EplwCAytYrVzpcEehh1pVaDBfk1QRFdVdqaeoN6qwkhNVMiMmF/ylRCVM7IzXPVfp9kEyzlXhWaME52lerfpU32ThAKC8SxVRKEg1MJaV6FBHFU19WCDxEgsBPIBLgLrp26ojoaDmJzMA04P+6ZT6m/ANUz3MNk1mSibLrMILMgGvzz4YqMDIkpYIEE+UT1YtVKmRo6DcID2WkxlpnpCWAcCH+mG9MKkWUENQquiHa6J0banPBmZ/qlKFJV1/apzEiJlLBfADI5TJBt1EQwegnCCDUmHAEMD6GjR+RzY9sl6YTJirSJ/Vn2yKk0BqYm8ycwKp/3XPXboBWF2lymyy6zK3siolMRJr4mqCVBRJVTONOAq4wampBk9csAcADv/oCg+1QimRKDI0WCt9A5Sxj+tBkBXu0cq8VHMigia9PgFOYuTD+ppIHKzAkkJOZeEp0sVYX2SQhKtqyenamtTq5L6G9cJd9X1rVU4zDMN6p8RIiCh49xsF0nKgFAchhNTghFlhHACwUvfDECBoUlICTM7rqdIKJ4dHAZeqwO56MLKSiQipzJ0Ub2mZPEntJapP5QVQgRFBXaQmpVHyhWGeo6ByBodEJZn2aUQ5BABrd35Vr8xmaHB1gtLkUCnZRP8MfCVrWfrBiiP13vYlMSIxIRg2mrBRCAyBlLISihOJ35pwWTpqbA4ANKOT6oXJA4m1Zvp862eYVFPCQXWu1PqKBycphRFTDkBuwtmiBANV3ctQ/MAUzGRIMBhWoTwA6LqvpW1qkSqGPukCyvT1Iv2c5Di4PpjTpMJWDYCk/86MV9cfJTGyijyAQon8MWUyAPFOR0HfBeGwuCIAOaxKjQDg23qqiJnaUZkyQa7Q2+SQpK5525cDgyr9C3zk9Qnyt4nCGHyIgsIIMFSCAZS+YxBtpaBvhoIgqhGAmgLA13ti9cQmZzR7+2rm0itDfdS/6m2CqhUyoR0Imsj6a6K/zk5gRNxUoJFky8LEEOg3jii+SDGrgA/JVvChAEDLP66XypgcB2va/wTXVc5NrkFGabpcl1Q55ptJFV1Hsn3RetZhMgFGqtTcqmQnpv0meOEvHBBtsIkBXBCBsBEi/gUAjMbvdSmWogd61CmT6UMkTdjKNVGQdxLwWn+Ojh93oSZh3Z9za4uWYil6vNkjaDeIWvhqI6ogEEGCHxtYgQ0xiUE1SMlLLAd4+D87/bcBABSfU1xftkxyo9RvTdufMnbS++C6o3jSb5/WFGcsCVFl27c7sy6oGAE2/85/PQ8wLawIKVRVyUQ1DoA2OI6ENvrwwGRIVIRhyCW3qe/bFgCKbZmtl7ZQNeGF0XRfMxLuy8SPlAAp4fComa07+t7B3dGdGqFRtU0mAdgLYDEIRnegcc5XOKLkKP32vW/RG711C1utcfgAAB8wSURBVDalopYVFSu5XGoy8K8ZvAaH6k+DbU9LWAL1PTk8i0NNffVgxVcmw1YsVHSjc+nqId8/33HGJkNuK1+jyiCAuJkwjgHwSTju1jmjopQWaKjJUZp5XIF9BjMfWFjzAp37QyNT7UT6OLhy65HJa4VdUD8uGDfbTfDExzC4WSLjVF1yoYh/ccXas3Ymogm83CG3VQwxUShbtc0J1BoA5n7Xre61N/Vd2TquGjVSIHDEQbGv130/0+7lVg6HTiDVbCJkJfQ9TEExcQCiolEYKoPavaxcDFCJYyN72jZqvbv7BxS80lY1CkpfkbByg5Ye60pWgvpZFrnbt92SBlZrX21zTcz6cciBr95yoGJB8EWiegEAEhWKq9dQldqNOe41c8/6BnYsRtNYjKt1podPH574ldCStKYwkyqnygS/bCVdn9BtAl9bdK1M6vB620Zu46dE5RRAbWCWZZICCqMIhKKqquKrpz7F4qtL1pX+48QZP6jSFgCd4hrnTNCq5y/lsFGblGuNq8D+VLoLo6nB+gb6/DFrWWhT27h4DQMeEi0c8SIgAbAqfVgu5QgWu4QwOZxFbqsjQntbAtiMvmcTFtYuwGPwJ+Y+A1jfKxOQTa58k+rVkppcXe9Z0RAGRy2sTsc0alq0Sv/RZRqrz6NL/D0FCkokitR8t7TIQRBnA4GJmxiYlsymsy8erGbO+K/pTmnDk2IAeDb/ceeuhnNgCwfKfQEvtUaUwCSa83nLPMpr5cOHr74Q2Cm15XCUPwASnYVH/hqAvnIoBIEKQFBCG2bqEDB+8LXwCTyBeb2DlyxOw2ReMuBdAwD34D4Z+05f/245XQA1Cg0HehUYWlWdHpm+4KAiBOFChaULMVwLcL+Kl31liLIuZnKTqBoE7+5NfFfeErHK1BKKqlZF4xKXcimzfgrcmnzOafsTBiERdX3h5Ldzr1l2q3934SA/Ce5HQ981ky/+b2opvE8uefWg5ZrExCXuCOD4xBhcHA6BQF9HyVsNAM6SIe+Y5V/u8kOOKTTs/lL9GAQWnspRUG4PYMbdC/vIwNYlmLsxb7+L/2+3T3Der4/Ef69/lRoyEwAZjkvkb1unu5M6zggr0bGuugVQGSTQXr5KYx82sGpqais00QRR2g4AjY/rQfgcmNThzZ5ZJnuUVZvrqS+UtHaqcXvV1DqkmhAiqpyHVR0/6b1HkOcGItBDXgnu/XuHmUuZaK5FfJ7ArFi6+Xu7eOaGGEC4Y/h83htk0uiYYdM1P9vHOVMu/jHBAgAGti7B3QtzEy2CaRdXr6Vo8OptQy4EskD8qL906DuGtzfZqXs2bYurYrYnPoiYrYoqiF0O509o/9rhAOG6zrN+VI0/6/oZlvVdgDsBNIscQ3R9Li4YcpkW7SrOnthhxi+eO3HmoBynwQMG7lKjvCrE4XEhEzndIbdxIDDSjAlclVecTVmtSQ0O/pl+Z9sJ7d5ozORcG5VYvhcsgU8EFgILUeIbLAQjlFgGmsCJFfs5sVVMEwVIA7uMVJUUmlg4LX3V20r/QQHIoqoEdkMmq3eII2NVzfsGZl22m/NU345dzp/UbubRR64rzVuw9HsQSPMOzaHsZrvpg1M+wPPtnv9RgAMsCM91mNHCoXA3VTJWRYmYffGhhDnFe4rj3zXZqc6Zk8/Ts0A6QV5f6lDoBya3sY+4JTIGoC5ETgcAW4/9pnX1pd0J/Gv9y8TbTsBx7nFKC9sAAI744a0GEzu81YS3mg6GeZCqDlbVY10KQyCIawxlUuorQAwiKHFSSkDF2LOyCiXHwIk/AAB+7zXHNZGLDDmXqWrSWSNEJJTym1Bi4UJAoZz8VlJSTaKb9CITKKHBYFUCqQYrDhEBKsjotCqsr9QYimDVqi/lokEGt+OQe5Rh50rPxq9Upu0OR+a4kaxZz3ScsZI/wLeD1l7/PQBMP+Z6mjjkIfzg98Lra5/Xxd9UBfzYbQEWAnQIMDKA+sJwjSfebs/Kktu3XaH6osIhkP55RCHr6tLviZ25hpwRHjz44oOJWzsUyn+mzavzj3O6+AvyN6Bg2bGJZ1H8ue8CundOgUbfII0cBuxpNyM8sf2bRxKZtg65fQEdpJAOBi6UFJ7EUaplwXq4SkQIEor2Ne7NbErTka0QcoidY5icngB/ENfyXSCKkUoZgCigcVX4BFgFbIAaOYCyglwKhk7ZCsoGkM3gbIfcLEMmzMRZCs0WlRxLfsTChlWVDDsgDYBWFUXqxR3p1j4RFMlprRrTuKofUwLYpVBzA+dSH96lLkJbjDFzn+s4e46v3pqd0C+vm3VWKd5U4Ky+VNh3PgoWVrxgbEH+BrSi1vpEp1cMSyjfV9taElXOkAsQzWNEd9xx0TamKSS07dZHMe+bzrzp/d04vEHDiwzRZAtfRUVDFGYimhe15Tdcu/aMTx/pPZc2L/oHzu37axqwcEDq3QpPdXijuYHT3iGnp4Ez0Kp3MpOTxUTwJA6B2gQsKd+EBs6gxOoWlHBA75ehrhQMTHcIpM21a87YPanTK7kioUP2ev7uslBu+ZiPBxxUIHtcmzlZYZYcdm0eiR4iQGOAmhPRL0BoSspHMXHzEIcPIaCJVdvEF7+hQCrxTopgTEqUjnryARLxFQKxSy6BAKvWMpllojLPV3+RiP/x9evO+jp5zdy+C/nlhX205Ukv484PL9QJ7d9uk2Wy/qbQgXGJC4HIIYcUuHx32Z7/NO15ng48DMH7q7pD6SOQPtX+rePDHHrdwBwf05g1wZu7S63Yq5utHfLSt0e9ZWZsOUNmJp5mQru3TiB2ujnkDADQR2CPdsiFVR82WHkeSLl1EkZqIjWNwOSwC1WFLx6IEq/BqdFmT2itUsIMqgD4jxhED2JORu14H0Dy3dkKxV/wFypDGQiEu3BX4o6kwK8A/HO/KsB4PMGhdu0bi4m3YKUjCXyEgo4koCuAXgAaJe4LJ7EarFUfApHEE1DSWgeQXNhNQACD2eUQfPVBoO0MXuhpfI6vUvSbtaevSj7Jq23W8KDPOsqLHWaONHCeVSDHwrchChuB/7kn3lnXrT3j044oo9XIVgcA7uu1SvNMjJbvmb9NQTMs9HiAyKqoQ26Ow3zGdx3eLrx+zenf3Zi/kM6MlnYHcd8I5wzyxOulqrlEDBHRGMUSAIITRpEmZEyGDDnsklUfouITeCMRrRfEtzswZxDR4Vb9KqvMpTd8yVBh+ji4CfrTv3E/1iEHffAZBuNsvIAXAPwSqHA2pCrA2IxX3XSkf0FxOYCZmImt2IrGAxvQZ9wInWNhLIr/QO3ZR3H5Dxi1bJTFOuwEsBPAxxPav90ahG4KHEVgmwj4WwDzmBxfVdpZ0NEOhZjB8OFB1Epq7B34X4J1UlQ0JjGFEjnsNFfocCZzTg5nL53QYdZcUS10Gy1YfO77/fwJ7d9s7lJoqAI5VjwBEUkgkRlK+s0Hp/hU4q/RwYtTslPccTTogS9In+kwc5CBM4WIG/niWYdcA+gPPvyrVe1OwJwTMTmnxKU837DDKgJf/cD41CBzgAAoaWJqJ7PDIfjiA9CoQ+4ahSz3JFYkwAZVfyORCYU4PJVhusY0Ksn7ZKBbEdtRIiZV2WHYa3P16rN234W7+G7cXffpHQCeaT/zOAV6OWR6uJzVSVWO8zXeXFQ4SH1SX9Re6MOudImPJ/DxLoc7Qam7p167RKsIXz0IJDFniCrNsg9kx8TssAtfPIQ5sqpcyhaJ2FeIqKHDzkQCN/XVsw45RlX3WPUvum7t0Fm3t1J6eFPQ6zlJsXU7+TnFF4AqVhM7swAdCYB89QGgMZNzV4izTVxj7X31AQU8G5dEN5PyxmvgKCGXwgwQRH1fVFcQ8Xu+xD/wxdtsFV/8dv3pPyQf5+kOM1spiDVhIWeob6VuOTVXCIRyJLmv2+jNuA4zfuGoe5oB+oY4ciKBWvkaP8xTL+hQg6FdwLoSgTj62zVDvwDwBYDZT7V/oxmR0wrgY426pyjkFCLuEELYCCx89STxHsJkd5bS6riNKYHJU78TgTtFTKS/r17cit80IRwiMiDCLF/8jwGgZ6+/KzZdBSDt5ZSO0xyTh99Bl0wb+s0z7ee+YcicyeTmWfWVQCQqJ8bJgyhg1UukVnNSY1WhwmAT4hCLKqz6XzLxTAXmxCX2iZJu/c3aoXsA4IuXgBtGKv593hRq0eYjfDaDKsYwqXFo9ZRuW9fl5MJpmMbDMVyeaj/z17nmkF9btUd7EmvhqUdEDFFRTY3Xgu41FULUQK4Lu23mPkVHC3VfvRPPn7gDwJK/tZ01ixlHGHLbC2SIVRnkcOhQhoGnMRUVodRyAokZn4CKeEIAeeQdr4nMdoWqIZdFsVdgX79+3dBtk0fcTo7TPMVYqikc9sIwfPJ1XwCAB+9DIlNYkasVmH1WbGIWUyI6EFhMPoEpzNkGxPDVXwjoKFF7ZlTK/zhqzYBXrl87ZF2PNduL5wB4p+879OGrLxEASM5eHfDQ41qRspMWXEem8lber/t0edUeKbivFdvbk/ihVgVWRa0k7QRKbmnnEyQRe+pTdLQCwJgvdmJMn3cIuUonXvHOD9evHbLq+1DeSzEbvcVX/wyB3uKrt5jJoTBnGyJDCvhIWKSKxPILAFmxwYg8KR9iEGiuZ+OLAOCTr/pj2AvDUvxkBC5N08P1utZP0I1rT9/iifeKKhUzuaQpBwESJiypAB6TQxGT61iIxNV7QUn7exI/P2ZL/nHd2sGrQ3383Xef8Uua0GkCfXtUY+zAZPRZ2EdHThupBEJ2NOlLBjL9uklKz0OuEGDS2KqfqCv5CoivPiV6j4SLq2q6bHKrbAzcs7Cf3vNOHx3StEy/+KgTZnX9lM6Qo7HlNPv9DWuHLIva8qc8jZ9lVYbENT7FqtUsznE4GPZ4SMw5SpSXdLGpIZdIqcRX/7Xfrj/9y+uOG0um6eEZtT5jdtnYN9pj2vkv4ZmNgC/RecbJm6eK8yoASDbHRLmmobvX7rZio+NUaGKMyreMXndGHAXAv7CGdb3igW0vayR6DK5dte+XVqpykPJC6WCnBJzxXeGgrB9KAzJl5lUlSjsXkBpeyzzrixzM+iJg/50TN+HQbXn4ffbV1Cav2B+6ZOROALMfb/PagnA4956YlF+jkN/kmIZuTMpQ3egiaER4flxtIQAUnPgnDP9vZtlVOBn+35H6yiX/pvMmn7ntr+3nTs+iSG8m09zTuACgwILV+F5b8sjuMvfhP20uKAGAe/rOM6+ve5HPXnCpSD8KnCCv7bccqwjrx0jrDWrNrGH7RT/uZ+nzcSvg46CAnnaIAsCrlz7LWbln+0Mn0HoANz/RbdEYLS8eDdAfAUQo+cpcQB0KkYHZEZXS6TetHfL1q5dMpnMnO1UEUm0r99HkSwEAETR8uVyjb8bVo6RlFyTmIZRF3mN/2lxQ8s+jCrN+i340ZuEAezYuFQD4VWH7/ZdFBiU1oYZIT43H6pIy03Uyy6/UrSQOHOh7sc4vOh8AcO6LV8vQCSQ3QGlh3w+dm4t6l9ywduC9RHSKIReBVUdKILLqIyqxt/3IIS8DwNLJ1UeiqgX4QZBOzH+ar1rbw1fxn4tw7kqHXAAEC/EjnIOYhj4FgF9t6RfdevjMA3uiakiRqjxICq1qP3cQylRLlGEnaHV9LyG1HONPpL+BtO/7J9lkqSo0nWEgFKxfbchFFud+rGon3VzUK/5c/tP8YA1pQjXaKaOWXSdoU0o3rR+yuNwWTwaoFCAikFMme72wyW721/bzngaAM4/4hCd1XXbQD5ThxU0XUGWWtb6190cmx2jat6bv+Gk0qesyPNd1DQOEv7af93TEyWkV06hPgEksVF5WJsUv3bh+8AfbGylduey6GtnchyFKGHv4UsIXQJmvf1dgPsMoKSkpu2V+ibgUvu7J9nMv/fWSTlYdMrcNnHmQ1bdS1mJCYOm/U5R6aSSBajcL5kd5zOArsavKOcCBt9FpdNvAmSSGzFVLO9jx7Wdf5lLWdaV+sZCygZJwAFmhaPmzAPBk54X7XKxunyONsQsK5G/n/Jtv/2zwrpiUP+BweD2RowCUgjEvHDhPjzthXq9RS7vanFgDvuYn1GJNCDFzumhyWk368g3JB6r7lN5keZVnD6aS3TV9+JIcuB7c6kR3QpEba8DXftTVju8wt5dB6CmrPpC4N5MDh8KfxGz0gdHrzv5+cud/8/0LCvZZy390KHnDykvlqTMX0+h1g5eUScmTDC4PptiDrYpluHlhE57waLu3j7v73d52GHDAb73OjCzUPAypqjLZB1TOwRAlQ71QZBpV1UUBE/sPQoEVikYAjX23t338hJnHOQhPZLh5FjbICg3SAaOltuSvo9cP+nDxmYvp4pWX/mgTth++AsIvcjdg8uAPafTaQZPiGnvBwCWFCgHG05gwmY7Z3ODJx9vNPuZMkK7BmgMCuSbvVfXnVmh5fQyTNIj6IN2K3+fZP3pOdVcpPgboNpA+3nZ2q4jJG89wOngaEygMoGLgkqexyfE9PZ+ZcuZi+jJ3w3754PfLGXT+lEt1745I4F40Mgagt0OczRpkSXBMosTg/hHOve/xE2a27IiOug7r9htkqaQVFVZpuqVaXRNdL6TpywdX8Fcdn3TAECsU6wasoE4gfazNzJbZJu8+Iu4fl2jSPWlDnM0AzbHQO2/f1lB/2OrS8CmX7lch++3tG7W8szzc8SG+efWgnWVScpOCPg5ztlGoVSjFJRYCcG62c8iYcSfMbtke7Q9Ak9MCDIGDNeNYehOdLuT6gFkzVLdyE12zx23/7h1obvt5XXVcu9kts0MNx6jquXGJuQmHhg1xxCiwrlz23HjLuoE7pvaawtevyN9v6/KA3Lm3r/6DjMEYvm390A1luvdSUdkVgAxfofAkHlGVi8NOgzGPJDT5LYCG/RjINbTNWu3v9Nn29dJEa9XWpaYuJXnOj4v1Tigew7fUCaSPtpvTMswN7lLViz2NZyUCOn6II0ZV95RqycW3rj/j0z/jzzxi8UUHNHQ4YH/9buyWqZjKt64duDpmoxdYtWUuZTkK9QUKTwOQc0zDBx4/fs4xZ4J05Lngt67ZBxjJ4YdWNHNVhpjIBLn+iGsAs4Iqjqe/3bBmum3gTHJP+9DchsP0kbazW+Vw3kOqerGvXiSIrKnvUpZj1cZjGr3wtrWDV03FVN6DPQc8LjxggMdjPA5BuYzpv8Dc/En/Qk+94QIRlyIJkAFPvQiILgy7uU890m72cSNfJflm1cdmQpel1d6zQnjpzRxV87+yU6ReqKqDv8r/yuPfmjmb1HUZjtvdnMe+e7J95ITZbbI57ykFLvA0npVYL8x3KcsRWFjxR9y8rv/cP/dfYA5BuYzH+ANm/qAiboNxBUhg7xi0wNy8rt9bvnoXWvgJkOErBHGJugQeHKGcaY8eP7fnVUs62VAoZEa22L3fuCRBz4iro6JCFB8M8wdBlY279DeepVjbD3BHtigj4xgz6qN8+3j7+SdlmZzpRDQoLjEnAFetS2FHIPDFXvTZ+h9e/+OghYYFdjCuOCjeDzqkeveCAjg+7B8DkF8ReGepSlmYshxRtQpQXMpB4M6uE57zeNvCS369pLN9adshOu3CaQYADm10KIAKkVTXt2U6FjJZt/Wwyk5lqtpdJHijqt1LOk27cJp5aVu2Xrm0s32i3fzLjTqzCXxiTKJIGVQUMQobt+Kf++n66NRrhjTiQ6zauxcUHDS/Pylmfk9hAVwf9s5BC83otf3fjkl0mEB/CHOOgapVBcc0ZqFoEOKsF59ou/ApABg+fbid1G2Z22dSHwIAS9UIpYaOLx3k+miiKy8Qs+/utYrJpQTQpG7L3OHTh1sAeKLdggkuRf6loLy4xiwAVlUbpohRlT2exM8cvb7gtUaDssxsj+zt8w8eXKAWkiLuKSyA46kd03+hue2TAfNjdm9fAB+HgiGUkMKIWolJTCIm9/pxbd/96pGOhSdeU5TvAdCnjpya8OsFQyVJe0169RZrhZbUm6mlgBJrtXwlx8da4YRJ4vxc9+UOQHpNUb43ru37+ePavftNhPNGxSQmqlYoWBdFwpxtAKwtR3mfW9YHfW7Iw08GF6ilrJe7FxSg9/wv7FRM5Vs/GbR6r5RcIJCZDoUZxKogYhCX2hLP5fARxudVT7R7d+yDbd4O/earEZY1GTVITe1DTfAFwqR6RDgZIkzOm6qJr6SbksAwBABXfZTvP9jmDfeJdu/fJ/CLXAr/otSWeBxkkBII6nKYFTKnTHad/7t1A1ZNxVQ+Zf6Wn9Qsp1OtpTUNxhVYhH/IGMzm29cP/Dxuiy/zNP6UQajUUCix+hq5MSnzFUCEc+4Km5w1T7ZddLYlzVOQrTq23ZdjoZ5IKJGlW3mGf/V8KQAxEnvoxBnZT7Z9/7ywabguwpE7FYqYlvkEcgGoIVcNQuVxiU8q0+ilv1s/9NMx+DMvwiI5WIOqOqrVFb/HYzaA2fJwx3v41tVDvgdwwyNtCz/O5rybAG0naqEQQ4CW2hIb4vBxAL3qaKhQIM00mLBEQM1ujOT+ekvZSb1IIjVnpqZSk9EkTy36hqXhKGZzPsGg1Bb7BDZQNQQO3g5JoU+jdu/44xCeOGz9yXJjryl8zwE6MQ6E/Vql21ePkYndVvK0Th/S79b3m1Rqd1+pwOuG3VImlxLqYOISE0/icOD2V9WWQWgsUIeaoatfTdZE05y2wMo+zhUAGgLoDodC5/sSV8/GRIOVBIgpRMxOGYFmlOqeK2/9pOCZsmNZJ3VZxuPrAFygDjNPRxV1FrNqI57Ce/T7TwYuVr/s8riNjnUpawVAcMglAKQQjWtMKqZf1rTVTIriWlflVM51KshQ2fGSvi8Zu05cCiAuUZHAy0lOkHoMl8Kr4jZ2b7lGL//9ugEfLD7jfeLcDbjmAHzLB0p1+lKG83GpAoq/dV7FN1wkxfhDl0cfOb7wPWa+ykHWWQo9lACyyblN1QeDE1Th5KjcTIaPOYv/s/kEeQfLMBETfxLYCsV7KKTPWuxlbEsbaGtl9vZhBCYGcwyHCARDznZfvJlltnjS7z4p+AAA/nrqB9zzrZOkV2oOZN1QPbx1g3DDSsjYRvN5bJud+rtPmy6ZcvL6oq27vp3vUtYFShjkKOWpKnz4mpiRX0PLkvAoJGTrxvZGAeCOzQWpPNVfYxMd1aOcNPs7JE8U9dG2aX8Y97/AFAFdlI1ofBA+//49MBkoAU32RHHY8u+T5Su2IfE+A/IoYR1Xy0/acwLBWtxMDgWWtO4lorkxLX/Z7om+fPs3Q+LbT9hO4w9bQ79dcLL89qeIdT+pns1SxcT8Ih61rLsAwCPHzz3MmKyBLrnnWJWBBOQqNDH3iYB9dyFlIL1fVNYC8gVgv/rd+sE/7OP8/aZxxy7O9dzyw0FoQUpjQxQ+1dP4vipeMJOSXE5MIS1jmEJfY6/4iM35/fpBWwHgH91W8K+KOsv+BOpri36GcQfwRyj1uOTfOHfy5QoAj7YtbMlwTzZkzhS1pxOZRgyGr3EViCRSKrhicnjw6ZC71+HQDqju8DS206r9BsA2QLcLZAdAP0C1GAZ72fpRH47nWk9iHHbY+GFVzjaKPAY1VkIzAM0BOoxhjghxuBkTN4nZaEuFjVTT7v+f5s4ntK4ijOK/M3PfM7GmFAP+SQ2VBGKhiP9AQlWqpELt4i3swlaLa8GVqOlCCyIIWhB14cJFBaWSUqlIXESpSlNIiQr+qWhLJImtxCK0hFQ0yXv3znFx3wtJ6zrJWV+YuXOY+WbON3O+pv+GQqbrZBKJYi4ojuQpH05ujL94bmAa4FOG9B6BEZ5YhW3/SqwJwS0c2zOksTMXeOe3AwY4tPWrWwLhzkqo7jTUhLZGZRTOyVMjJSWH0qhIgAKhLKMK2AXNeLcQFP8VcV5iwfaicQOcJ6eSFMUgiBAqAVURbcmpPbm4vnDRboqg8lEX5dGupVVRVnlEiqqETBmFGyQ8ITScu/5lUjoz+OvARQA/ZF4Lp/Ty6I5VJ7aFNSUY4JXaLxSXZnT3bR+y59iRckbfcaLDIdya0XafpFpy/mhU1pmFKkVqkLtOwq2aP6JkXM2Z7mUxs5X+AdwUo67y0mv5nzW/W2bobZOaeQQhlFVClUiF3HUK57NR2QmTPsvT4ndJvjh4ducVgONPPacfpx/jXEfuj7/YvWpj+X9Yc4JbGH76A/K8j+lv+zXVNce7pzb5pa7jYWPHpo0hVjszh/sRu5zyRyy62+IGROmBkTsnObdNsaJEaHkXsaU1smyntKQgu2R+SUaWQVIMispUISrDhvn0D0Hhj2CNEvR5o6h/I7g0vzB75eDvj6dnH/5bvSdv4PZdh51tvona4dq1P7kGWDcEt7AXc0//TxwY79PQk+2aSVO8cLQ3PcP72tLXXc2kLFLdpqjtNg+A7zXuiYpU1EZQoOmVhV1QUFDaDJUZVy1F8UBQIBKRIuVyL5ITDS9QlEv+tND3htNWfjoRfk71hWI2zS6+PrXXh/ZNhu7Qw76P5v1G/4R/GL+Lo+tsSNdXb67Cn8+brjdL84+v96PRy2N6deTBa57uvb3tZGfu2CPTZ1KvYAt4M+hmoFOow/IGvHRTvg7Mg+bAs8BfsmcszmMmrTCR0OTg2U8uw1sr2jq4eyzuuHG7B45gIbf6uF7xH8x+qII6qfVbAAAAAElFTkSuQmCC",downloadUrl:"https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba"},[t.WalletNames.Nightly]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAABHNCSVQICAgIfAhkiAAAHXlJREFUeJztnXl4HOWd5z9vVbVarfuWb8k2trFsY2xjbG5jsNcJIUCwB0MYpkOA5swmu8kkbHZmszub2c1mJjMJC0xnAvQD4QqBDRCHAAbMYYg5jAGf+LYsyZIlWbdV6q5694+3W63W2d3qUsuG7/O0j+6qet96v+/xe3/XKzgN4PWZbmAucCZwBlABTAbKgHwgD/D0u60baAt/GoBa4DCwH9gD7Az43Z1jUX8nIdJdgXjh9ZkCyAB0YBJwYfizFJgX/j7V2AV8CLwT/hwCbKAn4HfbDpSXcoxrgsOk5qJG4EXAamAhsChNVfos/NkIvAU0AW3jmexxSbDXZ+YAJSgivxb+lKW1UgPRCrwE/AH4AGgM+N1t6a3SQIwrgr0+sww4G7gENVrPSW+N4sZnwKvAG8DWgN9dm+b69GJcEOz1mROB5cDVwFdRo/dURCvwCvAc8G7A7z6S5vqkl2Cvz5wArAK+Ev77VCW2P9pQ6/QG4PWA330oXRVJG8Fen3ktsB41Feelqx4O4yTwGvAU8FTA77bGugJjTrDXZ14AXAdcA0wZ6/LThOPAiyiSXx3LgseMYK/PzAK+Hf4sHKtyxxl2A48DDwb87qaxKHBMCPb6zHOBHwGXcfpOx/HiJEra/nnA797kdGGOE+z1mTcD3wPmO13WKYZ9wIPA/QG/23SqEMcI9vrMQuC/Ad/iy1E7FEzgd8APA353nRMFOEKw12fOAf4VWOPE809DbAbuDvjd21L94JQT7PWZs4FHgPNT/ezTHDuAmwJ+99ZUPjSlBHt95sXACygT3ZdIHDawLuB3P5eqB6aMYK/PvAhFbkGqnvkFhQTWAn9IhZVKG319wOszrwRe5ktyUwEBPAt8y+szR83PqB8Q1kw9y0CPiS8xOvwGuGq0DxkVwV6fuRKlgnONtiJfYlA86/WZ143mAUmvweGt0EdA9kjXahqc7Abbhuws9fcXEZoGXSfVvz2ZIGXcty5KdguV1AgOb4UCxEGuENBtQn6e+pzsVi/6RYMQYJqqg5cUgdmjvosTT3l95pJkyk24qb0+MxelxFgez/VCwOFqybqrde681UVHu6T7C0ayEBAKQfMJG+83Da5fZ1BTJxMZwXOA+8OOEQkhmWb+7ygD/YgQAjo7oahQMH+exsIFgrXX6Bw8rF4ugR58ykIAQoNDRySrV+pccJ7G3DmCaVMEbW0JtcEy4Gden5mQvJMQwV6feStwa7zXCwHNLZLzlgrcbvXdNV83WH2pxu69NroTjq7jDIYBhw9L5ldp3PRNAyHA5RKcv1SjpU0m2snXAz9M5Ia4CQ6b/L4H5MR7j2VBMARLF2t4POpNcnPgu/cYFBYKjlRLDCOR6p5acLmg7piktUvwD39nUFSo2sDjgSWLNDQNgsHEHgnc5vWZcc2gECfB4Q3391HRA3FBTc+SCaWCM2ZqZPSZWAryBQ8/kEFzu6C2TuI6DUl2uaDhuGTrPnji310UF0WHqq7DpEmCGZWCtvaER/FU4Dtha92IiHcEf484190IhID2TjhrgSA3d+Dv5aWCZx5xUV0Px+pPL5JdLmhskmz7HF56zMWsmQMZzM2BcxZpvdumBHE58LfxXDgiwV6feT7w1yQwNYOanm1bsPwcjbzcwbtoZYXg2UAG2/ZDXf3pMV27DEXuHz6A3z/kYv68wZs4L0+wdImGbgh6EpumAQxgvddnjqjpimcErydBHyohoKtLUlgIU6cKXOHpedcemw+3xmo5Zp0hePnJDPbVQG2dxDiFBS/DgIZGyZYd8O4TLhYv1GK2gzt2SbbvjL5/Qb5gykTo6kx4mgaoBK4Mh/cMiWEJ9vrM9cC6hItGaWzmzhJkZ0XL338AfvCTgd117hzBy09loBuC6hqJpp16WyhNUwJVSzu8+mQGy5dqA/b6//iLINs+jW5+c3NhQZWgO3mHnRuBO4et11A/eH1mESrKYEKipUoJtoQzZghy+ui6NA02vSjZs3fgDn/aNMEDv3AxvUJQfVRiWacGyUKo962tkxQVCfz/mkFV1cCKNzfDE7+xkX0msOwswfQKDaGJZNW3buArXp85Y6gLhhvBVwN/lUyplgWaLpg0UfRujwCO1dvMPAsefCg06H1TJgv+/l4XKy7SaGqWnDyZ1NQ1ZoioH483wpKFGj/9exdzZg1e4fv/PcSUeXCiJdq53ZlQVqam9tDgTRIPrkAF5w2KQQkOB4FdhOohCSMUAncGFBeJXsFJSmhokMw7U/DMSza1dYPr6SZOENxxi4v139Dp6YGWVsad1isyatvaJR0dkivXaHznLoOpUwavZEsb/NuTFufMF9Qds2kNxyAKIC9XkJcDPcFRdebLvT5z+mA/DDWCL0BFHiQMIVRliwvUhj6CxibJ8UZJTrZg7lS4799ChIYI5CgshGuu1vneXQYzK6GxWRkphEg/0UIoQ0HzCZhULrjbZ3D9dQZlpUNXLPBoiOllkJsraGqG443Rzp2ZKSgvTVjh0R9XoCIyB2AAwV6fWRq+IWm/qlAISksEmZnRlz7RImlrUy9WMU3w6iabd94deuHJzhJceIHOHbe6WLNScLJLcqJFEgqlx1ChacrM2domaWuXXLhccKfPxarLdPKHcQr+dIfNk89azKwUSKCjQ9LaGiXY44HyMoFloZx1kqwesNbrMyv6/zDYzvNslE9QUpBSNURpCWRmRr/v6FCStQhvgyqmwCOPhag60zVs758xXXDDdQaLF9m8sMHmo08kBflqJog0+kgYatTHY83RhGr39nZJSxvMna1x1RUa86o0ysuGn05aWiW/fihEeYlSfpg96tPeEb3G4xGUlQhAqPokP0OtAZag8oxE69/3P16fmY3Ke5H06FWNJigujB3BnV1RG6htqz3gsQbJM89ZmD3DP7OoSHD+cp3bbzG4+1adYEhQe0zSGp4R+o7ovtO4ZSkhqLNL0t6hZpC2NvXvzk6JaarZJrLG971XC/+7vUNJyF3dgptv1LnndoOVK/QRyZXAhj9b7NkrKSlRI1QAlq10BBFkuqGoCNDASn4Eg8pRcll/FWb/EVwGfH00pdjhXpifrwStCExTYstoB5USykoFr22ymHWGYNVKfcT1tbJCMGmizhkzBVu32fz5NZsjNZKifEF2tiKzq0vSEwSJQNfVyHG7BZmZSsuEgFBQGUG6TAj2EG58pS71ZAk8mdDepZaV/DzBtV/XWH6uzswZGllZ8bXDlvdtXthgUdp3dgp37p4+HdrtVp1dF2BboI9u+bkK+L/AicgX/QmuQk3RSUPaqvfn5ogYA0OwJ3Y6lVI1uOGCRx+3KC0WLDp75LfLyIB5VRrTpmmce47N5r/YvLzR5uARSUmxYHqlRsVUweRJgvIyKCwQeLLUKNdEtGzbhpMn1TRafxxqayWHj0qqj0oOHZUU5guuvkLn0os1Jk0SFOTHP3fu3iN5+FElRGZnR5cCES47GIwdqpketdtIgSvTZGC512d+HolF7iXY6zPzgG+MtgTbVtYSj0cZuiOw5MA1T0rIyRa0tMJvnwqRnWMw+4z4unBuDsyZrTFposaF59kcqZZMnCgoKRa9ozbDRa+adCiEQmpEmT0yvC2TVFdLpkwWTJwgyE+AWFCG/cefDlHfCEUFYtB13u73naFDhoveaXx0MzXXo/zTmyB2BOeRpGKjL6RU04xh9GuYIWotpfLV2n9Q8ptHLHzfFsycEX+j5uZCbq5GZYUiM9FtlGGoT1ZYpVpeJpheAa6MxOWd6qOSxx4P8ckOSdEQHuKy948oNE2RHAqRCoZXobSPTRAWssIK6/NJ0GI0GKRUI7j/Vma4hhcCCgoEuz6XPPRoiMPVib9hRkbq9sgZSZBbd0zy26dC/OUjSUHe0Fs5wcB6ahroxqhHbl+s8fpMA6JStBu1900JhMaAFjKMoV9aSvVbcRF88pnN//p5iEOHU/i6DuNojeRf7gvx5mabkmL1rsNtwXQ9tnGECLdN6l75UsK+6pEm13E4rUJGhhhW8R0hubxMcPiozX/9HyE+3zf+Sa6tk/z0/4T4+DObieUCXRua3Mh2zJUx8LcUK+jOJZzaMdLmxaSQYMse+JJZHrVGDtezZVgQmzxR0NZms3JdDxtft0arxnMEtg0ffGRz+bU9HDpiM22K6NVRDwdDJ8YAA0roClmkkuVSYAFECR5Uj5kMRHg/11/kz8pSe754tEeWBeXlgvPmwV33Bnn86VCM9ifd6OqCFzZY3HR3kDnTlBXMHqRT90dEPsnqF8Vl21EJOoW4HKJS9IpUPVXTwt6U/UZdfp4gJ1twojW+54RCSgGwpAp+5bfYvkty920GlRXptTbUHZM8FAjxuxdtFs5WBoR4TX1SKnL7667tsPdpitfhiyE6guOKUogHEVXkyS5ltI+goEBQUBB/Y4CatjwewaIFgoefsnjk8THPIzYAL/7J5u/+t8WS+YKcnMTex7aVL1Z/pUkopAaEpqVUkl7m9ZlCCyfTrkrVUzVNrSlt7TLGmSwvF0qKGVHv3B9SquiIZQsFa69Kf7zLqpUa676u0daeUOgJAD1BZSMvLo4SLKXSlYeslFvJcoEpGiruJWXQwlJkSyv09PM1KikRmD3xN0ykGT4/KLnuGzrzqtJPcGWF4MbrNPYdTtytqLtb6d89faxspgmtrRLbdsQMerZGCkcvRCwykqZmSbcZy+SEcpGQICE0qG+AS5YL1lyu9+qS0wkh4OILddZ+TedobfxDWEoIhuQAK9TJbmhqBqQjBM/VUGccpBSagMYm1WP7orRE4IlTktY0ZUO2gb++waC8fBywG0Z+nmDdtQalxYLWVhm3BcjQYcKE2Pfo7laeLkI44n82W0P516YULgOON0m6u2OZnDxJrT8j7Ws1TRkADh6V3HGzzvwqLe2uOn0hhPIYve1bOvWNyio10uizbMjPFUzo11FPnoSG4455qUzTSHHGVynBlSFoaVP7xb4oLRFMmyZoaR26twqhpOf9hyU3X69x8QUaGYNoftINw4BlS3Xu+rbOviOyVwoeDEJAVydMniyomBr74qYpaWiUMabVFKJIw4Ek3IauRmDzCUmw3zZi7hyNltbBhZOIJqi6RvK11Rpf+6pBQcE4Grr9kJUFqy7XuWmdxoHDEis09Hs1NklmzxIx4TlSKh+v9k4VUpqoVB4HcjUgrii1RKDrYFmSY/WS7n7BVecs1sjKEjF7ZIg2zNFaycIqjWuvMpgyefySG0FJseDKKwxWXaJx8MjQge3BECxaGDvETROOH4dQyLG4rGyNFJgI+0MIJWjtP6h8n/qicprgrHmC+oboNB35u/YYnDlLcItXZ/bs8U9uBNOmCm68weDC5RqHqmNJFgJOtMKsmWIAwZ1dkkPVdq+hxQFkajiU38qTCXsPSE52D5x3VlyiceAIvTFIQkD1UZg6CXw3G8yr0sbHaSEJYOZ0wc1/Y7BkgWDfQdn7XroO+w5ILjxfGyBtd3bCnr04tf4CZAxiuR09pFQqxuONUN8gBxgeLj5fw9bDgomAPfskldPgP90zdLjlqYCZ0wXfucvFssUa23aojh0KQXuP5KurB4ZNdnZKjtRIsjyOrL+AMjY48mjDANuSbPnAZs5sjcI+wlJBvuDq1QbvbbGQEi67WOPuO4aPDjhVMG2q4Cc/djHhN0F+/4JNZib8hwt1Jk+KfbeOTtj6iU1Xl6Sk0DmCHRnBEWR5YMduONk18Lcb/kpj80bJ9Ws1/ssPh3d+P9WQkwPf/66LO2/ReXOLzZVfGTgrdXVKPt0uyUyhq9EgEAbqDIGUC1pSKsvJwSOS2mM2EyboMYLEogUaG9/I4LIVp+6UPBJuusFg8iSN5ecOfMeWVsn23ZL83KRDR+NBjwY4doSqywVWSPXUk/3UlghOa3IjuGyFRnY/Z/nubti+06azU8aE9ziAbo0+XvCphpSQlwNbP5G0t49//6qxQmeXZOs2SbbH8VNROjWg0amnSwn5+YLPdtocOWIPUG58ESElNDXB+9tUWEx/J/gUo11DnXztKFyGihX6EuF9vyZx6WMS69yioU61dgRCqPWmsEAwdYr4QqQujAdFBYKJ5dDlfIqKag11QJNjMHskxUXRXJVfAjQdykpETJShQ/hcQ51T7xiCQSgs+GKlDx4JuqZ8s/pb2hzAbscJtmzlcPclwVFoGmTnDIwydACfaAG/uwvY61QJlqUi98aDP9V4gRDRADcHOe4GDkbG1RbHipFha8mXBEchRDT5qnMMfxDwu+1IMW+h0uKlHhGT4Cgfs++AZOceyYlmO7y/1phzhqBqrrM9Z+9+ya7dkhMnbCRQUKAxZ5Zg7pzkyx0shNQBvA3R0JU3HCtGMqpe+tl2m6efs9jyoU17h0paAmCaFu5MWLpI48b1OgsXpHaR373H5olnLN7dYtPRGVuuJwsWn6Wx7hqdZUuTLFc6zvBGiBJchxK24k74HTekcldJ1hy2Y5dN4GmLFcs1KqZGg9oi2dK3brN54RWb/3mvwdprRk7kEg9e3mjx45+G8LhgRqVKCdG3XNOEZ/5oMe9MkRTBUkqCIUclrFbgA4jGJlnAJ06UpOkqP1ayEuPKFQZ/s1anpTXayFKG82FqML1SsKgKfuUP8fqm0etCN79n88sHQ1ROgjmzRG8wXSS01baVLfeqVYJLVySnuZFSOSVKHJuq30e5lPcS3AP82YmSDD0ampEMykrh+ut0JpYrZ/pIuEjfXFjZ2YKSIsFLr1gcOJi87a22TvL6JgtNCPLyoma8SHm2Da2tarr+5noXldOSY8eWqpM4uLN4C8WpIjh8yuUmIOWh1i4DTrSMLkXQ/CqNO28zqJgCNccknV0q5MM01afbVI3+8XbJvn3Jd6b9+23eed8mO1uNsO5wGd3dKpFbXb2kMB/uvt1Ifu1FdcqmZkePMdgQ8LtDEJtlpxX4PSoNT8rgzoTjzXLUarlFCzW+e4+LTz612fyexfFGpUSJOMoHgyoX1wdbbRYs0Jg4IbHhcaIFdu626exUniiCaK4NTUBpMay9ymBelaDqzNEJdLYF9cdxyqH/XeBo5D+OEiwluDMEdfWSY/U25WX6qDRaM6cLZk7XOXuhRmOjctpTBEtaW5TAdeCwSnGYOMGSXZ/DRcsEy87VKSwEl6F8pQxDHe4164zUzKntHSr1f26WI75YjwMtkf/0Ehzwu6XXZ34K7AbOTFVpuq5G1779kqq5sekNk8WMSnUkTX8sOlvjSLWMcfCLF3m5sO4a5RxXMU04tk8NheDgIZuODklx6qM2GoF3An5371LbfxWoB54nhQRH1HI7d0uuWAM4GGc0ZbJIOhqipFhQcp7z2odgSLUF4XwdKfbHegGo6ftFzIQZ8LvbURqQ5E7zGQL5eYLtu1V29C86QkHJtu3Km8OB6fkVwhnuIhhsRfwYNYpTApWPEmpqJTt3Jy/hng6QEg4ekuzZZ5Ofl7zyZwhsAj4K+GMN7wMIDvjdtSiC+/tBJg1NA7cL3nvf/kITbFnw7hYbK4QTwWZPAfv7fzlUMW+jSB7V8eIRSKky2L3xts0dt0JBn3TjDcclbW0qOYumKafxslKREmFsLBEMqXdpb1dEZmSojLhlpaJ35yAEbHzTprw05dPza8CbAb97wFMHJTjgd9d4feYmUkhwdrZSUjz/Yohl5+ps3WZTU2NTV6/OMYgEUHs8qlGmVwjmnqmxcIE2YkrgdMGyIqeZWRw8KKlvUEoY21YjNDtb5ayePFnjnEUa+/bb1DdIZs1IOcEvB/zu3YP9MKTY6PWZk4BfAdemsiaRs5Aam8CTBVkeld9RCKWbtW0V9d4ZVuWds1jjjttcTEr4eC5n0doG9/uDvPsXGzOojm73ZAo0PZr427Kg21SkFxcoA5LHo5wfUkjwJuDugN+9Y7Afh90XeH3mt4B/YRRnOPSHZaus8HocbqO2hCPVEhv4+T9kcO6S8eE1sHev5D/eG6StTTKjQoyYXTZCthBKN5/CwSuB7wf87l8MdcGweqWA3/0I8GTq6hNJFh6fFUUTKnC6MB+WrTB59fX0e85/vM1m9lITISVVc5Qr8EijUQj1znpqyQX4LfDAcBfEozj8A/B5SqqTBIJBKC0WrLtGsPorwQGnl44l9h+ULF4T5Oo16kyINGfBrQdeCfjdw+524przvD7zJ8CPSPKou1TAMNSJYRs+hRPvu8lJeTzk8AgG4exLe6gsl+OBXIAHAn73XSNdFK/q/5+AV0dXn9EhFFLS9aIy+OWDzjsU98ejj4eQps2U8UHum8DP4rkwLoIDfncHStg6lHydRo9gEKrmCF74k8X2nWOn9qyplTz2O4tFZ2lj4aw+EhqBBwN+95F4Lo7beBfwu18HHiTsKZAuGIZSfb64YewErj++ZBEMSrI8KVcvJgoLeCzgdz8d7w2JWmf/CWVvTBssSyU13bHLpiaBZKDJorUNtn5sM3liYrmhHcILwE8SuSEhgsOuPT9CeQ2kDRkuZTDfsSt+goMh5SbT2JSYd8mu3TbVNTLmqPo0YRfwtwG/uy2RmxJWeQf87gavz7wbeIIU2o0ThSdTsGOnzaqVwycqtW3lW33goE1NnbJmTZwgmFGpMX+eNmLU445ddvoPLYZjgC/gdyccCZp0zb0+82yUaTEtCAbB0ODeH7iYM0RWvFAINr1l8diTFo3N4HLJ8AHWgtwsuH6dxupVRkyC7r6oOyb56c+CNJ3A6VwaI+HSgN+9KZkbk/aQCvjd24D1hP1vxxqGAU0tks3vDS1sffqZzcOPhmjrkBQXqUD0gnxBSRH0hCSBJyy2fjz0/ZvfszhULdMd2/ydZMmFURAMEJbmUmqMiBdCQF6u4I23bLZ+PLCPSaky2bR2CPLzYrO8apryMrEswbZPBskABOzZK9n4uk1ujkhn6OsdjKCKHAmpqPrzwC0peE7CyMhQ/srP/zHE0ZpYgavbVAeDRFxTB9veuN0q5XF7e+z3TU2SFzeEqKtX/tZp2hr9GHg4ckxsshg1wWEj8yPAutE+K1EIIC8PPtwGv34oxJE+h1p6MlUujM6uwdmRqHRG5WVCncAdRn2D5JFHQ2zcJCkojD0idwxxF/DPAb971DqHlFQ/4HfbAb/798BaHIiOGAoSNd2WlsCWj2x+cV+IPXujhM6fr+HJkBxrUGa6vhlgW06A2a2uMcIhRtVHJfc9EOJPr9mUlzHsOYQO4k7g1wG/2xzxyjiQcvnf6zMXMcZbKCEAAQ0NkpoGuHGtzvq1ysf54CHJLx8I8dE2m/x8ZYJsaYPZMwX33G6wcIFGY5PkmecsHnnSojBPnZ0IY05uLeAN+N0p1fk7ssHz+szFwP2k8ES1eKDrKmapukaiG4LLL9G49iod25J8/JlSckgJRYWwcL5Obg48v8HipddsujokUycrN5s0JGzbAdwe8LvfSfWDHdvBe33mZJTFYx2OurvHIjINd3VJjh2H9k5YslBQNVuoZGwSNF2y/4DkLx9JPBlQXgY5OaI3RHQMYQEvAj9IRokRDxxV0Xh9ZhbwXZSUPd3JsvpDoAQk21bxyZ0dMhpUL9WBGtlZ4fN+SctaW4dayv4x4Hc3O1XImOjgvD5zNfCfUcfYjrnaQPT+EYs0bX9slFvyfQG/+1mnCxszJavXZ04A7kG54s4cq3LHGY6iLEL/HPC7D4xFgWOuRff6zCtQIapXAnkjXH664CTwR+AZ4Jn+4SVOIi1mkvDafD1qNK8kfN78aYp3UJ6pTwT87paRLk410moH8/rM2SiCrwQuxaEjftIAC+U3tQHYGPC7P01XRdJu6ATw+syZwIWoEb2CU5foEEqAehJ4e6hwkrHEuCAYwOszBVABLAFWAasZ463VKFCL8jr9M/AhcCDs/ZJ2jBuCIwgTXQhMAC4ArgHWMA7ripqG/x8qbVE10DxeiI1gPDZaL7w+00BJ2pWotfpi4BxgYpqqdBz4CNiMCtn8HGhPhdXHKYxrgvsiTLYLZQE7F7VmXwQsBoodKrYN5Zb0dvizGaX46onkoRrvOGUIHgpen6mh1u55QBUwC5gKFKGiIj3hT//NZw9qf3oSRWQzShGxH+XBuB3YP1qDe7rx/wE6BbqXqL0k3AAAAABJRU5ErkJggg==",downloadUrl:"https://chrome.google.com/webstore/detail/nightly/fiikommddbeccaoicoejoniammnalkfa/related?hl=en&authuser=0"},[t.WalletNames.AptosGoole]:{icon:"",downloadUrl:""},[t.WalletNames.AptosApple]:{icon:"",downloadUrl:""},[t.WalletNames.MagicEden]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAACGdJREFUaIHtmnuMXFUdxz+/c18zs8u2MLO02Gntg26jKVA1hviPoUBsDBhiIn+YQNB/MEEQEQMGESpqozGCbxODAWKUYJr6SBMDEdMGq5AoCEGSLoLAbltImW07szuP+zg//5i77bKdndfOrpjsd3NyZ+89557v7/4e5/c798IKVrCCFaxgBe8ayGIGb8iPXZEg2wU9D7Dz7qfz5tD0t87pIy36LThWoALy4kTp8OP9cu5Z4A2jWzdbK98BPtXvpAPCfiNy+xtvHx7vZZDTS+difttuVfYB7++J2tJgTOGWkVxBy7XSwW4Hda3h9fltDyt6Q3/clhYCj0yUxj/TTd+uNLw+v+0eRb+4KFZLix0jubyUa6UDnTp21PCGwratVrUnP/lfQYxumTj+8qvt+phON7Gq9w+O0tJCm8G0LToKDFw9AC7LhY4rR1uB1+fHdg2Oy/KgmB+7ot31ThrePkAuywLpwLmtwArnDJbO0kPhvHbX3c7jW8MSE1LCMITPEL0mbRHKW5r0NKY5hzCKEMiC8y3IGToL3PKuEadwNcul9lamZYJD5iHWcCHSVQyEY8SMiMdufzNuOsVsoj3LWUVA55wTxTgh4oU8UCkxGSUUnd5LgZ41HFPlfPthrqp8l1XkcMwMHwyu4AH/Ot7DFkyHXGaKhJ0mzw/O2UnB7ZawABYnU8XNlvlsMc+eo6/zw1KVoulN6O5UMgdvyySX125nmBxq6ohYNkcXc0f0EEd5hYSFzdSiVHWae3M7GTY+kVoibPP4jpYQzvs/UiWyEFohKx43rctDZHul37vAMTCqeVxTwzUxjiSoCdlqt3Nf/DDHeI2YuOXYozrFg9lPcoGzikRTI1Y4y5BE5pjymdOqAtagVhgyzkLe2taHOwl8tr0o+E4d3zTwJcQ1Ea7EIHU26Ra+bX/Gm0wRz9P0JDVu9j7KR7zNxGmw0palMLgILgZXzJmjGBwcXAwihl++eRK8lubc1sY7+XBL+CbEE0FIELE4kuBIAiZiCxu5X7/Bl+Ru1lLAxaFCzIdkDZ/2L0XVIkYRUWT+dgDgYvhD7VU8MfOYCxJFuFGdv779Fj85eYKi21N125XALc0jkAaeKNAkbkhwTZJqOmKrbODH5mvcbL/Jas7lFAl3+1cxLD5IHUERFBdDIhadtweSFYfry/vB5OfNLKAGxPQlLPThwwC+08A3YdOsTfO3m5q3IzGYBttMkV+4d3KShD3ux9noFFBiDBbB4ouwr/oy0zZiri5jtXws816+P3wlYClKMKf5FI1LUfqi3ZXALf3BlwaBmRW62TImwZMIz0Q4EoE02GrWsD/4Apd570MlxEiCEUvGCIfCSW6a+TN7Kn8nRpkTpojUcm12jFuCrUxq1LdwrdBJ4NYmnWp29pgxMS/JP8FU8U2CJzGOxIiEFCSLL4pJ/dwzynFb4drKk1xgRnkkmuDBmRfPmkOAW4cv4RJnmFr7wNsT+jTpkMA5Y84ZE/EKh/me/TkqMwQmxpMIVyKc1MxdiXGNJSHitsoBMpLBQVgnAffVnueP9f/gimH2GVuUEfG53t9ISVsvc8smcGCay1LgzNGyCE/pc3wrfghrqgQmxjUxrjSXLUdicqI8XH2Wg0mJQpqRKQpi2OiOpMtUatrS3Ped1ohe8/R26F1gnfXh+ryglQDn8ZROsLvxa6zUCEyCZyJcE5E1ysHwVfY0XmCdBLO34qg2+OnQpWz3Cmky0oSD8FpcZnfjMBdIfxG5FfoIWgGBExKkPhyYBr5Tb0ZnoEiWA3qEe+r7iGSGnLEMOcoxO8V11UOMSvb0TY9ozI3+Rq7JbCFRezrxMiJUbMjny4cYxsEZoIb7WIf9plaxpy964uCSMPt8imR4wh6jNvN7rvEvREh4tDHOMEqQPuMqStEE3DK0Iy0NmjDSXJruqjzNP2yFdeKd9apiMeijPHTTtNKmi4ni4TQzrTndi/j8y5Z5qvYMIBTEY/Vpv4UprfGbkV2MOlliTcVVcMXw1emn2Rv+GyTHEU3f4KgBFZoZq7DWM3RdbPUgcAsNu2mQUmya+HviNH1Y5R2PKIchl/rrXBzRiHuyF3GxN0o4bxMgVstXhnZw19AHmidEcfwaJqjiBFX8TJXnwxPseukEa6FnoXvPpdUQOCFNQ1MUwReTmnRnNHUZ87ncRUSzws7JqRU45/RDUowb4fiK4yvGV1zPcvlqjz/5AVc+U6eYXeJ6mHRfw2DTPLqZKjZLws6Tl0i4wd+EL+aM+cyzI03/MAm4DXBCcELEDcGNSCRkbLWFqOV8Ay4PxeP5qIQnDqLginDc1vhR+AZrulg+zsXwSPwWMYqT1r1nmiDpOSOK40W4Xogz29xmC/yQF8oxeF1y7kHgs3C+ZLhx+mmei45TJ+H1uMId5b9R1hivCw27CNiIL5/6C+PxSaoaMT3bbNhsGjFjqsyYaWbMDFWpMSN1ZqhTocETx0OuflZZk+mVfR9By0cI1bLr1OMgAWiDIcmwrofkoCguj8Vv8quTr8OCaaMBdcCaZoS2Akl6dIU1mYXq//bobwMAoSg5LIqRXD+3YC0OSK6z2w8uyQI6m3Tb6/P3JP4f0OHNg0wtF5EBotLuYluBHfTsQvVdD2nLuaNNFvNjg6u+lwGTpfFFL0t7B8RlObC/U4eOAhv0zsFwWXoYlds79ekY9E/Vpk6M5AoCXDYIUksFQe6dmDq8r1O/rla5cq10YFWusAnYsWhmS4D0s6Xbuunb9bJerpV+typXUGBn38yWBl+fLI13/UlVT3lMuVY6uDpbeFSFTcBYz9QGi70G/cRE6eXf9jJoUanS+vy2XaDb008j3vlOe/AflxpFphz0xTdK408uhvcKVrCCFaxgBe8S/BenczprG54PsAAAAABJRU5ErkJggg==",downloadUrl:"https://chromewebstore.google.com/detail/magic-eden-wallet/mkpegjkblkkefacfnmkajcjmabijhclg"},[t.WalletNames.BackPack]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABBZJREFUaIHtmktoXFUYx3/fTEpNSoNaQYpzZ6hVwUdEs2nVeM+krYLBiotW8QWhmyyEgAsREXHjSlEwuBKxghYkvh9VEUzmXHVRC11YUIylJnOnlGLBByilOvdzkUayqMw595HEcX7b+/++7/+fe+fcOfeOUDDzdbOppOwR5Q7gWuBSYCMAwk8oLeAQwruBtZ8V7UeKanx8tN6/LtGXUe73KPtD4OFKZF8tylchgVthWFPkCHBxyhZvBpG9J09PS5TybvjDrvp6RQ6TPizA3mZoXsnL03JyP8NxaN4H7gJ+Bk4AvwCJwywFBoALgRqwDmF3YO1Hefrry7NZ69b6RQm8hzCpyOmanf3dt8fczl3l/nZ7I5psReWyPP31+D9Q2G1piV/HQin3dRijcGZwg15y4OOi7eQbOB4d6aPdNwx6t8I2gc3AJhYXpE60gVPAAjCjwidVa4/l6Q9yCjxvRgdLmkwKTACVPHqe4yjwIu3S/uCr2T/zaJg5cByafcBzLN5OiuKkwEQlsh9mbZQpcGzMGyj3ZjXhisCBSmQfzNgjHXFovgRuyTI8JUeDyF6ftjjVT8vYmGnShZ0WZLeWZDgRGUF4BJjz7DEUh+ZIitlAijMch+ZR4BnPssNJWcZqs43T5zvYNOYBUV7z8SPweiWyD3n68AvcrJtAEubxuzIOBZHd3kkUh/UdoJ/7+EHYG1j7lk+J3yWtPO9fI06LWhA1ZhCmPP1MNUdGL/ApcTbfMmaLKHu8DMF08EVjwVldlidZ3Fm5sllKyeM+hpwDJ8q4T+NzeF1uwUzjN+A7zxn7WrePOu/6nAML3meXNvK9b43Ccc+SSnImqbuKnQIvGBMA13gaQWCDbw3Qn2LOuKvWKbCo3OxrAqCMDvvWCNyYYtT2uR23lV2EboFFt6UwgcKkj75ZNzexuLvyZWt/+6zTMzS377ByZQoTAFfFoRl3FUvCSynnoBC46FwXrTSf+hL7T4RmrJOoacw7wHWppySyxUXmupynWXz+IYGDrdBMaYlng4ZtLT/WDE0o8ALKDVlmIAy6yJwCKwxk3TgrTJIwEYdmDuEYMIByNVDN2HrZiM44BRbHZg6sB4ZQhnLq503ubx7WOr3A3U4vcLfTC9ztuAYu/B3UStFNgfPbHgJvZzCyEqiU1LoInc9cbOoG1Sp+D9lWBJVSVLWz8Wr76NFjFfD4Dps6yhVFmkmBAGcV+bQaNU65FnQkDs3TwBNZnBWNlLi80rA/dtK53pbuy+incJJEdrroXAOvuVvRefjLReQaOK9HPKtOb/PQ7fQCdzu9wN1OL/C/8F944uGEa+Bc/sm6FnAN/E2hLnJA0G9ddE6BVXgsm53CORhE9msXoVPgqrULWpIawgesrcv7JPBUENk7XQv+Bqq6CqA/Q5ivAAAAAElFTkSuQmCC",downloadUrl:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof"},[t.WalletNames.Coin98]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAAZiS0dEAP8A/wD/oL2nkwAACxFJREFUaIHlm39wXNV1xz/nvvd2V6tda2XZli1Z8g9QbGMoxJAh7SgV0yGlU8qkoQ0lyZBpJ9BO0h/ATMo0jcmQyXTaTjtpaJsmqWdCJklDcQMNIdMfkGaiVElonAQDxrgGY2RbsmV7pdWP/fV+3Ns/3urHk1bSW2xLxXz/07nnnvs97/445567EpZAYaDvRuB9wC8Am5bS/X+AM8CPgMdzvf0/WExJ6gkLA313AH8JbL0k1C49hoA/yfX2f21+Q8ThwkBfM/AV4PYVInap8W3gg7ne/olpwYzDhYG+LPBd4IZVIHYp8QJwU663fwxAzWn4Zy4/ZwF+DvjG9B8KoDDQdw/wq6vFaAXwS4WBvvsApDDQJ0AeaF1dTpccJaBVAe/h8ncWIA28TwF3rTaTFcSHFPDO1WaxgniHAjauNosVRKsiGpoue7ylnIW3oMP2hXUPQE9g9ClgdI48i6gtIC0gDQ5hfIwZA30MqIbJrwFkG6LaQZIXxPgNOqwxwVmUvR5n00dw2t6JatoAygYToCt5vPwBvLNfQ7snEasdsOLZTGwmuWkvzto9SCKHiKC9IsHEq7hn9uNPPoOozY1/yBqkMNBnGuphPGCM5Oa9pLrfC6ppCV2X6tB/UDnxZ6AFJLWIng+Mkuz6JKnu20ESi5r08gcoH70fE3ggS4y9CBpz2FQRK036qr/DbrkqdregeJziSx/DuKfqkAzATJHe9QWcthtj2dPVEaae/z2Me2bxj7gIGji0AhBN89WfX9xZ49UVW83baL76YcTOLdTRZ0ht/4tFnNWAv5B0sp3m3Z8FKdd04iP2RjDBKZp69mFl3zZPXsQ98z380WfR3nnEzmHnrie56WbEyc3oWenNNF35KUov3wXSAQiYMtaa20h2vDs6WFCicuop/LFnMcbFyuwi2fkerHTXrL3mrSS79lJ5fS9ixa8+xVvSpoLVvIfMdQ+DOLO8ioMUX7oPXXkOkXW1tgCj8yhnC+mr/ha75eqIqakXPkYw8X2QNOiTpHf9E8662ezW+JNMHbyboPQ/4amMYMwUooTm3Y9i52btaXeUyZ/8CpgUcRdrLC2jz5PYeHvEWRNMMXXwVow7jFhbQWXCkCFpxOrCBGWKL74fXR6K2Ep23onRZ4EArC7slh2R9tIrnyMovRjalCaQFKLWgclQOvIRMO4s+UQrVvYWMJVYzsZ0WCNWDrv1moi0fOxLGG0WPyklCcam/Nq+iNjO7QjDlPFQiS2Is2amzfgF/NFvIlZbXXu6+kO8wuG5Qqzm7WDKy7tRw/IOmwBJ9KASLXNkVfzzjyFq7TLWM/jj38G4+VmKVhaVvCIMRZKIUDBBFUxpcVrSifEmoiKVwpj4B1fMGW4FNZvhaHccE4zF6K4gGEG780g66wGN0UUgCG1WRqiefJLwnk54mptKOHvGDXmoDtzT38QvHJqxZfwiIsslNbOIcUpLLZRoprMlURaIopbzLdPdXpgVGRfEwXgn0eVh3PxzVAf3hjOMIAokcR0q0QFYmGAMXT2MCUbwJ55m6oW/x2l7kKYr7yEoHWsoAYnhsML4Ixi/hNjZ0AenDZXcha4OLZkVYXzE2YlKzd2TBu0OAw4YoXjoj9GV5zFGo5JXktj02zhtP49KtSFWEhDQHtqbwh8/jHv6Cfzxs3ij/0Lw3H/XzpH4ycfyS1osjHeUoHIuIk50/S7G/9GSXY0+RWLjHYiVnpHp6gim+iqIBSh09RTGTJLYdB/ZPY+S6r4Dq7mr1ifUQSVRyTYSG95F5trPkN6xH1Ea40/Ulvsyq6whhxGMsfHP/TAiTW58N876T2D8lwmX9jxng5PYa24j1f2bEbl3/gCGgOlrkNEnaNr+BdI9H0WclgV26vFJtN9E5rqnwFK1PDw+YiYePmI3kb1+P+LMLXAayscfwT35YYxZC7KmFiJGSGz6a9I9fxSJ3egKEwfuxHjnwj0cDJHsepCmbR+qP6x7DqM9VHJd3a3jTx6lePBmUNuIO8uxLw9G50msv4v0zgcWtvnj+IUjaLeAOFmclrchiXUL9MrH/pHq8N+EGZSpoNK7ye7ZR3ShGapDT1E98RDafS4kaWVw1n2C1PZ7UIlojK6c+AaV1/8UsToursMAJjhKautnSXXfEbfLDKqnn6by6t0zs2GCQZp378dpe8ecAVymDj2IP/p5xLq2ts8hXPpjiCqSufYZrMz22S7+JJM//SDGG411R26oxCNWD5XX/5DysX0YHTOdMx6Vwcdqzm4lDHM+KtGDs/a6iGr52CP4Y48h9p45zkIYqtaC2UDxxTtBV2db7CxO221gorF+MTRY0xLE2kV16K+Y+tmHcc/9AONP1fczKOHlDzB58F4qgx+vzWxtOFPBavnFyP7WlTO4I19ErO4lhk+i3WGqp78TEdutbwfq85iPN1QnEasDXTlO6eUPoJLXYmVvRDV1IXYGghJBeRg9+WOCyo8R1bHACUMJqzl6afDHj2CCUcRaw1IQqxPv/DMkO2+dkalUey0WL58INeiwhpm8VSHWVow3ip//V6CKwQcshGR4y7G2gQnmhA4Jl6qpLghB2h0D4hToLIx3NiIRKwHSzEV2WCN2BlF2aFgU2psMM07JAJk6Q2lUci2zcVrQ7jhIYuElwGkB3PkG6vNwopcWoz0wxfCOvQwaqnikd3w9clkvv/YI7tBnQNW5zhkXldpO9obZn1kYb5SJA7chNBEU/zei7rTspKLShF9w8aPFBMM46345ItPls6DLYC0fixs4tBIE5eEoybYbMMGhutpG57HX3hQlVh2HIA+SJhj/PnPrVaqpg0T772OCU4tTMFXEaSPZcUtE7Bd+BpKN5UVsh0WtwS/8hLlppN1yDc6GT2P8o7V9agANehSV2LwgXvuFQ2FvsdHuUbzR5yPtTVfejd16J8Y/MnMlBBMW5/V5UJrMNfsjxXjjT+Hlvx1meRfTYaSJYPwJguLJiLh51wMku/8csZvBnAKK2K2/TubtjyL2HBLGxT37JCJhaiqqncrgPiJVSUmQuebTNF3xRVTqCmAczDnEzpLYcDfZPd/CyvZExq+e/k905aXYhfnG6tJ6EnvtrTTv/hTzT0PjTaDdccROoZLrF3StDv8b5WP3Iqpzto8+Tar7IVJb3l9nrEpYaDAByslEP14N/sTRMBEhQ9y5aywsqSxe/qtUBneS2vKBSJM4a7Cc+svKH3ueyvFPIir6FC1qI9UTDyF2lmTnr80bK4VKLX7PDYrHKR3+g7BiKfEXasOvh2J1Uxn8OKVX/oF6RfL5cEe+R/Hw74BJsvB9SUC1U3ntfkqvfA4TxMuW3JHvMnXwtzD+5NIFiHr8G35bqsEEZ1HJ7aS678VZd300NuoK/vgRKicewR//FmJtZunHNAN6FLFbSXR8lET7u1CpWrF+WsMv4I0donryywRTT9deJ+PXsqbxhh0OWXgYPQwMopwbEacTdAFd/SlGC2L1NPjgFWCCPJiXEXsnKtEDKhXWvtxnwXQiVtcFPZlemMPzyIZpp6rtqfhll/qYTmNNzWbjs1kPF/ggPhfWRSMVQjV0GDVg9a2Ft6TD8UoFlweqCnhxtVmsII4o4PHVZrGCeFwBX11tFiuIL6lcb/95YN+yqm9+fD3X2z80fUo/QPhvMJcr8sC9UAtLud7+AvBeoLpEpzcrAuA3ait5Ng7nevufBW4m+hvCNzsmgFtyvf3904JI4pHr7R8ArgKeXGFilwL/DuzO9fb/11zhohl+YaBvB3A/4VLfcGm5XTTkgSeAh3O9/S/VU/g/Ug9BgiKWjjgAAAAASUVORK5CYII=",downloadUrl:"https://chromewebstore.google.com/detail/coin98-wallet-extension-c/aeachknmefphepccionboohckonoeemg"},[t.WalletNames.Phantom]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABWxJREFUaIHtmltsFFUYx39nWkCigtxEmG4JF43WSzSAMTXEUHnQgBhvCRqNQZTOghgNGthZGyHiTqFRHtR2FpCYmICoiBGiEnkyTbzgJZaAKEhIYKdcQzByk+58PjQr2+3Odre7M1tMf097vvPN/3z/nLOzs3MO9NNPP5czqtwF5KIl5oxSSkaAGoHIVYCGUheBv4FjtdPHHLjtrsIs9CnD8cb2GnHd6ShVh0gtMAS4AtCypHcAp4HdwCYR2RiOVp3qaYyyG15rtVcnxV0EPAlcV6TcFqUNmFe/9FpP42Uz3GI5M5VII3BLycUVzxsR/d3sXQETjyWeFlgNDPN5qM2GqT+aGQzMsB1zZoC0AJOCGhPYZJj6nPSA74Ztq70acZuBmX6PlRVFgxHRV1xq+kg8lnhR4E2y32UDQ8Ht9ab+K0ClHwPYK48MIel+Jsh0P/QLRaAZuBt8mGHbcqYh8iVwZam1i+ROw9R3lnSp2ZazFJFv6HtmASJQwiVtx5wNiDxeKj0feAhKsKTtVU4lHbIDuKfoknxHaiuKuXxNLDFUXHYBd5SoonTWgXwIqgO43iOnA+R9UB+hUMCEnIpK29vrGW5pPHKNcpP7gJG91fBGphhm1U+plh07/BKotzKSzoi408LR0C+X8hLLgNdyCH/aK8Nxq32YiLuH4h/2s7HGMPX6zKAdS+wGatJCyw1TX5Yl7xgwykO7reC79LrVTqWIuxN/zAJ84BH/IqO9zSPPKw5QVbDhjnOyA5hY6HX5Iso9kb1Htae3XNc97CFxKIf81QUZtmOJbfh9N3a1MR4dXZap0rzyZFwO9QF5G7YtZwUB/AFQGnM8emZ1acFjHnkP5NLPy3DccmYhEs0nt2iE+XGrvcvPnG05L9D9RcHLtpW4oUtezFkBDM+hfrTHu7Td2B7CdfcDA/MsuTQo1iO0AXXAbI+sf4D3gP10rr66HlT39vxo6brbCdosgPBMHlkDgXABqgdzLmnbcpqAmwoQ7OOofZ5LuqXRmaxc+THIcgLgOc8ZVq58HGQlAfF9VsO25USA8QEX4zdimPquboZtKzEakYZyVOQzX0O232GhARgcdDUB8DlkGLYtZxKwsCzl+IygPoHMGe6c3f8jrWFz7FFIM2xbzmiQJ8pXk6/EUx8uzbDIYnx6T11mjkuFbE41NIC1Kw9UAHPLVpK/rA8vqTqXamgAyeSgGfjybqrsnBeRpvRAakk/W4ZigmBVOFp1Mj2QMvxgGYrxm/aLoZHLMoOabR2uAQYEX4/vzF301CDJDGpKmFGOanxmvWHq27N1aIKa6uPAR0qgcQb4q4D8PYapz/Pq1ICbiy7JA9V5xKFIZDGdx5fy4azGhSm5EjRgbNE1ZUGQhwUVKlJmFUrL9WI9nZOum5w435xwLleShve2RDFsDJtVWyhud+Irw9SXCOosPS/pVldLhha8Wt3jV0ij9Ocv2gxTTz2TX+ilxreGqd8PEI6MOYXiFY+844BhmPq0BUurc85sCo3Oc4ul4k/XTaa/Km3rhcYGw9Rr0wNGRF+DohZoQqkNwEqQ+0TOhwxTj2eXyY6yY4mfKc3+bkLEnRqOhv7bA4q/fmikVGjH81YQWWhEq5pLUIsnGvBDCXQOIu7kdLMA9Q2hEwoW5XH9ViXueL/NAmgoNveclpPvNEneakRDR7N11pv6OyB1KFozun4HmnGT4wxTn10fDR0sso68UAB2LPEbcGMvrl5uRLpvSvdlNAAl7r10nj3Ol1aVvDj6cjMLaad4WhoTw5VLE/AIMDQj7wKdj4lbkeTbRrT6jwBrLCndtlpa3jgwWNMG1YgwHKhUSp1OIgcXRHSnDPX1008//XThX9DTrmAycJa1AAAAAElFTkSuQmCC",downloadUrl:"https://chromewebstore.google.com/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa"},[t.WalletNames.Solflare]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAADWhJREFUaIHdm318VNWZx7/n3LmTF17CJCHhJQkiUN6F0PCyLch7EAFRFxYXRbqlrt39UKhuFfmsi1ZdXCkFqmjXqtW2KkqrwrIYIgWWAoKIQBBcEJNCCBBJYEJCkpm5M/fsH+dOQjAvM3nrZ/v7Y/64c889z+8+z3nezrmCJqC80zPAvhfUOGAY0B0QTY1rJyigCPgC2Anqd8Kz/WJjAxoUXHmnDQG1BpjaujK2OQ6BWCw8uZ/U96es76LyZq8G9Tn//8gCZIE6oLzZa+v7s46GlTfbBHKBie0hWTtgB8RMF54tVvjCjRrO4a+HLMBk8Odef6GGsGMCk9tdpLbHRL1ENQSA8k4bDerAX06m9oAYKjy5xx0Nq/VtPx9giAbcZHtArQUQyju1O4gLbTaP1CSrKoIcPFzB8CEd6dLFBBcQApTS0bRdIHq5QCxom2cDhqDk6wAb/nCRpY+dcv5QPLAwnelTkhj3HQ+JHhPpFtGTFzTnRd0rlDd7GzAt6qGNwRBYPpvfvHOBB5acdKRzI02HUzAEBIEQ37s3jRnZSYwb46FrshsZIyGkwG6AjUO02mcTF280fF/9yBHKm10IpLeM4XVwS/JPVbJoyf+ye+8VIAZp1p/Q2TYQCpOHhfO7MenWRCbfmkjPHrHgEnXJS4EKKVaszOfo8Uo2vj4kWtIXhPJm27RWbuyW7N51mQkz8wCBNI2Ih9qh8E8IUMyfm8qM7GTGjulCxk1xIAX+iiBLHvuSX71RBEgWLejGiz8bQEysjNS8lVDe7NZxGaZk69ZLzJx3BHA7gruQZvRuWZO30ZoX3DY1kR8s6M5vN1zkv3KuIE0T2woyfFgndm8ZTufORsTruXUIuwRHj1aQOW4/4Gb+33Vl3l1dWbDkDOUlXrRLdoGQSFd0j7YtgDB5/QLDZPd9mEl8x+jWccsJC6isDNGx535HMKBjHOryGLAVF8742PeJlzUvnefAQa8zyAQk0ox+OtuyyPp2Anu3ZhITJ6N1Wq2QBhiCjZu+BvxIU2oTvual/OsABGx69Ihh7pxu7N+ZReHxsWx8YwjTp3YGgtiWH9uyHS02DdsKMGt6EvtymkcWWqphAVZA4U7ZB6gab2xbFuue7cPSH98Efrt2fUkBBmDD2bPVHPj0Ku9vucTGD0r1RVwgDWQ9vs62/DywsCcvPNe/2WShpYSloKjIR/rg3UgzvlY4Gwj5yH0/k+zJydqOQjckFQ55ZSmKzvv5+GAZ2/5Yyhtve0FSS1qBHfSx4tHePLGsD9Ilmk0WWsGkq332Nx8qARHLtLuPsvgnJ8k7Wk5lZQhipM6nBVpoSyEEpKfHMm9ed159fjD/9kh3sHVcDpNd9VQ/Vizrox1eC8hCSzXslpQW++naZ1cdDYehNR0Eggwa0Jm7ZyUxZ3YKA/p1JKaTAcHrMyrBf6z9M8t/WoBwufU7Cfp49sm+LFtyE0LSKjl38wgLINZgz87LzLzvJOVX/CCMBkOOTicVOjYHwYxj+ZJuzLszlWFDOoIULFtxmlW/OAtGDEKAClbz9ON9efwnNwOtV2BET1gAQvDc2jM89uQpwM2orM4cPHQNnV01nrR9gzwmw4Z1Ii/vKrhMnSoHA6xZ2YeHlvYGy27Vaio6wgKUDY8/k8/KNQVADMmpMRTljWLfQS+T7zgMmOAykBEkq7XkVU1GZlshFt2fyqsvDaqtnuzW03B0TssQrH/lHCvXFCDNOCDEk4/0JKazwaQpyXxx4G+YNb0LBH3YVhDbalxKIUCaok76KU2D135bjOi4i3Xrz/DZ4XL8fhtMoR1eCxG5hqXgwgUfPQd+jE7xBLblZ8s7w5g5sytYSgsUUhw6Us47HxTz8xcuAdXozMpo0tyvh35ZQcACOrHm33twx+0p9OmtCwlCzVN55BqWsP/gVSB0neAu3vx9sc4ZBFoIAVlZCax+dgCl+aPZtSWL5Q/3BBS2FUBFKKfWvOl4/yAP/2sBfTP38cOHTnLmTLXWeDMQOWEhKDzvQ6dKDlwG775Xws/WncGylBYiTNyySUo2mTAhkZVPfItr57/L268ORgWDNaSVciqjpoR0yCNjefn1Ynrfspc/vFdcG9OjQFRr2G3WDYZSAIbJoysKGD/zCB9uLaGkxNIJhkvoW4Na67YNm/77EiARQhNVwQDYFrZVrdd8E+SlAdJ0ATHMXXiMNzdcJCLv2CzCtmLEsE6EuxM1D5AgXCb7P7nGjHl5pPTdw+w5eeR+VEpZWQjiDa6VB5kxL4+Nmy475Z0Cu4rc94ajyiZxYPtolj+cDnZVLflGHJ5eUnEsePAYJ05ci8qZRe60BPj9iomzDrP/4LUGuxm68gmhnY3NrWNTOXfBx58LfEjT0Fmj8rEnZyRjJ3h0cSGFtgi/zeG8CjZ9WMLTqwrRzsFsuEVkBXl0aQ+ee6a/tqRWJQzgEhw5XM6I8YfQXrdpA7Et7dFqK6kAW969hZm3p9Su93C8FdSQr/IG+f3mYr73z6ed8d+cS1uBSdnZLBISXBHF6ujicFCRmZXA0b0jGTgwHtvyYVt2o55X18i1GhIuN7PmHWP63UfYsOECRUU+rIACU+rAHFLgt4nvIFm4MI2vjoyiX79Y58XdACEAH0HHT0SC5uXSLkFVRYhtO0p58dXz7NxdQriNI1zaKTUGnWGF2zYhZt6WwozsJGZkJ5OeHlereQBTkH+6ir6ZB9FdktqH695XgJL8cSQnuyOqpJpfLQnAJfBX2hQWVfM/e71s2XaZLTlXES7RJOkaoRVQQ97mwX9I45ElvejzrQ4QcLTqlryw/ixLln2lw1N4rKUAF2VnR0Zs0q3S00IKiJV88icvY6YcrWnWaYEsIu1eao1pre/YPIJJU5I0aUNw6uQ1Bow6AK6YmkhkWyF+9I+pPL9qIJFmNC3vaSlACo7sL2PMlMOAcMiGQJhsfnsISalx2FZVbQ+rgXhbG2fdTJ59iPwvK3XIUZCQYAIxN3hjiwnjEvVqihAtJ+yW7PnTZUaM3084X7atEOCm7EwWd8zuRmnBaM6dGM+mt4bSIz0e7OpGyet1arLul4U6XAGGFFzvmWzLJqNXJ7InJkUckqClhE3Jju2l3Hr7pyDiHbI2N98cT0XRKBI8pjbJgE1aWiyz70jl/OnRnP38Vj54cyhDh8SDHajfA2OweZuXqyWW3n2sDgEBEMKx3gBrnu5NR48ZVenYfMJuSU5OCVPuPARGvDZjG8Bm1+ahdOxiOs0C535baU1Uh8jIiOXOO1M5tmcke7Z9m8Rkd72kzxVaVFaFwBCczq8CbKQLVNDih99P4+6ZKbpBEAWaR9iU5OaUcPvczxCueN20w2neYdBr6AEef/JLPv30qm7euUTdRN9p4CEUY8d5OLJrOEhXPemk0M8MKH756yJAb7GMyOzE6qf7IZz1HQ2i7nhgCDZtvsRd9x0BGV9/DzkIqCAQID2jC4sXpXDXjBR6ZcTh7nBj8w5wS379ehGLFp9Emm79DEuRkWHyxf5RbNtRypz7j6MrNZPS/FEkdTWbVRNHlUuD4N33irln0ec0tg16PbSp6l3BKROT+Pu/TWXK+EQyesXVtmuFIP+rSvqO2Od0UvS4RQsSWfLgTQwbewiAhMRYvjwwgpTuN3rryBEZYSfWrv/PQn706EkgLup9Id2yrd0RnDEtkcUPpJGV2ZnktFjOna4kY8jHYLiRUmt49Mh4LEtx+OhVBg1KYM/W4SQmNU+zNVSaJOyY8VPPFvDEynyQsY45+tEuwAWGrFnHkaB2R9ACJP+0qAfjv5PAPYtOIlyumixNr+lqvn9fOi+u7k9svNEishChhh97Kp/n1hYgXHHOcQXJ3m23cLHYx/1Lz1B9tQK9voxmkFdo8iHdgK8hawM+Xnl+MD+4P63W/FuIxnMUAb5qm/yCKsCFCgZJSonjxN5MUnvGglLMmdud48cq2L7zMq+9VcyJL8qxQy4ibdrpe5yX5cC29F7w3m2j+e44jw490UWfhikpb7ZWWYMSCcq8FrfNPUZcrODd1wZ/02kYOuz4r4U4dbqSd94v5hevlFBVUYl+p5GR19r2seCenvz8mX507RYTdZxtAkoob/Z5oEejtxmC0ksBDEPgacxpXFfAl10KcPJ0JR9svcSqdRfQ69VsZDtU70S8+avBzJ/TDRE+0NK6KBLKm/0hML3JW8MKiuYclZMYlJYE+OxoOVs/KuWFlwvRBmXq/lYIsH1Mm5zMS6v7c3O/DrpcbJvDarlCebOXAyvb5PFhOKfxCCouX7HYtfcKz798kT0fXwLg9ReHMH9Od9xxsi20ej2WCeWdmgHibFvOUgfhUwCWorDIR7XPpv/ADtontPkRRNnDOU2bvR2Y0tbT1YGzCwm0SriJAIeE56OR4dO0D7XHjHUQ3hVsH7IgxGJwwpHwbD+OYk37zPwXgBDrRBf90ccN3zxM2wnqr+kTAEDsEJ7cmuV6Q8IRmgZiR3uL1IbYBaE6Ibfe9Mf5/uHH7SJS22GN8Hz0LzdebOxDrdHOpwFZbSpW6+OPIB4Sntzj9f3ZZIKrvLd1B3sBMAkYBKRFMq6doICLQB6IPSDfEp6cwsYG/B9N1rbFqj5FHQAAAABJRU5ErkJggg==",downloadUrl:"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic"},[t.WalletNames.Trust]:{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAABoNJREFUaIHtml1oHNcVx3937ux6tZJqtxLpFyVJwTVWDMUmpY0TSu3QQnFtmjZpmvah0Le+FAp1HKW0FBq/+LWlT3FLW2L3w7SVS6B5aF0IOMQUSkDSJowX6yUga0aW7d0d7cedOX2YWe1qLY3WO+NIgv3DZb7vOb97ztz5uBeGGmqooYYaasdIpa1gfn7+mWKxeKJQKBy1bfuAUsrKwrG2RKRljFnwff8t3/cvHTp06B9Z1t+vlOM45zzPM41GQz4oNRoN8TxPyuXyNJBpw26qUql0bGlpyTXGfGCgvTLGiOu6K6VS6fgDhXUc53SlUtk20F5VKhVxHOfMg4J9sVarbTfjParVauI4zulMYUul0vGdFNleVSoVKZVKx7LitVzXXcnSwWVX5K7Us6xSXNf1yOCpQ7lcns6ig1r2RK78W+SF50VA5AvyivzEzMib5j2phs3U9RtjxHGcc1vxbNkinufJxMTEQI21sgJvXYWzv4Crb68/dqz5S+omzx27Tkk1+T6f4rvqszxufZpxtWcge8vLy8Hk5KSddE4i8Ozs7Mn9+/dfzufzfRkMQ/A8uHYNfnse/vr3zjG7y1gLeHLl92ByWLbB0obAbrGiVylbhh+oh/maOsgR9Sh7VbHvPG02m5TL5W9MTU39bbNzElujWCw+uxWsacHNJfjPFfjLn2Gm6z0ol3BdvTYGxkbbBksHaNvwEV1kUhvetm/xhv0vlq2A59Un+LI6wGH1MB9T+9AJ+Pl8nmKxeAIYDHh0dPSJpOPvvAMvnYF/vtHZp+nvFaheG0cZC20HWNpg2QFamzjiBSZ0kUnb8F/7Llf0m9y2rnDCeogfWl/ioPrkpvUWCoWjSXYTgbXWjyQdf//9CLY7XfuRAhrVMVSgukB7weOlNuy1i3zYNlzSd3huz20O2psD27Z9IMl28g2uVFJWYlkdgPuRRRRhKxQsHayDa4N3Im/QOsDSAaHWYOUSvd7q4yUR+EFJAY3aGCqUdXDrIt3e35XqtyyNjNgwMrjtbQEGqFfHsCRE6wClTdR59YBrHaz14pYdgMoh+xKTbkttW4TrtXF0GAOtpW13Spu1dG9vo3JIK53L2xbhVm0PRgSlw3Vp2x3VznoEjcojZhdGGECtAqIQSxNoTaBzKDtc14npLljLDkBasFuBWQUJQWmih7dWiG7Dg9Ft+E4HhrSQ1m4F9kEJMWxURHcaQLRFoC0CqxN5QoOYXXoP48fLLmBlxR5ZrGsEYniCHASSymwqYElhW1bvjfBGRXVvt4Ag3SdvKuBiiheAjSK8ltLWBvs00IA9g305rikV8GOHoqVw/6+Xqhu4J403irBo4A48tvlrdF9K9W93chIePwxmgGvFB1bjEq+r1Xv3rZUKPPkoPDSWxuMMfmb/9OcDXtgL5ceNsEFD4AMu/OiptN5m0Es//XS0bJH8wd8rVY9XulJZbdJxSXy/fOVzab3NIMKjo3DxwgAXNrpKnfXp21sW4Dffg/E0nWSsTMZnvv4MTH0minK/Ug2gGS1VM1rfCF5uweGD8O2vZuFpRsCFAvzhYrTeN3QjTusmUI8boKdIDbgG51+Gkf7+I26pzEbgjhyBC69F62Ef57cj2440jXhfXKQO/A/+NAOHp7LyMuMhxxe+A9MvQUD0bE5Sd0TXQNup3QTm4eWz8K1TWXq4hTzPC+53BCAMRV78cTS6YCOS26TY4yL2h0TsfSL2hIieFLE/KqI/Hl17+mci4QAjEJ7nNQcGXlxcnB/ApoiInH0lcpzNoPMiuYKIXRSxxyJ4xqLzz54b1KrI4uKiMzDwwsLCq4ObFrk8kwCtRHKWSE6L5HKd82Yup7EocuPGjd8lMSXew77vv95sDp4hJ0/Bu+/C0c9HvXd3D64AQmgF0GrBF5+CchlOnRzYHM1mE9/3Lw1eA+B5Xuqhw1ZL5I8XO1HsLRdei+79tPI8L93HMoDjOOeyms9x947Ir3/VAT3/qojvZ1K1GGPk+vXr06mBAbW0tORl41Yk3xe5fTvLGkVc112hj8dsP89hcV33uWq1mr7pYo2MwN69mVVHtVrl5s2b36S/d57+5DjO6R08qeWBzeQ5s5Mmt8TTlrKdwdOr2dnZ467rruyAiWne3NxcZjN3tpLlOM6053myDVMPTTx5ZaDfl6mn+czNzZ0cGRl5dnR09Amt9SNbjSnfr0QkNMa8V6/Xr/q+/3rS/I2hhhpqqKGG2mX6P5N27g+5ExmzAAAAAElFTkSuQmCC",downloadUrl:"https://chromewebstore.google.com/detail/trust-wallet/egjidjbpglichdcondbcbdnbeeppgdph"}}},11703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVIDER_EVENTS=void 0,t.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces",SESSION_CONNECTING:"session_connecting"}},11778:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;let i=r(14903),s=r(71994),o=r(38962),a=r(45236);class c{constructor(){this.accountChangedEVMHandler=null}send(e){return n(this,void 0,void 0,function*(){var t;try{(0,s.logDebug)("Eip155Provider send request:",(0,s.safeJsonStringify)(e)),yield this.restoreConnect();let r=null;switch(e.method){case"personal_sign":e.params&&"message"in e.params&&(r={method:e.method,params:[e.params.message,e.address]});break;case"eth_sendTransaction":case"wallet_addEthereumChain":case"wallet_switchEthereumChain":e.params&&(r={method:e.method,params:[e.params]});break;case"eth_signTypedData_v4":e.params&&"typedDataJson"in e.params&&(null==(t=e.params)?void 0:t.typedDataJson)&&"string"==typeof e.params.typedDataJson&&(r={method:e.method,params:[e.address,e.params.typedDataJson]});break;case"wallet_watchAsset":e.params&&(r={method:e.method,params:e.params});break;default:r={method:e.method,params:e.injectParams}}if(r)if(("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method)&&e.params&&"chainId"in e.params){(0,s.logDebug)("Eip155Provider send request switch requestParams:",(0,s.safeJsonStringify)(r));let t=parseInt(e.params.chainId,16).toString();yield window.okxwallet.request(r);let n=`eip155:${t}:${e.address}`;return(0,s.logDebug)("Eip155Provider send request switch result:",n),{result:n,method:e.method}}else{let t=(0,s.getChainId)(e.chainId),n=`0x${Number(t).toString(16)}`;if((0,s.logDebug)("Eip155Provider current chainId:",t,n),n){yield window.okxwallet.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),(0,s.logDebug)("Eip155Provider send request requestParams:",n,(0,s.safeJsonStringify)(r));let t=yield window.okxwallet.request(r);return(0,s.logDebug)("Eip155Provider send request result:",(0,s.safeJsonStringify)(t)),{result:t,method:e.method}}}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(e){throw(0,s.logDebug)("Eip155Provider encountered an error:",e),e}})}restoreConnect(){return(0,o.isDevice)("mobile")?window.okxwallet.request({method:"eth_requestAccounts"}):Promise.resolve()}parseConnectResponse(e,t,r,o,c,l){return n(this,void 0,void 0,function*(){try{let e=[];o.forEach(t=>{t.namespace===i.NameSpaceKeyEip155&&e.push(...t.chains)});let t=[],r={};if(e.forEach(e=>{let n=(0,s.getChainId)(e),i=c.address.find(t=>t.chainId===n&&60===t.coinType||t.namespaceChainId===e);i&&(t.push(e+":"+i.address),r[e]={publicKey:i.publicKey})}),t&&t.length>0)return{namespace:i.NameSpaceKeyEip155,addresses:t,methods:[...a.Eip55Methods],extra:r};return}catch(e){throw e}})}connect(){return n(this,void 0,void 0,function*(){return window.okxwallet.request({method:"eth_requestAccounts"})})}singleConnect(){return this.connect()}addAccountChangedListener(e){console.log("window.okxwallet configEventWithKey: eip155"),this.accountChangedEVMHandler=t=>{console.log("window.okxwallet configEventWithKey_evm:",Date.now(),"eip155",t),t&&t.length>0&&e()},window.okxwallet.on("accountsChanged",this.accountChangedEVMHandler)}removeListener(){this.accountChangedEVMHandler&&window.okxwallet.removeListener("accountsChanged",this.accountChangedEVMHandler)}}t.Eip155Provider=c},11816:function(e,t,r){var n;n=r(16611),function(e){for(var t=n.lib,r=t.WordArray,i=t.Hasher,s=n.algo,o=[],a=0;a<64;a++)o[a]=0x100000000*e.abs(e.sin(a+1))|0;var c=s.MD5=i.extend({_doReset:function(){this._hash=new r.init([0x67452301,0xefcdab89,0x98badcfe,0x10325476])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=(i<<8|i>>>24)&0xff00ff|(i<<24|i>>>8)&0xff00ff00}var s=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],w=e[t+9],E=e[t+10],C=e[t+11],_=e[t+12],O=e[t+13],x=e[t+14],N=e[t+15],A=s[0],S=s[1],T=s[2],R=s[3];A=l(A,S,T,R,a,7,o[0]),R=l(R,A,S,T,c,12,o[1]),T=l(T,R,A,S,p,17,o[2]),S=l(S,T,R,A,f,22,o[3]),A=l(A,S,T,R,g,7,o[4]),R=l(R,A,S,T,m,12,o[5]),T=l(T,R,A,S,y,17,o[6]),S=l(S,T,R,A,b,22,o[7]),A=l(A,S,T,R,v,7,o[8]),R=l(R,A,S,T,w,12,o[9]),T=l(T,R,A,S,E,17,o[10]),S=l(S,T,R,A,C,22,o[11]),A=l(A,S,T,R,_,7,o[12]),R=l(R,A,S,T,O,12,o[13]),T=l(T,R,A,S,x,17,o[14]),S=l(S,T,R,A,N,22,o[15]),A=d(A,S,T,R,c,5,o[16]),R=d(R,A,S,T,y,9,o[17]),T=d(T,R,A,S,C,14,o[18]),S=d(S,T,R,A,a,20,o[19]),A=d(A,S,T,R,m,5,o[20]),R=d(R,A,S,T,E,9,o[21]),T=d(T,R,A,S,N,14,o[22]),S=d(S,T,R,A,g,20,o[23]),A=d(A,S,T,R,w,5,o[24]),R=d(R,A,S,T,x,9,o[25]),T=d(T,R,A,S,f,14,o[26]),S=d(S,T,R,A,v,20,o[27]),A=d(A,S,T,R,O,5,o[28]),R=d(R,A,S,T,p,9,o[29]),T=d(T,R,A,S,b,14,o[30]),S=d(S,T,R,A,_,20,o[31]),A=h(A,S,T,R,m,4,o[32]),R=h(R,A,S,T,v,11,o[33]),T=h(T,R,A,S,C,16,o[34]),S=h(S,T,R,A,x,23,o[35]),A=h(A,S,T,R,c,4,o[36]),R=h(R,A,S,T,g,11,o[37]),T=h(T,R,A,S,b,16,o[38]),S=h(S,T,R,A,E,23,o[39]),A=h(A,S,T,R,O,4,o[40]),R=h(R,A,S,T,a,11,o[41]),T=h(T,R,A,S,f,16,o[42]),S=h(S,T,R,A,y,23,o[43]),A=h(A,S,T,R,w,4,o[44]),R=h(R,A,S,T,_,11,o[45]),T=h(T,R,A,S,N,16,o[46]),S=h(S,T,R,A,p,23,o[47]),A=u(A,S,T,R,a,6,o[48]),R=u(R,A,S,T,b,10,o[49]),T=u(T,R,A,S,x,15,o[50]),S=u(S,T,R,A,m,21,o[51]),A=u(A,S,T,R,_,6,o[52]),R=u(R,A,S,T,f,10,o[53]),T=u(T,R,A,S,E,15,o[54]),S=u(S,T,R,A,c,21,o[55]),A=u(A,S,T,R,v,6,o[56]),R=u(R,A,S,T,N,10,o[57]),T=u(T,R,A,S,y,15,o[58]),S=u(S,T,R,A,O,21,o[59]),A=u(A,S,T,R,g,6,o[60]),R=u(R,A,S,T,C,10,o[61]),T=u(T,R,A,S,p,15,o[62]),S=u(S,T,R,A,w,21,o[63]),s[0]=s[0]+A|0,s[1]=s[1]+S|0,s[2]=s[2]+T|0,s[3]=s[3]+R|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var s=e.floor(n/0x100000000);r[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,r[(i+64>>>9<<4)+14]=(n<<8|n>>>24)&0xff00ff|(n<<24|n>>>8)&0xff00ff00,t.sigBytes=(r.length+1)*4,this._process();for(var o=this._hash,a=o.words,c=0;c<4;c++){var l=a[c];a[c]=(l<<8|l>>>24)&0xff00ff|(l<<24|l>>>8)&0xff00ff00}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,r,n,i,s,o){var a=e+(t&r|~t&n)+i+o;return(a<<s|a>>>32-s)+t}function d(e,t,r,n,i,s,o){var a=e+(t&n|r&~n)+i+o;return(a<<s|a>>>32-s)+t}function h(e,t,r,n,i,s,o){var a=e+(t^r^n)+i+o;return(a<<s|a>>>32-s)+t}function u(e,t,r,n,i,s,o){var a=e+(r^(t|~n))+i+o;return(a<<s|a>>>32-s)+t}n.MD5=i._createHelper(c),n.HmacMD5=i._createHmacHelper(c)}(Math),e.exports=n.MD5},11870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>d,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>N,__createBinding:()=>u,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>O,__importStar:()=>_,__makeTemplateObject:()=>C,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>f});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var c=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function u(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):d(s[0][2],r)}catch(e){d(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var s,o,a;s=n,o=i,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},11914:(e,t,r)=>{"use strict";r.d(t,{ME:()=>l,Nx:()=>c,Sl:()=>o,uU:()=>a});var n=r(35276),i=r(16871),s=r(42438);function o(e,{size:t}){if((0,i.E)(e)>t)throw new n.u({givenSize:(0,i.E)(e),maxSize:t})}function a(e,t={}){let{signed:r}=t;t.size&&o(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function c(e,t={}){let r=e;if(t.size&&(o(r,{size:t.size}),r=(0,s.B)(r)),"0x00"===(0,s.B)(r))return!1;if("0x01"===(0,s.B)(r))return!0;throw new n.H2(r)}function l(e,t={}){return Number(a(e,t))}},11979:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(76589),t),i(r(26459),t),i(r(62648),t)},12092:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Eip155Provider=void 0;let i=r(90794),s=r(99766),o=r(79864),a=r(30697),c=r(19476);class l{constructor(e,t,r){this.name="eip155",this.namespace=e.namespace,this.events=r,this.client=t,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,o.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"==typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){let r=e.chainId.split(":")[1],n=parseInt(r,10);if(isNaN(n))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${r}' `);if(e.params)if(t){let t=e.params;"chainId"in t||(t.chainId="0x"+n.toString(16),e.params=t)}else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);else e.params={chainId:"0x"+n.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(this.isRecord(e.params)){let t=e.params;if((0,o.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){let r,n=parseInt(e.chainId.split(":")[1],10),i=String(t.chainId);if(i.startsWith(this.name)&&e.chainId===i)r=n;else if(i.startsWith("0x"))r=parseInt(i,16);else if(isNaN(Number(i)))throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);else r=parseInt(i,10);if(n!==r)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`)}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method||"kaia_signTransaction"===e.method||"klay_signTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t)if(1===t.length){let t=e.params[0];this.isRecord(t)&&(e.params=t)}else if(t.length>1)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `)}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let t=e.params;if(t&&t.length>2)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(t&&0===t.length)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let r={};if(t&&2===t.length){let t=e.params[0];if(t&&"string"==typeof t){let n=!1;if(this.namespace.accounts.forEach(e=>{(0,i.fromAccountToAddress)(e).toLowerCase()===t.toLowerCase()&&(n=!0)}),(0,o.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",n),!n)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(this.isRecord(e.params[1]))r=e.params[1];else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `)}else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `)}else if(t&&1===t.length)if(this.isRecord(e.params[0]))r=e.params[0];else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);try{e.params={typedDataJson:JSON.stringify(r)}}catch(t){throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],r=e.params[1];if(r&&"string"==typeof r){let t=!1;if(this.namespace.accounts.forEach(e=>{(0,i.fromAccountToAddress)(e).toLowerCase()===r.toLowerCase()&&(t=!0)}),(0,o.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(t&&"string"==typeof t)e.params={message:t};else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `)}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":default:return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);let{parsedChainId:t,hexChainId:r}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}}}configAddressAdaptInjectWallet(e){this.namespace.accounts.forEach(t=>{t.includes(e.chainId)&&(e.address=(0,i.fromAccountToAddress)(t))})}request(e){return n(this,void 0,void 0,function*(){if("eth_signLegacy"===e.method||"eth_sign"===e.method)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`${e.method} method not supported`);switch(e.injectParams=e.params,this.adaptArray(e),this.client.needCheckRequestMethod()&&"klay_signTransaction"===e.method&&(e.method="kaia_signTransaction"),(0,o.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,o.logDebug)("eip155 request --params--string>",JSON.stringify(e)),this.configAddressAdaptInjectWallet(e),e.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(!(!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method)))return(0,o.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);if(this.client.needCheckRequestMethod()&&("eth_sendTransaction"===e.method||"kaia_signTransaction"===e.method))try{if(e.params&&"object"==typeof e.params&&!Array.isArray(e.params)){let t=e.params;"string"==typeof t.input&&""!==t.input.trim()?t.data&&("string"!=typeof t.data||""!==t.data.trim())?(0,o.logDebug)("eip155 sendTransaction:  data not empty"):(t.data=t.input,(0,o.logDebug)("eip155 sendTransaction:  replace data with input")):(0,o.logDebug)("eip155 sendTransaction:  input empty")}}catch(e){(0,o.logDebug)("eip155 sendTransaction:  replace error")}try{let t=yield this.client.request(e);if((0,o.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;if(e&&"string"==typeof e&&("true"===e||"false"===e))return(0,o.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e;return t.result}return t}catch(e){throw(0,o.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${e instanceof o.OKXConnectError}`,JSON.stringify(e)),e}})}addEthereumChain(e){return n(this,void 0,void 0,function*(){let t=yield this.client.request(e);try{if("result"in t){let r=t.result;if(r){let t=r.split(":")[0],n=r.split(":")[1];if(this.namespace,this.namespace.accounts.push(r),this.namespace.chains.push(t+":"+n),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,r=t?t[0]:void 0;r&&(this.namespace.rpcMap?this.namespace.rpcMap[n]=r:this.namespace.rpcMap={[n]:r},this.setHttpProvider(n,r))}this.events.emit(s.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch(t){throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null})}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){let r=t||(0,i.getRpcUrl)(`${this.name}:${e}`,this.namespace);r?this.setHttpProvider(e,r):(0,o.logDebug)(`No RPC url provided for chainId: ${e}`)}this.events.emit(s.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return((0,o.logDebug)("eip155 getAccounts ",e,this.chainId),e)?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>(0,i.fromAccountToAddress)(e)))]:[]}getHexChainIdFromRequest(e){let t=e.params,r="0x0";t&&"chainId"in t&&(r=t.chainId),r=r.startsWith("0x")?r:`0x${r}`,(0,o.logDebug)("handleSwitchChain --\x3eargs ",e),(0,o.logDebug)("handleSwitchChain --\x3ehexChainId ",r);let n=parseInt(r,16);return(0,o.logDebug)("handleSwitchChain --\x3eparsedChainId ",n),{parsedChainId:n,hexChainId:r}}handleSwitchChain(e){return n(this,void 0,void 0,function*(){let{parsedChainId:t,hexChainId:r}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(t))this.setDefaultChain(`${t}`);else throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,`the method ${e.method} request  error`)})}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){if(t)return new a.JsonRpcProvider(new c.JsonRpcConnection(t,(0,i.getGlobal)("disableProviderPing")));(0,o.logDebug)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,i.getChainId)(t),n=(0,i.getRpcUrl)(t,this.namespace);(0,o.logDebug)("get parsed chain and rpc:",r,n);let s=this.createHttpProvider(r,n);s&&(e[r]=s)}),(0,o.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,o.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}}t.Eip155Provider=l,t.default=l},12182:(e,t,r)=>{"use strict";r.d(t,{S:()=>f});var n="[big.js] ",i=n+"Invalid ",s=i+"decimal places",o=i+"rounding mode",a=n+"Division by zero",c={},l=void 0,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function h(e,t,r,n){var i=e.c;if(r===l&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(o);if(t<1)n=3===r&&(n||!!i[0])||0===t&&(1===r&&i[0]>=5||2===r&&(i[0]>5||5===i[0]&&(n||i[1]!==l))),i.length=1,n?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(n=1===r&&i[t]>=5||2===r&&(i[t]>5||5===i[t]&&(n||i[t+1]!==l||1&i[t-1]))||3===r&&(n||!!i[0]),i.length=t,n){for(;++i[--t]>9;)if(i[t]=0,0===t){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function u(e,t,r){var n=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&r?"-"+i:i}c.abs=function(){var e=new this.constructor(this);return e.s=1,e},c.cmp=function(e){var t,r=this.c,n=(e=new this.constructor(e)).c,i=this.s,s=e.s,o=this.e,a=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-s:0;if(i!=s)return i;if(t=i<0,o!=a)return o>a^t?1:-1;for(i=-1,s=(o=r.length)<(a=n.length)?o:a;++i<s;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return o==a?0:o>a^t?1:-1},c.div=function(e){var t=this.constructor,r=this.c,n=(e=new t(e)).c,i=this.s==e.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>1e6)throw Error(s);if(!n[0])throw Error(a);if(!r[0])return e.s=i,e.c=[e.e=0],e;var c,d,u,p,f,g=n.slice(),m=c=n.length,y=r.length,b=r.slice(0,c),v=b.length,w=e,E=w.c=[],C=0,_=o+(w.e=this.e-e.e)+1;for(w.s=i,i=_<0?0:_,g.unshift(0);v++<c;)b.push(0);do{for(u=0;u<10;u++){if(c!=(v=b.length))p=c>v?1:-1;else for(f=-1,p=0;++f<c;)if(n[f]!=b[f]){p=n[f]>b[f]?1:-1;break}if(p<0){for(d=v==c?n:g;v;){if(b[--v]<d[v]){for(f=v;f&&!b[--f];)b[f]=9;--b[f],b[v]+=10}b[v]-=d[v]}for(;!b[0];)b.shift()}else break}E[C++]=p?u:++u,b[0]&&p?b[v]=r[m]||0:b=[r[m]]}while((m++<y||b[0]!==l)&&i--);return!E[0]&&1!=C&&(E.shift(),w.e--,_--),C>_&&h(w,_,t.RM,b[0]!==l),w},c.eq=function(e){return 0===this.cmp(e)},c.gt=function(e){return this.cmp(e)>0},c.gte=function(e){return this.cmp(e)>-1},c.lt=function(e){return 0>this.cmp(e)},c.lte=function(e){return 1>this.cmp(e)},c.minus=c.sub=function(e){var t,r,n,i,s=this.constructor,o=this.s,a=(e=new s(e)).s;if(o!=a)return e.s=-a,this.plus(e);var c=this.c.slice(),l=this.e,d=e.c,h=e.e;if(!c[0]||!d[0])return d[0]?e.s=-a:c[0]?e=new s(this):e.s=1,e;if(o=l-h){for((i=o<0)?(o=-o,n=c):(h=l,n=d),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else for(r=((i=c.length<d.length)?c:d).length,o=a=0;a<r;a++)if(c[a]!=d[a]){i=c[a]<d[a];break}if(i&&(n=c,c=d,d=n,e.s=-e.s),(a=(r=d.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;r>o;){if(c[--r]<d[r]){for(t=r;t&&!c[--t];)c[t]=9;--c[t],c[r]+=10}c[r]-=d[r]}for(;0===c[--a];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(e.s=1,c=[h=0]),e.c=c,e.e=h,e},c.mod=function(e){var t,r=this,n=r.constructor,i=r.s,s=(e=new n(e)).s;if(!e.c[0])throw Error(a);return(r.s=e.s=1,t=1==e.cmp(r),r.s=i,e.s=s,t)?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=i,n.RM=s,this.minus(r.times(e)))},c.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},c.plus=c.add=function(e){var t,r,n,i=this.constructor;if(e=new i(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var s=this.e,o=this.c,a=e.e,c=e.c;if(!o[0]||!c[0])return c[0]||(o[0]?e=new i(this):e.s=this.s),e;if(o=o.slice(),t=s-a){for(t>0?(a=s,n=c):(t=-t,n=o),n.reverse();t--;)n.push(0);n.reverse()}for(o.length-c.length<0&&(n=c,c=o,o=n),t=c.length,r=0;t;o[t]%=10)r=(o[--t]=o[t]+c[t]+r)/10|0;for(r&&(o.unshift(r),++a),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=a,e},c.pow=function(e){var t=this,r=new t.constructor("1"),n=r,s=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(i+"exponent");for(s&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return s?r.div(n):n},c.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");return h(new this.constructor(this),e,t)},c.round=function(e,t){if(e===l)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(s);return h(new this.constructor(this),e+this.e+1,t)},c.sqrt=function(){var e,t,r,i=this.constructor,s=this.s,o=this.e,a=new i("0.5");if(!this.c[0])return new i(this);if(s<0)throw Error(n+"No square root");0===(s=Math.sqrt(+u(this,!0,!0)))||s===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((s=Math.sqrt(t))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do r=e,e=a.times(r.plus(this.div(r)));while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return h(e,(i.DP-=4)+e.e+1,i.RM)},c.times=c.mul=function(e){var t,r=this.constructor,n=this.c,i=(e=new r(e)).c,s=n.length,o=i.length,a=this.e,c=e.e;if(e.s=this.s==e.s?1:-1,!n[0]||!i[0])return e.c=[e.e=0],e;for(e.e=a+c,s<o&&(t=n,n=i,i=t,c=s,s=o,o=c),t=Array(c=s+o);c--;)t[c]=0;for(a=o;a--;){for(o=0,c=s+a;c>a;)o=t[c]+i[a]*n[c-a-1]+o,t[c--]=o%10,o=o/10|0;t[c]=o}for(o?++e.e:t.shift(),a=t.length;!t[--a];)t.pop();return e.c=t,e},c.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(s);for(r=h(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return u(r,!0,!!n)},c.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==l){if(e!==~~e||e<0||e>1e6)throw Error(s);for(r=h(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return u(r,!1,!!n)},c[Symbol.for("nodejs.util.inspect.custom")]=c.toJSON=c.toString=function(){var e=this.constructor;return u(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},c.toNumber=function(){var e=+u(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(n+"Imprecise conversion");return e},c.toPrecision=function(e,t){var r=this,n=r.constructor,s=r.c[0];if(e!==l){if(e!==~~e||e<1||e>1e6)throw Error(i+"precision");for(r=h(new n(r),e,t);r.c.length<e;)r.c.push(0)}return u(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)},c.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(n+"valueOf disallowed");return u(this,this.e<=e.NE||this.e>=e.PE,!0)};var p=function e(){function t(r){if(!(this instanceof t))return r===l?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(i+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,n,s;if(!d.test(t))throw Error(i+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),s=t.length,n=0;n<s&&"0"==t.charAt(n);)++n;if(n==s)e.c=[e.e=0];else{for(;s>0&&"0"==t.charAt(--s););for(e.e=r-n-1,e.c=[],r=0;n<=s;)e.c[r++]=+t.charAt(n++)}}(this,r)}this.constructor=t}return t.prototype=c,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}();let f={bigNumber:e=>new p(e?e:0),multiply(e,t){if(void 0===e||void 0===t)return new p(0);let r=new p(e),n=new p(t);return r.times(n)},toFixed:(e,t=2)=>void 0===e||""===e?new p(0).toFixed(t):new p(e).toFixed(t),formatNumberToLocalString:(e,t=2)=>void 0===e||""===e?"0.00":"number"==typeof e?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}),parseLocalStringToNumber:e=>void 0===e||""===e?0:new p(e.replace(/,/gu,"")).toNumber()}},12232:(e,t,r)=>{"use strict";r.d(t,{r:()=>l});var n=r(36117),i=r(34430),s=r(44839),o=r(18085);n.extend(s),n.extend(o);let a={...i,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},c=["January","February","March","April","May","June","July","August","September","October","November","December"];n.locale("en-web3-modal",a);let l={getMonthNameByIndex:e=>c[e],getYear:(e=new Date().toISOString())=>n(e).year(),getRelativeDateFromNow:e=>n(e).locale("en-web3-modal").fromNow(!0),formatDate:(e,t="DD MMM")=>n(e).format(t)}},12319:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(45553),i=r(28977),s=r(58653);let o={isMobile(){return!!this.isClient()&&!!(window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent))},checkCaipNetwork:(e,t="")=>e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase()),isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return o.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return!!this.isClient()&&(window?.navigator.userAgent.toLowerCase()).includes("safari")},isClient:()=>"undefined"!=typeof window,isPairingExpired:e=>!e||e-Date.now()<=i.oU.TEN_SEC_MS,isAllowedRetry:(e,t=i.oU.ONE_SEC_MS)=>Date.now()-e>=t,copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch(e){return!1}},isSafeApp(){if(o.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0];if(e){let t=new URL(e),r=new URL("https://app.safe.global");return t.hostname===r.hostname}}catch{}return!1},getPairingExpiry:()=>Date.now()+i.oU.FOUR_MINUTES_MS,getNetworkId:e=>e?.split(":")[1],getPlainAddress:e=>e?.split(":")[2],wait:async e=>new Promise(t=>{setTimeout(t,e)}),debounce(e,t=500){let r;return(...n)=>{r&&clearTimeout(r),r=setTimeout(function(){e(...n)},t)}},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),formatNativeUrl(e,t,r=null){if(o.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,i=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let s=encodeURIComponent(t);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(e,t){if(!o.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r=`${r}/`);let n=encodeURIComponent(t);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(e){return"popupWindow"===e?e:this.isTelegram()?s.i.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){return window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram:()=>"undefined"!=typeof window&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto),isPWA(){if("undefined"==typeof window)return!1;let e=!!window?.matchMedia&&"function"==typeof window.matchMedia&&window.matchMedia("(display-mode: standalone)")?.matches,t=window?.navigator?.standalone;return!!(e||t)},preloadImage:async e=>Promise.race([new Promise((t,r)=>{let n=new Image;n.onload=t,n.onerror=r,n.crossOrigin="anonymous",n.src=e}),o.wait(2e3)]),parseBalance(e,t){let r="0.000";if("string"==typeof e){let t=Number(e);if(!isNaN(t)){let e=(Math.floor(1e3*t)/1e3).toFixed(3);e&&(r=e)}}let[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${t?` ${t}`:""}`,value:s,decimals:o,symbol:t}},getApiUrl:()=>n.o.W3M_API_URL,getBlockchainApiUrl:()=>n.o.BLOCKCHAIN_API_RPC_URL,getAnalyticsUrl:()=>n.o.PULSE_API_URL,getUUID:()=>crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),parseError:e=>"string"==typeof e?e:"string"==typeof e?.issues?.[0]?.message?e.issues[0].message:e instanceof Error?e.message:"Unknown error",sortRequestedNetworks(e,t=[]){let r={};return t&&e&&(e.forEach((e,t)=>{r[e]=t}),t.sort((e,t)=>{let n=r[e.id],i=r[t.id];return void 0!==n&&void 0!==i?n-i:void 0!==n?-1:1*(void 0!==i)})),t},calculateBalance(e){let t=0;for(let r of e)t+=r.value??0;return t},formatTokenBalance(e){let[t,r]=e.toFixed(2).split(".");return{dollars:t,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)&&(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e)))return!0;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){let r=new Set;return e.filter(e=>{let n=e[t];return!r.has(n)&&(r.add(n),!0)})},generateSdkVersion(e,t,r){let n=0===e.length?i.oU.ADAPTER_TYPES.UNIVERSAL:e.map(e=>e.adapterType).join(",");return`${t}-${n}-${r}`},createAccount:(e,t,r,n,i)=>({namespace:e,address:t,type:r,publicKey:n,path:i}),isCaipAddress(e){if("string"!=typeof e)return!1;let t=e.split(":"),r=t[0];return 3===t.filter(Boolean).length&&r in n.o.CHAIN_NAME_MAP},getAccount:e=>e?"string"==typeof e?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,r="state=";if("auth.magic.link"===new URL(e).host){let n="provider_authorization_url=",i=e.substring(e.indexOf(n)+n.length),s=this.injectIntoUrl(decodeURIComponent(i),r,t);return e.replace(i,encodeURIComponent(s))}return this.injectIntoUrl(e,r,t)},injectIntoUrl(e,t,r){let n=e.indexOf(t);if(-1===n)throw Error(`${t} parameter not found in the URL: ${e}`);let i=e.indexOf("&",n),s=t.length,o=-1!==i?i:e.length,a=e.substring(0,n+s),c=e.substring(n+s,o);return a+(c+r)+e.substring(i)}}},12590:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>E,__await:()=>b,__awaiter:()=>d,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>N,__createBinding:()=>u,__decorate:()=>a,__exportStar:()=>p,__extends:()=>i,__generator:()=>h,__importDefault:()=>O,__importStar:()=>_,__makeTemplateObject:()=>C,__metadata:()=>l,__param:()=>c,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>f});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function c(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function d(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){var c=[s,a];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){o.label=c[1];break}if(6===c[0]&&o.label<i[1]){o.label=i[1],i=c;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(c);break}i[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}}function u(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function p(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,s=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof b?Promise.resolve(r.value.v).then(c,l):d(s[0][2],r)}catch(e){d(s[0][3],e)}}function c(e){a("next",e)}function l(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:b(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=f(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var s,o,a;s=n,o=i,a=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){s({value:e,done:a})},o)})}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function O(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},12661:(e,t,r)=>{"use strict";r.d(t,{BX:()=>function e(t={}){let r,n,s;if(!l(t))throw Error("object required");let o=g.get(t);if(o)return o;let c=f[0],d=new Set,p=(e,t=++f[0])=>{c!==t&&(y=c=t,d.forEach(r=>r(e,t)))},y=c,b=e=>(t,r)=>{let n=[...t];n[1]=[e,...n[1]],p(n,r)},v=new Map,w=!0,E=new Proxy(t,(r=()=>w,n=(e,t)=>{let r=!u.has(t)&&h.get(t);if(r){if(v.has(e))throw Error("prop listener already exists");if(d.size){let t=r[2](b(e));v.set(e,[r,t])}else v.set(e,[r])}},s=e=>{var t;let r=v.get(e);r&&(v.delete(e),null==(t=r[1])||t.call(r))},{deleteProperty(e,t){let r=Reflect.get(e,t);s(t);let n=Reflect.deleteProperty(e,t);return n&&p(["delete",[t],r]),n},set(t,o,c,d){var f;let y,b=!r()&&Reflect.has(t,o),v=Reflect.get(t,o,d);if(b&&(m(v,c)||g.has(c)&&m(v,g.get(c))))return!0;s(o),l(c)&&(c=a(f=c)&&f[i]||c);let w=!h.has(c)&&l(y=c)&&!u.has(y)&&(Array.isArray(y)||!(Symbol.iterator in y))&&!(y instanceof WeakMap)&&!(y instanceof WeakSet)&&!(y instanceof Error)&&!(y instanceof Number)&&!(y instanceof Date)&&!(y instanceof String)&&!(y instanceof RegExp)&&!(y instanceof ArrayBuffer)&&!(y instanceof Promise)?e(c):c;return n(o,w),Reflect.set(t,o,w,d),p(["set",[o],c,v]),!0}}));g.set(t,E);let C=[t,(e=f[0])=>(y!==e&&(y=e,v.forEach(([t])=>{let r=t[1](e);r>c&&(c=r)})),c),e=>(d.add(e),1===d.size&&v.forEach(([e,t],r)=>{if(t)throw Error("remove already exists");let n=e[2](b(r));v.set(r,[e,n])}),()=>{d.delete(e),0===d.size&&v.forEach(([e,t],r)=>{t&&(t(),v.set(r,[e]))})})];return h.set(E,C),Reflect.ownKeys(t).forEach(e=>{let r=Object.getOwnPropertyDescriptor(t,e);"value"in r&&r.writable&&(E[e]=t[e])}),w=!1,E},KR:()=>v,P9:()=>b,B1:()=>y,h2:()=>w});let n=Symbol(),i=Symbol(),s=Object.getPrototypeOf,o=new WeakMap,a=e=>e&&(o.has(e)?o.get(e):s(e)===Object.prototype||s(e)===Array.prototype),c=(e,t=!0)=>{o.set(e,t)},l=e=>"object"==typeof e&&null!==e,d=(e,t)=>{let r=p.get(e);if((null==r?void 0:r[0])===t)return r[1];let n=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return c(n,!0),p.set(e,[t,n]),Reflect.ownKeys(e).forEach(t=>{if(Object.getOwnPropertyDescriptor(n,t))return;let r=Reflect.get(e,t),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,t),s={value:r,enumerable:i,configurable:!0};if(u.has(r))c(r,!1);else if(h.has(r)){let[e,t]=h.get(r);s.value=d(e,t())}Object.defineProperty(n,t,s)}),Object.preventExtensions(n)},h=new WeakMap,u=new WeakSet,p=new WeakMap,f=[1],g=new WeakMap,m=Object.is;function y(e,t,r){let n,i=h.get(e);i||console.warn("Please use proxy object");let s=[],o=i[2],a=!1,c=o(e=>{if(s.push(e),r)return void t(s.splice(0));n||(n=Promise.resolve().then(()=>{n=void 0,a&&t(s.splice(0))}))});return a=!0,()=>{a=!1,c()}}function b(e){let t=h.get(e);t||console.warn("Please use proxy object");let[r,n]=t;return d(r,n())}function v(e){return u.add(e),e}function w(){return{proxyStateMap:h,refSet:u,snapCache:p,versionHolder:f,proxyCache:g}}},12997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE=t.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE=t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE=t.OKXCONNECTOR_STORAGE_CIPHER_METHOD=t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=t.OKXCONNECTOR_STORAGER_CRYPTO_SALT=t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=t.OKXCONNECTOR_TON_KEY=t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=t.OKXCONNECTOR_TOKEN_CACHE=t.OKXCONNECTOR_JWT_KEY=t.OKXCONNECTOR_SESSION_PREFIX_KEY=t.OKXCONNECTOR_CRYPTO_KEY=t.OKXCONNECTOR_CACHE_KEY_DAPP=t.OKXCONNECTOR_CACHE_KEY=void 0,t.OKXCONNECTOR_CACHE_KEY="ck",t.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",t.OKXCONNECTOR_CRYPTO_KEY="cck_k",t.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",t.OKXCONNECTOR_JWT_KEY="cjk_k",t.OKXCONNECTOR_TOKEN_CACHE="ct",t.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",t.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",t.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",t.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc",t.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE="okx_connect_split_cache_key",t.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE="okx_connect_te_cache_key",t.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE="okx_connect_twe_cache_key"},13867:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SignClient=void 0;let i=r(79864),s=r(33382),o=r(87598),a=r(99766);class c extends i.ISignClient{constructor(e,t,r){super(e),this.connect=e=>n(this,void 0,void 0,function*(){return new Promise((t,r)=>n(this,void 0,void 0,function*(){try{var c=[];(0,i.logDebug)("client connect params >>>",JSON.stringify(e));var l={name:"requestAccounts",requiredNamespaces:(0,s.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,s.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};this.engine.setSessionConnectingListener(()=>{(0,i.logDebug)("sessionConnectingListener >>>"),this.events.emit(a.PROVIDER_EVENTS.SESSION_CONNECTING)}),e.signRequest&&(l.connectRequestMethods=yield(0,o.connectMethodsToConnectWalletMethods)(e.signRequest,l.requiredNamespaces)),c.push(l),(0,i.logDebug)("client connect connectRequest >>>",JSON.stringify(c)),this.engine.universalConnect(c,Object.assign({dappInfo:this.metadata},e.sessionConfig),e=>{if(e&&e.connectRequest){(0,i.logDebug)("universalConect info.connectRequest :",e.connectRequest);let t=(0,i.getOKXLink)(e.connectRequest,this.sessionConfig.connectWalletType).universalLink;(0,i.logDebug)("universalConect url:",t),this.events.emit("display_uri",t),this.events.emit("short_display_uri",t),(0,i.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e)}}).then(r=>n(this,void 0,void 0,function*(){(0,s.fillParamsToSession)(r,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,i.logDebug)(`signClient: connect: session ${JSON.stringify(r)}`),e.signRequest&&(yield(0,o.connectMethodsResponseUpdate)(r,e.signRequest)),t(r)})).catch(e=>{(0,i.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),r(e)})}catch(e){(0,i.logDebug)(`signClient: connect:  ${JSON.stringify(e)}`),r(e)}}))}),this.restoreconnect=e=>n(this,void 0,void 0,function*(){return new Promise((t,r)=>{this.engine.restoreconnect(e,e=>{e?t(e):r()})})}),this.reject=e=>n(this,void 0,void 0,function*(){}),this.request=e=>n(this,void 0,void 0,function*(){return new Promise((t,r)=>n(this,void 0,void 0,function*(){var n,s;(0,i.logDebug)("clint request --params>>>> >",null==(n=this.sessionConfig)?void 0:n.openUniversalUrl,(0,i.safeJsonStringify)(e));try{(null==(s=this.sessionConfig)?void 0:s.openUniversalUrl)&&(0,i.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,i.logDebug)("clint request --response >",(0,i.safeJsonStringify)(e)),"error"in e&&e.error){let t=e.error;r(new i.OKXConnectError(e.error.code,e.method+":"+t.message))}else t(e)},onAck:()=>{var e;!(0,i.isIos)()&&(null==(e=this.sessionConfig)?void 0:e.openUniversalUrl)&&this.openOKXWallet()}})}catch(e){(0,i.logDebug)("clint request --error:",e),r(e)}}))}),this.disconnect=()=>n(this,void 0,void 0,function*(){return new Promise((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}},864e5).catch(e=>{console.log(`disconnect : ${JSON.stringify(e)}`),t(e)})})}),this.engine=new i.Engine(e.name),this.events=t,this.metadata=e,this.openAppLineType=null!=r?r:i.OpenAppLinkType.UniversalLink}setAccountChangeListener(e){this.engine.setAccountChangeListener(e)}openOKXWallet(){(0,i.logDebug)("bridge-provider ==>> connect_5"),this.engine.openWallet({tmaReturnUrl:this.sessionConfig.tmaReturnUrl},null,this.openAppLineType)}syncAllAddress(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>{this.engine.send({method:"sync_all_addresses"},{resolve:r=>{if(delete r.requestId,(0,i.logDebug)("clint syncAllAddress --response >",JSON.stringify(r)),"error"in r&&r.error){let e=r.error;t(new i.OKXConnectError(r.error.code,r.method+":"+e.message))}else{let t=r.result;e((0,o.syncResoonseToRequire)(t))}}}).catch(e=>{console.log(`disconnect : ${JSON.stringify(e)}`),t(e)})})})}registerConnector(e){this.engine.registerConnector(e)}openWallet(e,t){this.engine.openWallet(e,t,this.openAppLineType)}setConnectConnector(e){this.engine.setConnectConnector(null==e?void 0:e.wallet,null==e?void 0:e.sessionConfig)}needCheckRequestMethod(){try{return!Object.values(i.CONNECTOR_TYPE.INJECT).includes(this.engine.getConnector().getType())&&!Object.values(i.CONNECTOR_TYPE.KEYLESS).includes(this.engine.getConnector().getType())}catch(e){return!0}}}t.SignClient=c},13933:(e,t,r)=>{"use strict";r.d(t,{C:()=>s});let n="2.37.5",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class s extends Error{constructor(e,t={}){let r=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,o=t.cause instanceof s&&t.cause.docsPath||t.docsPath,a=i.getDocsUrl?.({...t,docsPath:o});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},13990:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var n=r(4058),i=r(13933);class s extends i.C{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}var o=r(67550),a=r(59350);let c={current:0,take(){return this.current++},reset(){this.current=0}};var l=r(53473);function d(e,t={}){let{batch:r,fetchFn:i,fetchOptions:h,key:u="http",methods:p,name:f="HTTP JSON-RPC",onFetchRequest:g,onFetchResponse:m,retryDelay:y,raw:b}=t;return({chain:d,retryCount:v,timeout:w})=>{let{batchSize:E=1e3,wait:C=0}="object"==typeof r?r:{},_=t.retryCount??v,O=w??t.timeout??1e4,x=e||d?.rpcUrls.default.http[0];if(!x)throw new s;let N=function(e,t={}){return{async request(r){let{body:i,fetchFn:s=t.fetchFn??fetch,onRequest:o=t.onRequest,onResponse:l=t.onResponse,timeout:d=t.timeout??1e4}=r,h={...t.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:p,signal:f}=h;try{let t,r=await function(e,{errorInstance:t=Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{let a=new AbortController;r>0&&(o=setTimeout(()=>{n?a.abort():s(t)},r)),i(await e({signal:a?.signal||null}))}catch(e){e?.name==="AbortError"&&s(t),s(e)}finally{clearTimeout(o)}})()})}(async({signal:t})=>{let r={...h,body:Array.isArray(i)?(0,a.A)(i.map(e=>({jsonrpc:"2.0",id:e.id??c.take(),...e}))):(0,a.A)({jsonrpc:"2.0",id:i.id??c.take(),...i}),headers:{"Content-Type":"application/json",...u},method:p||"POST",signal:f||(d>0?t:null)},n=new Request(e,r),l=await o?.(n,r)??{...r,url:e};return await s(l.url??e,l)},{errorInstance:new n.MU({body:i,url:e}),timeout:d,signal:!0});if(l&&await l(r),r.headers.get("Content-Type")?.startsWith("application/json"))t=await r.json();else{t=await r.text();try{t=JSON.parse(t||"{}")}catch(e){if(r.ok)throw e;t={error:t}}}if(!r.ok)throw new n.Ci({body:i,details:(0,a.A)(t.error)||r.statusText,headers:r.headers,status:r.status,url:e});return t}catch(t){if(t instanceof n.Ci||t instanceof n.MU)throw t;throw new n.Ci({body:i,cause:t,url:e})}}}}(x,{fetchFn:i,fetchOptions:h,onRequest:g,onResponse:m,timeout:O});return(0,l.o)({key:u,methods:p,name:f,async request({method:e,params:t}){let i={method:e,params:t},{schedule:s}=(0,o.u)({id:x,wait:C,shouldSplitBatch:e=>e.length>E,fn:e=>N.request({body:e}),sort:(e,t)=>e.id-t.id}),a=async e=>r?s(e):[await N.request({body:e})],[{error:c,result:l}]=await a(i);if(b)return{error:c,result:l};if(c)throw new n.J8({body:i,error:c,url:x});return l},retryCount:_,retryDelay:y,timeout:O,type:"http"},{fetchOptions:h,url:x})}}},14422:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>c});var n=r(43546);function i(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let s=i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),o=i("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),a={utf8:s,"utf-8":s,hex:n.bases.base16,latin1:o,ascii:o,binary:o,...n.bases};function c(e,t="utf8"){let r=a[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}},14441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){if("string"!=typeof e)throw(0,n.logDebug)(e),Error(`Cannot safe json parse value of type ${typeof e}`);try{let t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,(e,t)=>`:"${t}n"`);try{return JSON.parse(t,(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return JSON.parse(e)}}catch(t){return console.error("safeJsonParse error:",t),e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""};let n=r(75260)},14449:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED=t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED=t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED=t.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED=t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND=t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND=void 0,t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_NOT_FOUND=3834e3,t.WALLET_STANDARD_ERROR__REGISTRY__WALLET_ACCOUNT_NOT_FOUND=3834001,t.WALLET_STANDARD_ERROR__USER__REQUEST_REJECTED=4001e3,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_CHAIN_UNSUPPORTED=616e4,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_ACCOUNT_FEATURE_UNIMPLEMENTED=6160001,t.WALLET_STANDARD_ERROR__FEATURES__WALLET_FEATURE_UNIMPLEMENTED=6160002},14744:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var n=r(12661),i=r(72880),s=r(29936);let o={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},a=(0,n.BX)({networkImagePromises:{}}),c={async fetchWalletImage(e){if(e)return await i.N._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(a.networkImagePromises[e]||(a.networkImagePromises[e]=i.N._fetchNetworkImage(e)),await a.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return s.j.state.walletImages[e]},getWalletImage:e=>e?.image_url?e?.image_url:e?.image_id?s.j.state.walletImages[e.image_id]:void 0,getNetworkImage:e=>e?.assets?.imageUrl?e?.assets?.imageUrl:e?.assets?.imageId?s.j.state.networkImages[e.assets.imageId]:void 0,getNetworkImageById(e){if(e)return s.j.state.networkImages[e]},getConnectorImage:e=>e?.imageUrl?e.imageUrl:e?.info?.icon?e.info.icon:e?.imageId?s.j.state.connectorImages[e.imageId]:void 0,getChainImage:e=>s.j.state.networkImages[o[e]],getTokenImage(e){if(e)return s.j.state.tokenImages[e]}}},14903:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.okxWalletUniversalLink=t.okxAppUniversalLink=t.okxWalletDeepLink=t.okxAppDeepLink=t.okxWalletStackDeepLink=t.okxAppStackDeepLink=t.standardDeeplink=t.downloadUrl=t.tonConnectSdkVersion=t.OpenAppLinkType=t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=void 0,i(r(74466),t);var s=r(22177);Object.defineProperty(t,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return s.NameSpaceKeyEip155}}),Object.defineProperty(t,"NameSpaceKeySOL",{enumerable:!0,get:function(){return s.NameSpaceKeySOL}}),Object.defineProperty(t,"NameSpaceKeyTON",{enumerable:!0,get:function(){return s.NameSpaceKeyTON}}),Object.defineProperty(t,"NameSpaceKeySui",{enumerable:!0,get:function(){return s.NameSpaceKeySui}}),Object.defineProperty(t,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return s.NameSpaceKeyBtc}}),Object.defineProperty(t,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return s.NameSpaceKeyAptos}}),Object.defineProperty(t,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return s.NameSpaceKeyCosmos}}),Object.defineProperty(t,"NameSpaceKeyTron",{enumerable:!0,get:function(){return s.NameSpaceKeyTron}}),Object.defineProperty(t,"NameSpaceKeyStarknet",{enumerable:!0,get:function(){return s.NameSpaceKeyStarknet}}),Object.defineProperty(t,"OpenAppLinkType",{enumerable:!0,get:function(){return s.OpenAppLinkType}});var o=r(56518);Object.defineProperty(t,"tonConnectSdkVersion",{enumerable:!0,get:function(){return o.tonConnectSdkVersion}}),Object.defineProperty(t,"downloadUrl",{enumerable:!0,get:function(){return o.downloadUrl}}),Object.defineProperty(t,"standardDeeplink",{enumerable:!0,get:function(){return o.standardDeeplink}}),Object.defineProperty(t,"okxAppStackDeepLink",{enumerable:!0,get:function(){return o.okxAppStackDeepLink}}),Object.defineProperty(t,"okxWalletStackDeepLink",{enumerable:!0,get:function(){return o.okxWalletStackDeepLink}}),Object.defineProperty(t,"okxAppDeepLink",{enumerable:!0,get:function(){return o.okxAppDeepLink}}),Object.defineProperty(t,"okxWalletDeepLink",{enumerable:!0,get:function(){return o.okxWalletDeepLink}}),Object.defineProperty(t,"okxAppUniversalLink",{enumerable:!0,get:function(){return o.okxAppUniversalLink}}),Object.defineProperty(t,"okxWalletUniversalLink",{enumerable:!0,get:function(){return o.okxWalletUniversalLink}}),i(r(57950),t),i(r(70455),t)},14935:(e,t)=>{"use strict";function r(e){return"/"===e.slice(-1)?e.slice(0,-1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeUrlLastSlash=r,t.addPathToUrl=function(e,t){return r(e)+"/"+t}},15063:(e,t,r)=>{let n=r(89699);function i(e,t,r,n,i,o){c[e]=c[e]+c[t]+i,c[n]=s(c[n]^c[e],16),c[r]=c[r]+c[n],c[t]=s(c[t]^c[r],12),c[e]=c[e]+c[t]+o,c[n]=s(c[n]^c[e],8),c[r]=c[r]+c[n],c[t]=s(c[t]^c[r],7)}function s(e,t){return e>>>t^e<<32-t}let o=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),l=new Uint32Array(16);function d(e,t){let r=0;for(r=0;r<8;r++)c[r]=e.h[r],c[r+8]=o[r];for(c[12]^=e.t,c[13]^=e.t/0x100000000,t&&(c[14]=~c[14]),r=0;r<16;r++){var n,s;l[r]=(n=e.b)[s=4*r]^n[s+1]<<8^n[s+2]<<16^n[s+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,l[a[16*r+0]],l[a[16*r+1]]),i(1,5,9,13,l[a[16*r+2]],l[a[16*r+3]]),i(2,6,10,14,l[a[16*r+4]],l[a[16*r+5]]),i(3,7,11,15,l[a[16*r+6]],l[a[16*r+7]]),i(0,5,10,15,l[a[16*r+8]],l[a[16*r+9]]),i(1,6,11,12,l[a[16*r+10]],l[a[16*r+11]]),i(2,7,8,13,l[a[16*r+12]],l[a[16*r+13]]),i(3,4,9,14,l[a[16*r+14]],l[a[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=c[r]^c[r+8]}function h(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=0x1010000^r<<8^e,r>0&&(u(n,t),n.c=64),n}function u(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function f(e,t,r){r=r||32,e=n.normalizeInput(e);let i=h(r,t);return u(i,e),p(i)}e.exports={blake2s:f,blake2sHex:function(e,t,r){let i=f(e,t,r);return n.toHex(i)},blake2sInit:h,blake2sUpdate:u,blake2sFinal:p}},15514:function(e,t,r){var n;!function(i,s){"use strict";var o="function",a="undefined",c="object",l="string",d="major",h="model",u="name",p="type",f="vendor",g="version",m="architecture",y="console",b="mobile",v="tablet",w="smarttv",E="wearable",C="embedded",_="Amazon",O="Apple",x="ASUS",N="BlackBerry",A="Browser",S="Chrome",T="Firefox",R="Google",I="Honor",P="Huawei",k="Microsoft",D="Motorola",U="Nvidia",M="OnePlus",L="Opera",j="OPPO",B="Samsung",W="Sharp",K="Sony",H="Xiaomi",F="Zebra",q="Facebook",X="Chromium OS",V="Mac OS",z=" Browser",$=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},G=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},J=function(e,t){return typeof e===l&&-1!==Z(t).indexOf(Z(e))},Z=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Q=function(e,t){for(var r,n,i,a,l,d,h=0;h<t.length&&!l;){var u=t[h],p=t[h+1];for(r=n=0;r<u.length&&!l&&u[r];)if(l=u[r++].exec(e))for(i=0;i<p.length;i++)d=l[++n],typeof(a=p[i])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,d):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=d?d.replace(a[1],a[2]):void 0:this[a[0]]=d?a[1].call(this,d,a[2]):void 0:4===a.length&&(this[a[0]]=d?a[3].call(this,d.replace(a[1],a[2])):s):this[a]=d||s;h+=2}},ee=function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(J(t[r][n],e))return"?"===r?s:r}else if(J(t[r],e))return"?"===r?s:r;return t.hasOwnProperty("*")?t["*"]:e},et={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},er={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,g],[/opios[\/ ]+([\w\.]+)/i],[g,[u,L+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[u,L+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[u,L]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[u,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[u,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+A],g],[/\bfocus\/([\w\.]+)/i],[g,[u,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[u,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[u,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[u,"MIUI"+z]],[/fxios\/([\w\.-]+)/i],[g,[u,T]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+z],g],[/samsungbrowser\/([\w\.]+)/i],[g,[u,B+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,q],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[u,S+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,S+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[u,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[g,ee,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[u,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[u,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[g,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[m,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[m,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[m,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[m,/ower/,"",Z]],[/ sun4\w[;\)]/i],[[m,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[m,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[f,B],[p,v]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[f,B],[p,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[f,O],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[f,O],[p,v]],[/(macintosh);/i],[h,[f,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[f,W],[p,b]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[h,[f,I],[p,v]],[/honor([-\w ]+)[;\)]/i],[h,[f,I],[p,b]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[h,[f,P],[p,v]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[f,P],[p,b]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[h,/_/g," "],[f,H],[p,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[h,/_/g," "],[f,H],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[f,j],[p,b]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[h,[f,ee,{OnePlus:["304","403","203"],"*":j}],[p,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[f,"Vivo"],[p,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[f,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[f,D],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[f,D],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[f,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[f,"LG"],[p,b]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[h,[f,"Lenovo"],[p,v]],[/(nokia) (t[12][01])/i],[f,h,[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[h,/_/g," "],[p,b],[f,"Nokia"]],[/(pixel (c|tablet))\b/i],[h,[f,R],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[f,R],[p,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[f,K],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[f,K],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[f,M],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[f,_],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[f,_],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,f,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[f,N],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[f,x],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[f,x],[p,b]],[/(nexus 9)/i],[h,[f,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[h,/_/g," "],[p,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[f,"TCL"],[p,v]],[/(itel) ((\w+))/i],[[f,Z],h,[p,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[f,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[f,"Meizu"],[p,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[f,"Ulefone"],[p,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[h,[f,"Energizer"],[p,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[h,[f,"Cat"],[p,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[h,[f,"Smartfren"],[p,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[f,"Nothing"],[p,b]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[h,[f,"Archos"],[p,v]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[h,[f,"Archos"],[p,b]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[f,h,[p,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[f,h,[p,b]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,h,[p,v]],[/(surface duo)/i],[h,[f,k],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[f,"Fairphone"],[p,b]],[/(u304aa)/i],[h,[f,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[h,[f,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[h,[f,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[h,[f,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[h,[f,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[f,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[h,[f,"NuVision"],[p,v]],[/\b(k88) b/i],[h,[f,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[h,[f,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[h,[f,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[h,[f,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[h,[f,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],h,[p,v]],[/\b(ns-?\w{0,9}) b/i],[h,[f,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[f,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],h,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],h,[p,b]],[/\b(ph-1) /i],[h,[f,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[f,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[h,[f,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[h,[f,"Rotor"],[p,v]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[h,[f,U],[p,v]],[/(sprint) (\w+)/i],[f,h,[p,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[f,k],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[f,F],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[f,F],[p,b]],[/smart-tv.+(samsung)/i],[f,[p,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[f,B],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,w]],[/(apple) ?tv/i],[f,[h,O+" TV"],[p,w]],[/crkey/i],[[h,S+"cast"],[f,R],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[h,[f,_],[p,w]],[/(shield \w+ tv)/i],[h,[f,U],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[f,W],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[h,[f,K],[p,w]],[/(mi(tv|box)-?\w+) bui/i],[h,[f,H],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[f,h,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Y],[h,Y],[p,w]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[h,[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,h,[p,y]],[/droid.+; (shield)( bui|\))/i],[h,[f,U],[p,y]],[/(playstation \w+)/i],[h,[f,K],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[f,k],[p,y]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[h,[f,B],[p,E]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[f,h,[p,E]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[h,[f,j],[p,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[f,O],[p,E]],[/(opwwe\d{3})/i],[h,[f,M],[p,E]],[/(moto 360)/i],[h,[f,D],[p,E]],[/(smartwatch 3)/i],[h,[f,K],[p,E]],[/(g watch r)/i],[h,[f,"LG"],[p,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[f,F],[p,E]],[/droid.+; (glass) \d/i],[h,[f,R],[p,E]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,h,[p,E]],[/; (quest( \d| pro)?)/i],[h,[f,q],[p,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,C]],[/(aeobc)\b/i],[h,[f,_],[p,C]],[/(homepod).+mac os/i],[h,[f,O],[p,C]],[/windows iot/i],[[p,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[h,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[u,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[u,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,g],[/ladybird\//i],[[u,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,g],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[u,[g,ee,et]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,ee,et],[u,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,V],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,u],[/(ubuntu) ([\w\.]+) like android/i],[[u,/(.+)/,"$1 Touch"],g],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[u,g],[/\(bb(10);/i],[g,[u,N]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[g,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[u,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[u,S+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,X],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,g],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,g]]},en=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof en))return new en(e,t).getResult();var r=typeof i!==a&&i.navigator?i.navigator:s,n=e||(r&&r.userAgent?r.userAgent:""),y=r&&r.userAgentData?r.userAgentData:s,w=t?$(er,t):er,E=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[u]=s,t[g]=s,Q.call(t,n,w.browser),t[d]=typeof(e=t[g])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,E&&r&&r.brave&&typeof r.brave.isBrave==o&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[m]=s,Q.call(e,n,w.cpu),e},this.getDevice=function(){var e={};return e[f]=s,e[h]=s,e[p]=s,Q.call(e,n,w.device),E&&!e[p]&&y&&y.mobile&&(e[p]=b),E&&"Macintosh"==e[h]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[p]=v),e},this.getEngine=function(){var e={};return e[u]=s,e[g]=s,Q.call(e,n,w.engine),e},this.getOS=function(){var e={};return e[u]=s,e[g]=s,Q.call(e,n,w.os),E&&!e[u]&&y&&y.platform&&"Unknown"!=y.platform&&(e[u]=y.platform.replace(/chrome os/i,X).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>500?Y(e,500):e,this},this.setUA(n),this};en.VERSION="1.0.41",en.BROWSER=G([u,g,d]),en.CPU=G([m]),en.DEVICE=G([h,f,p,y,b,w,v,E,C]),en.ENGINE=en.OS=G([u,g]),typeof t!==a?(e.exports&&(t=e.exports=en),t.UAParser=en):r.amdO?s===(n=(function(){return en}).call(t,r,t,e))||(e.exports=n):typeof i!==a&&(i.UAParser=en);var ei=typeof i!==a&&(i.jQuery||i.Zepto);if(ei&&!ei.ua){var es=new en;ei.ua=es.getResult(),ei.ua.get=function(){return es.getUA()},ei.ua.set=function(e){es.setUA(e);var t=es.getResult();for(var r in t)ei.ua[r]=t[r]}}}("object"==typeof window?window:this)},15547:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManagerEvent=t.WalletConnectionManagerTopicInfoCacheKey=void 0,t.WalletConnectionManagerTopicInfoCacheKey="wcmtic",t.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}},16059:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcProvider=void 0;let i=r(14903),s=r(71994),o=r(45236),a=r(38962);class c{constructor(){this.accountChangedBtcHandler=null}connect(){return window.okxwallet.unisat.connect()}switchChain(e){return n(this,void 0,void 0,function*(){let t=window.okxwallet.unisat;switch(e){case i.BTC_CHAINS.MAINNET:yield t.switchChain("BITCOIN_MAINNET");break;case i.BTC_CHAINS.FRACTAL:yield t.switchChain("FRACTAL_BITCOIN_MAINNET")}})}parseConnectResponse(e,t,r,s,a){return n(this,void 0,void 0,function*(){try{let e=[];s.forEach(t=>{t.namespace===i.NameSpaceKeyBtc&&e.push(...t.chains)});let t=[],r={};if(0==e.length)return;let c=e=>n(this,void 0,void 0,function*(){let n,s=(n=a.address,n.find(t=>{let r="bitcoin"===t.name&&e===i.BTC_CHAINS.MAINNET||"fractalbitcoin"===t.name&&e===i.BTC_CHAINS.FRACTAL;return 0===t.coinType&&r||t.namespaceChainId===e}));if(!s)return;t.push(e+":"+s.address);let o=yield this.connect();r[e]={publicKey:o.publicKey,compressedPublicKey:o.compressedPublicKey}}),l=e.map(c);if(yield Promise.all(l),t&&t.length>0)return{namespace:i.NameSpaceKeyBtc,addresses:t,methods:[...o.BtcMethods],extra:r};return}catch(e){throw e}})}restoreConnect(){return n(this,void 0,void 0,function*(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()})}send(e){return n(this,void 0,void 0,function*(){try{(0,s.logDebug)("btcProvider send request:",JSON.stringify(e));let t=e.method,r=e.chainId;if(yield this.restoreConnect(),yield this.switchChain(r),e.params)switch(t){case"btc_signMessage":{let{signStr:t,type:r}=e.params||{},n=yield window.okxwallet.unisat.signMessage(t,r);return{method:e.method,result:n}}case"btc_send":{let{from:t,to:r,value:n,satBytes:i}=e.params||{},s=yield window.okxwallet.unisat.send({from:t,to:r,value:n,satBytes:i});return{method:e.method,result:s}}case"btc_signPsbts":{let t,{psbtHexs:r,options:n}=e.params||{};if(Array.isArray(r)&&1===r.length)t=[Array.isArray(n)?yield window.okxwallet.unisat.signPsbt(r[0],n.length>0&&"object"==typeof n[0]?n[0]:void 0):yield window.okxwallet.unisat.signPsbt(r[0])];else t=yield window.okxwallet.unisat.signPsbts(r,n);return{method:e.method,result:(0,s.safeJsonStringify)(t)}}case"btc_signAndPushPsbt":{let{psbtHex:t,options:r}=e.params||{},n=yield window.okxwallet.unisat.signPsbt(t,r),i=yield window.okxwallet.unisat.pushPsbt(n);return{method:e.method,result:(0,s.safeJsonStringify)({signedPsbt:n,txHash:i})}}case"btc_sendInscription":{let{address:t,inscriptionId:r,options:n}=e.injectParams||{},i=yield window.okxwallet.unisat.sendInscription(t,r,n);return{method:e.method,result:i}}case"btc_inscribeTransfer":if(this.hasFunction("inscribeTransfer")){let{ticker:t,amount:r}=e.params||{},n=yield window.okxwallet.unisat.inscribeTransfer(t,r);return{method:e.method,result:n}}case"btc_sendRunes":if(this.hasFunction("sendRunes")){let{address:t,runeid:r,amount:n,options:i}=e.injectParams||{},s=yield window.okxwallet.unisat.sendRunes(t,r,n,i);return{method:e.method,result:s}}default:throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${t}' not support`)}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,`param is error method: '${t}'`)}catch(e){throw(0,s.logDebug)("BtcProvider send error:",e),e}})}hasFunction(e){return!!window.okxwallet&&!!window.okxwallet.unisat&&"function"==typeof window.okxwallet.unisat[e]}singleConnect(e){return n(this,void 0,void 0,function*(){return 1==e.chains.length&&this.connect()})}addAccountChangedListener(e){this.accountChangedBtcHandler=t=>{console.log("window.okxwallet btc:",Date.now(),"btc",t),t&&t.length>0&&e()},window.okxwallet.unisat.on("accountsChanged",this.accountChangedBtcHandler)}removeListener(){window.okxwallet.unisat.removeListener("accountsChanged",this.accountChangedBtcHandler)}}t.BtcProvider=c},16182:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67319),t),i(r(2045),t),i(r(90897),t)},16323:(e,t,r)=>{"use strict";r.d(t,{g:()=>y});var n=r(65103),i=r(45553),s=r(73537),o=r(58051),a=r(93481),c=r(3824),l=r(10899),d=r(70417),h=r(81701),u=r(67869),p=r(71305),f=r(28977),g=r(12319),m=r(58653);let y={checkNamespaceConnectorId:(e,t)=>l.a.getConnectorId(e)===t,isSocialProvider:e=>f.oU.DEFAULT_REMOTE_FEATURES.socials.includes(e),connectWalletConnect:({walletConnect:e,connector:t,closeModalOnConnect:r=!0,redirectViewOnModalClose:i="Connect",onOpen:s,onConnect:o})=>new Promise((c,d)=>{if(e&&l.a.setActiveConnector(t),s?.(g.w.isMobile()&&e),i){let e=h.W.subscribeKey("open",t=>{t||(u.I.state.view!==i&&u.I.replace(i),e(),d(Error("Modal closed")))})}let p=a.W.subscribeKey("activeCaipAddress",e=>{e&&(o?.(),r&&h.W.close(),p(),c(n.C.parseCaipAddress(e)))})}),connectExternal:e=>new Promise((t,r)=>{let i=a.W.subscribeKey("activeCaipAddress",e=>{e&&(h.W.close(),i(),t(n.C.parseCaipAddress(e)))});c.x.connectExternal(e,e.chain).catch(()=>{i(),r(Error("Connection rejected"))})}),connectSocial({social:e,namespace:t,closeModalOnConnect:r=!0,onOpenFarcaster:s,onConnect:u}){let p=o.U.state.socialWindow,f=o.U.state.socialProvider,y=!1,b=null,v=t||a.W.state.activeChain,w=a.W.subscribeKey("activeCaipAddress",e=>{e&&(r&&h.W.close(),w())});return new Promise((t,r)=>{async function w(e){if(e.data?.resultUri)if(e.origin===i.o.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",w,!1);try{let i=l.a.getAuthConnector(v);if(i&&!y){p&&(p.close(),o.U.setSocialWindow(void 0,v),p=o.U.state.socialWindow),y=!0;let s=e.data.resultUri;if(f&&d.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:f}}),f){m.i.setConnectedSocialProvider(f),await c.x.connectExternal({id:i.id,type:i.type,socialUri:s},i.chain);let e=a.W.state.activeCaipAddress;if(!e)return void r(Error("Failed to connect"));t(n.C.parseCaipAddress(e)),d.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:f}})}}}catch(e){f&&d.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:f}}),r(Error("Failed to connect"))}}else f&&d.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:f}})}!async function(){if(e&&(o.U.setSocialProvider(e,v),f=o.U.state.socialProvider,d.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:f}})),"farcaster"===f){s?.();let t=h.W.subscribeKey("open",n=>{n||"farcaster"!==e||(r(Error("Popup closed")),u?.(),t())}),n=l.a.getAuthConnector();if(n&&!o.U.state.farcasterUrl)try{let{url:e}=await n.provider.getFarcasterUri();o.U.setFarcasterUrl(e,v)}catch{r(Error("Failed to connect to farcaster"))}}else{let e=l.a.getAuthConnector();b=g.w.returnOpenHref(`${i.o.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(e&&f){let{uri:t}=await e.provider.getSocialRedirectUri({provider:f});if(b&&t){o.U.setSocialWindow(b,v),p=o.U.state.socialWindow,b.location.href=t;let e=setInterval(()=>{p?.closed&&!y&&(r(Error("Popup closed")),clearInterval(e))},1e3);window.addEventListener("message",w,!1)}else b?.close(),r(Error("Failed to initiate social connection"))}}catch{r(Error("Failed to initiate social connection")),b?.close()}}}()})},connectEmail:({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:r,onConnect:i})=>new Promise((s,o)=>{if(r?.(),t){let e=h.W.subscribeKey("open",r=>{r||(u.I.state.view!==t&&u.I.replace(t),e(),o(Error("Modal closed")))})}let c=a.W.subscribeKey("activeCaipAddress",t=>{t&&(i?.(),e&&h.W.close(),c(),s(n.C.parseCaipAddress(t)))})}),async updateEmail(){let e=m.i.getConnectedConnectorId(a.W.state.activeChain),t=l.a.getAuthConnector();if(!t)throw Error("No auth connector found");if(e!==i.o.CONNECTOR_ID.AUTH)throw Error("Not connected to email or social");let r=t.provider.getEmail()??"";return await h.W.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((e,n)=>{let i=setInterval(()=>{let n=t.provider.getEmail()??"";n!==r&&(h.W.close(),clearInterval(i),s(),e({email:n}))},1e3),s=h.W.subscribeKey("open",e=>{e||("Connect"!==u.I.state.view&&u.I.push("Connect"),clearInterval(i),s(),n(Error("Modal closed")))})})},canSwitchToSmartAccount:e=>a.W.checkIfSmartAccountEnabled()&&(0,p.lj)(e)===s.Vl.ACCOUNT_TYPES.EOA}},16459:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){var i,s,o;function a(r){e.removeListener(t,c),n(r)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}g(e,t,c,{once:!0}),"error"!==t&&(i=e,s=a,o={once:!0},"function"==typeof i.on&&g(i,"error",s,o))})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){if(a(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),o=s[t]),void 0===o)o=s[t]=r,++e._eventsCount;else if("function"==typeof o?o=s[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var i,s,o,l=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,console&&console.warn&&console.warn(l)}return e}function d(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function u(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var o,a=Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else for(var l=c.length,d=f(c,l),r=0;r<l;++r)n(d[r],this,t);return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,o;if(a(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return u(this,e,!0)},s.prototype.rawListeners=function(e){return u(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},16611:function(e,t,r){var n;e.exports=n||function(e,t){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(50477)}catch(e){}var n,i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},a=o.lib={},c=a.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=a.WordArray=c.extend({init:function(e,r){e=this.words=e||[],t!=r?this.sigBytes=r:this.sigBytes=4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;t[n+s>>>2]|=o<<24-(n+s)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=0xffffffff<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new l.init(t,e)}}),d=o.enc={},h=d.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},u=d.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,d=e.min(4*c,s);if(c){for(var h=0;h<c;h+=o)this._doProcessBlock(i,h);r=i.splice(0,c),n.sigBytes-=d}return new l.init(r,d)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}});var g=o.algo={};return o}(Math)},16740:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectTonsdkConnector=void 0;let i=r(14903),s=r(71994),o=r(38962),a=r(56901),c=r(55982);class l extends a.OkxwalletInjectConnector{getType(){return c.CONNECTOR_TYPE.INJECT.OKX_INJECT_WALLET}constructor(){super(),this.walletName="OKX Wallet extension",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected"}checkWalletMatch(){return n(this,void 0,void 0,function*(){var e,t,r;let n;null==(e=this.connectionManager)||e.tonsdkConnectStorage.synchronizedCache();let a=null==(t=this.connectionManager)?void 0:t.tonsdkConnectStorage.getItem("ton_connect_info_adapter_universal");if(!a||!(null==a?void 0:a.content))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);let c=JSON.parse(null==a?void 0:a.content),l=c.connectEvent.payload.items.find(e=>"name"in e&&"ton_addr"===e.name);if(this.dappInfo=c.dappInfo,l&&"address"in l&&(n=l.address),!n)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if((0,s.logDebug)(`inject-connector localTonaddress : ${n}`),(0,o.isDevice)("mobile")){let e;e={namespace:i.NameSpaceKeyTON,chains:[i.TON_CHAINS.MAINNET],params:{ton_addr:{name:"ton_addr"}}};let t=yield this.getAccountByRequestWallets(!1,!1,!1,[e],[]);if(t&&1==t.length){let e=null==(r=t[0].data)?void 0:r.ton_addr;if(n===(null==e?void 0:e.address))return}}else{let e=yield window.okxTonWallet.tonconnect.restoreConnection();if("connect"===e.event&&e.payload.items.find(e=>"ton_addr"===e.name).address==n)return}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)})}}t.OkxwalletInjectTonsdkConnector=l},16871:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(60587);function i(e){return(0,n.q)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},16919:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chainIdToStandardChainIdMap=t.chainName2IdMap=t.isValidObject=t.RANDOM_LENGTH=t.isBrowser=t.resolveLocalStorage=t.hasLocalStorage=t.hasBuiltInWebSocket=t.resolveWebSocketImplementation=void 0,t.hexToByteArray=function(e){if(e.length%2!=0)throw Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.toHexString=function(e){let t="";return e.forEach(e=>{t+=("0"+(255&e).toString(16)).slice(-2)}),t},t.concatUint8Arrays=function(e,t){let r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r},t.splitToUint8Arrays=function(e,t){if(t>=e.length)throw Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]},t.base64encode=function(e,t){let r;e instanceof Uint8Array?r=e:("string"!=typeof e&&(e=(0,c.safeJsonStringify)(e)),r=s.default.decodeUTF8(e));var n=r;let i=s.default.encodeBase64(n);return t?encodeURIComponent(i):i},t.base64decode=function(e,t){var r;let n=(r=e,t&&(r=decodeURIComponent(r)),s.default.decodeBase64(r));return{toString:()=>s.default.encodeUTF8(n),toObject(){try{return(0,c.safeJsonParse)(s.default.encodeUTF8(n))}catch(e){return null}},toUint8Array:()=>n}},t.checkWSUrl=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let r=t[0];return void 0!==r&&RegExp("^wss?:").test(r)},t.hashKey=f,t.generateRandomBytes32=g,t.generateTopic=function(){let e=g();return(0,l.logDebug)(`generate topic called ${e}`),f((0,o.toString)(e,p))},t.generateGroupId=function(){let e=i.default.randomBytes(16);return(0,l.logDebug)(`generate groupid called ${e}`),f((0,o.toString)(e,p))},t.isInIOSLine=function(){return navigator.userAgent.includes("Safari Line/")&&m()},t.isInIOSLark=function(){return navigator.userAgent.includes("Lark/")&&m()},t.isInIOSChrome=function(){return navigator.userAgent.includes("CriOS/")&&m()},t.isInIOSWeChat=function(){return navigator.userAgent.includes("MicroMessenger/")&&m()},t.isIos=m,t.getLastSixMd5Hash=function(e){return h.default.MD5(e).toString().slice(-6)},t.toSafeBase64FromBase64=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.useShortLink=function(){return!0},t.replaceChainNameToChainId=function(e){return t.chainName2IdMap.forEach((t,r)=>{e.includes(r)&&(e=e.replace(r,t))}),e},t.replaceChainIdToChainName=function(e){return t.chainName2IdMap.forEach((t,r)=>{e.includes(t)&&(e=e.replace(t,r))}),e},t.getNamespaceKeyByChain=function(e){for(let[t,r]of Object.entries(u.NAMES_CHAINS))if(Object.values(r).includes(e))return t;return e},t.scopePollingDetectionStrategy=function(e){if("undefined"==typeof window||"undefined"==typeof document)return;let t=[];function r(){if(e())for(let e of t)e()}let n=setInterval(r,1e3);t.push(()=>clearInterval(n)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",r))),"complete"!==document.readyState&&(window.addEventListener("load",r,{once:!0}),t.push(()=>window.removeEventListener("load",r))),r()};let i=n(r(28555)),s=n(r(52228)),o=r(14422),a=r(48746),c=r(14441),l=r(75260),d=r(52540),h=n(r(60316)),u=r(14903),p="base16";function f(e,t=p){(0,l.logDebug)(`hash key called ${e}`);let r=(0,a.hash)((0,d.okxfromString)(e,t));return(0,o.toString)(r,t)}function g(){return i.default.randomBytes(t.RANDOM_LENGTH)}function m(){let e=navigator.userAgent,t=navigator.maxTouchPoints||0,r=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,n=e.includes("Mac")&&t>1;return(0,l.logDebug)(`utils isIos >>>isIOSDevice: ${r}    >> isIPadOS: ${n}`),r||n}t.resolveWebSocketImplementation=()=>{if("undefined"!=typeof WebSocket);else if(void 0!==r.g&&void 0!==r.g.WebSocket)return r.g.WebSocket;else if("undefined"!=typeof window&&void 0!==window.WebSocket)return window.WebSocket;else if("undefined"!=typeof self&&void 0!==self.WebSocket)return self.WebSocket;return WebSocket},t.hasBuiltInWebSocket=()=>"undefined"!=typeof WebSocket||void 0!==r.g&&void 0!==r.g.WebSocket||"undefined"!=typeof window&&void 0!==window.WebSocket||"undefined"!=typeof self&&void 0!==self.WebSocket,t.hasLocalStorage=()=>void 0!==r.g&&void 0!==r.g.localStorage||"undefined"!=typeof window&&void 0!==window.localStorage,t.resolveLocalStorage=()=>void 0!==r.g&&void 0!==r.g.localStorage?r.g.localStorage:"undefined"!=typeof window&&void 0!==window.localStorage?window.localStorage:localStorage,t.isBrowser=()=>"undefined"!=typeof window,t.RANDOM_LENGTH=32,t.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length,t.chainName2IdMap=new Map,t.chainName2IdMap.set("aptos:mainnet","aptos:637"),t.chainName2IdMap.set("movement:testnet","aptos:70000060"),t.chainName2IdMap.set("movement:mainnet","aptos:70000066"),t.chainName2IdMap.set("soon:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000069"),t.chainName2IdMap.set("soon:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","svm:70000067"),t.chainName2IdMap.set("eclipse:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000068"),t.chainName2IdMap.set("sonic:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","svm:70000073"),t.chainIdToStandardChainIdMap=new Map,t.chainIdToStandardChainIdMap.set(u.SOLANA_CHAINS.MAINNET,u.SOLANA_CHAINS_STANDARD.MAINNET),t.chainIdToStandardChainIdMap.set(u.SOLANA_CHAINS.TESTNET,u.SOLANA_CHAINS_STANDARD.TESTNET)},16995:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PetraWalletAdapter=void 0;let i=r(74717),s=r(42316),o=r(16919),a=r(14903);class c extends i.BaseAptosWalletAdapter{get readyState(){return this._readyState}getPerta(){var e;if(this._provider)return this._provider;if(!window.petra)return;let t=window.petra;if(!t||!t.isOKExWallet&&!t.isOkxWallet&&(null==(e=window.okxwallet)?void 0:e.aptos)!==t)return this._provider=t,t}constructor(){super(),this.name="Petra",this.icon="https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/petra.png",this.url="",this._version="unknown",this._readyState="undefined"==typeof window||"undefined"==typeof document?s.WalletReadyState.Unsupported:s.WalletReadyState.NotDetected,this._network=void 0,this._connecting=!1,this._wallet=null,"undefined"!=typeof window&&this._readyState!==s.WalletReadyState.Unsupported&&(0,o.scopePollingDetectionStrategy)(()=>!!this.getPerta()&&(this._readyState=s.WalletReadyState.Installed,!0))}get publicAccount(){var e,t,r;return{publicKey:(null==(e=this._wallet)?void 0:e.publicKey)||null,address:(null==(t=this._wallet)?void 0:t.address)||null,authKey:(null==(r=this._wallet)?void 0:r.authKey)||null}}get connecting(){return this._connecting}get version(){return this._version}get network(){return{name:this._network}}connect(){return n(this,void 0,void 0,function*(){try{if(this._readyState!==s.WalletReadyState.Loadable&&this._readyState!==s.WalletReadyState.Installed)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);if(this.connected)return void(yield this.initNetWork());this._connecting=!0;let e=this.getPerta(),t=yield null==e?void 0:e.connect();this._wallet={address:null==t?void 0:t.address,publicKey:null==t?void 0:t.publicKey,isConnected:!0},yield this.initNetWork()}catch(e){throw e}finally{this._connecting=!1}})}initNetWork(){return n(this,void 0,void 0,function*(){let e=this.getPerta(),t=yield null==e?void 0:e.network();this._network=t})}disconnect(){return n(this,void 0,void 0,function*(){let e=this._wallet,t=this.getPerta();if(e){this._wallet=null;try{yield null==t?void 0:t.disconnect()}catch(e){}}})}signAndSubmitTransaction(e,t){return n(this,void 0,void 0,function*(){try{let r=this._wallet,n=this.getPerta();if(!r||!n)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let i=yield n.signAndSubmitTransaction(e,t);if(i.code)throw Error(i.message);return i}catch(e){throw e}})}signTransaction(e,t){return n(this,void 0,void 0,function*(){try{let t=this._wallet,r=this.getPerta();if(!t||!r)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let n=yield null==r?void 0:r.signTransaction(e);if(n.code)throw Error(n.message);return n}catch(e){throw e}})}signMessage(e){return n(this,void 0,void 0,function*(){try{let t=this._wallet,r=this.getPerta();if(!t||!r)throw new a.OKXConnectError(a.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);let n=yield null==r?void 0:r.signMessage(e);if(n)return n;throw Error("Sign Message failed")}catch(e){throw e}})}onAccountChange(e){return n(this,void 0,void 0,function*(){try{this._wallet;let t=this.getPerta(),r=r=>n(this,void 0,void 0,function*(){var n,i,s,o,a,c;if(null==r?void 0:r.publicKey)this._wallet=Object.assign(Object.assign({},this._wallet),{publicKey:r.publicKey||(null==(n=this._wallet)?void 0:n.publicKey),authKey:r.authKey||(null==(i=this._wallet)?void 0:i.authKey),address:r.address||(null==(s=this._wallet)?void 0:s.address)});else{let e=yield null==t?void 0:t.connect();this._wallet=Object.assign(Object.assign({},this._wallet),{authKey:(null==e?void 0:e.authKey)||(null==(o=this._wallet)?void 0:o.authKey),address:(null==e?void 0:e.address)||(null==(a=this._wallet)?void 0:a.address),publicKey:(null==e?void 0:e.publicKey)||(null==(c=this._wallet)?void 0:c.publicKey)})}null==e||e(this._wallet)});null==t||t.onAccountChange(r)}catch(e){throw e}})}onNetworkChange(){return n(this,void 0,void 0,function*(){try{this._wallet,this.getPerta()}catch(e){throw e}})}}t.PetraWalletAdapter=c},17389:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});let n={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u};var i=r(73537),s=r(22669);let o={checkIfAllowedToTriggerEmail(){let e=s.o.get(i.s1.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4){let e=Math.ceil((3e4-t)/1e3);throw Error(`Please try again after ${e} seconds`)}}},getTimeToNextEmailLogin(){let e=s.o.get(i.s1.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<3e4)return Math.ceil((3e4-t)/1e3)}return 0},checkIfRequestExists:e=>i.Vl.NOT_SAFE_RPC_METHODS.includes(e.method)||i.Vl.SAFE_RPC_METHODS.includes(e.method),getResponseType:e=>"string"==typeof e&&(e?.match(n.transactionHash)||e?.match(n.signedMessage))?i.s1.RPC_RESPONSE_TYPE_TX:i.s1.RPC_RESPONSE_TYPE_OBJECT,checkIfRequestIsSafe:e=>i.Vl.SAFE_RPC_METHODS.includes(e.method),isClient:"undefined"!=typeof window}},18085:function(e){e.exports=function(e,t,r){r.updateLocale=function(e,t){var n=r.Ls[e];if(n)return(t?Object.keys(t):[]).forEach(function(e){n[e]=t[e]}),n}}},18635:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(55480),i=r(10899),s=r(58653),o=r(12319),a=r(72880),c=r(79355),l=r(48981),d=r(91867);let h={filterOutDuplicatesByRDNS(e){let t=n.H.state.enableEIP6963?i.a.state.connectors:[],r=s.i.getRecentWallets(),a=t.map(e=>e.info?.rdns).filter(Boolean),c=r.map(e=>e.rdns).filter(Boolean),l=a.concat(c);if(l.includes("io.metamask.mobile")&&o.w.isMobile()){let e=l.indexOf("io.metamask.mobile");l[e]="io.metamask"}return e.filter(e=>!(e?.rdns&&l.includes(String(e.rdns))||!e?.rdns&&t.some(t=>t.name===e.name))&&!0)},filterOutDuplicatesByIds(e){let t=i.a.state.connectors.filter(e=>"ANNOUNCED"===e.type||"INJECTED"===e.type),r=s.i.getRecentWallets(),n=t.map(e=>e.explorerId),o=r.map(e=>e.id),a=n.concat(o);return e.filter(e=>!a.includes(e?.id))},filterOutDuplicateWallets(e){let t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){let{connectors:t}=i.a.state,{featuredWalletIds:r}=n.H.state,s=t.filter(e=>"ANNOUNCED"===e.type).reduce((e,t)=>(t.info?.rdns&&(e[t.info.rdns]=!0),e),{});return e.map(e=>({...e,installed:!!e.rdns&&!!s[e.rdns??""]})).sort((e,t)=>{let n=Number(t.installed)-Number(e.installed);if(0!==n)return n;if(r?.length){let n=r.indexOf(e.id),i=r.indexOf(t.id);if(-1!==n&&-1!==i)return n-i;if(-1!==n)return -1;if(-1!==i)return 1}return 0})},getConnectOrderMethod(e,t){let r=e?.connectMethodsOrder||n.H.state.features?.connectMethodsOrder,s=t||i.a.state.connectors;if(r)return r;let{injected:o,announced:c}=l.g.getConnectorsByType(s,a.N.state.recommended,a.N.state.featured),h=o.filter(l.g.showConnector),u=c.filter(l.g.showConnector);return h.length||u.length?["wallet","email","social"]:d.o.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){let t=!!e.rdns&&a.N.state.excludedWallets.some(t=>t.rdns===e.rdns),r=!!e.name&&a.N.state.excludedWallets.some(t=>c.y.isLowerCaseMatch(t.name,e.name));return t||r},markWalletsWithDisplayIndex:e=>e.map((e,t)=>({...e,display_index:t}))}},19276:function(e,t,r){var n;n=r(16611),r(9956),r(11816),r(93524),r(99229),function(){var e=n.lib.StreamCipher,t=n.algo,r=[],i=[],s=[],o=t.Rabbit=e.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=(e[r]<<8|e[r]>>>24)&0xff00ff|(e[r]<<24|e[r]>>>8)&0xff00ff00;var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,0xffff0000&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,0xffff0000&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,0xffff0000&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,0xffff0000&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)a.call(this);for(var r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var s=t.words,o=s[0],c=s[1],l=(o<<8|o>>>24)&0xff00ff|(o<<24|o>>>8)&0xff00ff00,d=(c<<8|c>>>24)&0xff00ff|(c<<24|c>>>8)&0xff00ff00,h=l>>>16|0xffff0000&d,u=d<<16|65535&l;i[0]^=l,i[1]^=h,i[2]^=d,i[3]^=u,i[4]^=l,i[5]^=h,i[6]^=d,i[7]^=u;for(var r=0;r<4;r++)a.call(this)}},_doProcessBlock:function(e,t){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=(r[i]<<8|r[i]>>>24)&0xff00ff|(r[i]<<24|r[i]>>>8)&0xff00ff00,e[t+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+0x4d34d34d+this._b|0,t[1]=t[1]+0xd34d34d3+ +(t[0]>>>0<i[0]>>>0)|0,t[2]=t[2]+0x34d34d34+ +(t[1]>>>0<i[1]>>>0)|0,t[3]=t[3]+0x4d34d34d+ +(t[2]>>>0<i[2]>>>0)|0,t[4]=t[4]+0xd34d34d3+ +(t[3]>>>0<i[3]>>>0)|0,t[5]=t[5]+0x34d34d34+ +(t[4]>>>0<i[4]>>>0)|0,t[6]=t[6]+0x4d34d34d+ +(t[5]>>>0<i[5]>>>0)|0,t[7]=t[7]+0xd34d34d3+ +(t[6]>>>0<i[6]>>>0)|0,this._b=+(t[7]>>>0<i[7]>>>0);for(var r=0;r<8;r++){var n=e[r]+t[r],o=65535&n,a=n>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((0xffff0000&n)*n|0)+((65535&n)*n|0);s[r]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.Rabbit=e._createHelper(o)}(),e.exports=n.Rabbit},19476:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcConnection=void 0;let s=r(94820),o=i(r(91997)),a=r(79864),c=r(79864),l={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class d{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new s.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,c.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return n(this,arguments,void 0,function*(e=this.url){yield this.register(e)})}close(){return n(this,void 0,void 0,function*(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()})}send(e){return n(this,void 0,void 0,function*(){this.isAvailable||(yield this.register());try{let t=(0,a.safeJsonStringify)(e),r=yield(0,o.default)(this.url,Object.assign(Object.assign({},l),{body:t})),n=yield r.json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}})}register(){return n(this,arguments,void 0,function*(e=this.url){if(!(0,c.isHttpUrl)(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering)return new Promise((e,t)=>{this.events.once("register_error",e=>{t(e)}),this.events.once("open",()=>{if(void 0===this.isAvailable)return t(Error("HTTP connection is missing or invalid"));e()})});this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=(0,a.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,o.default)(e,Object.assign(Object.assign({},l),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}})}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(void 0===e.data)return;let t="string"==typeof e.data?(0,a.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=r.message||r.toString(),i=(0,c.formatJsonRpcError)(e,n);this.events.emit("payload",i)}parseError(e,t=this.url){return(0,c.parseConnectionError)(e,t,"HTTP")}}t.JsonRpcConnection=d},19511:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;class r{}t.IWatch=r},19831:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,W:()=>o});var n=r(45553),i=r(93481);let s={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},o={handleMobileDeeplinkRedirect(e,t){let r=window.location.href,o=encodeURIComponent(r);if(e===s.PHANTOM.id&&!("phantom"in window)){let e=r.startsWith("https")?"https":"http",t=r.split("/")[2],n=encodeURIComponent(`${e}://${t}`);window.location.href=`${s.PHANTOM.url}/ul/browse/${o}?ref=${n}`}if(e!==s.SOLFLARE.id||"solflare"in window||(window.location.href=`${s.SOLFLARE.url}/ul/v1/browse/${o}?ref=${o}`),t!==n.o.CHAIN.SOLANA||e!==s.COINBASE.id||"coinbaseSolana"in window||(window.location.href=`${s.COINBASE.url}/dapp?cb_url=${o}`),t===n.o.CHAIN.BITCOIN&&e===s.BINANCE.id&&!("binancew3w"in window)){let e=i.W.state.activeCaipNetwork,t=window.btoa("/pages/browser/index"),r=window.btoa(`url=${o}&defaultChainId=${e?.id??1}`),n=new URL(s.BINANCE.deeplink);n.searchParams.set("appId",s.BINANCE.appId),n.searchParams.set("startPagePath",t),n.searchParams.set("startPageQuery",r);let a=new URL(s.BINANCE.url);a.searchParams.set("_dp",window.btoa(n.toString())),window.location.href=a.toString()}}}},20296:(e,t,r)=>{"use strict";r.d(t,{AH:()=>c,CV:()=>o,f:()=>a});var n=r(83138),i=r(81345);let s="--apkt",o={createCSSVariables(e){let t={},r={};return!function e(t,r,n=""){for(let[i,o]of Object.entries(t)){let t=n?`${n}-${i}`:i;o&&"object"==typeof o&&Object.keys(o).length?(r[i]={},e(o,r[i],t)):"string"==typeof o&&(r[i]=`${s}-${t}`)}}(e,t),!function e(t,r){for(let[n,i]of Object.entries(t))i&&"object"==typeof i?(r[n]={},e(i,r[n])):"string"==typeof i&&(r[n]=`var(${i})`)}(t,r),{cssVariables:t,cssVariablesVarPrefix:r}},assignCSSVariables(e,t){let r={};return!function e(t,n,i){for(let[o,a]of Object.entries(t)){let t=i?`${i}-${o}`:o,c=n[o];a&&"object"==typeof a?e(a,c,t):"string"==typeof c&&(r[`${s}-${t}`]=c)}}(e,t),r},createRootStyles(e,t){let r={...i.R7,tokens:{...i.R7.tokens,theme:"light"===e?i.LU.light:i.LU.dark}},{cssVariables:n}=o.createCSSVariables(r),s=o.assignCSSVariables(n,r),a=o.generateW3MVariables(t),c=o.generateW3MOverrides(t),l=o.generateScaledVariables(t),d=o.generateBaseVariables(s),h={...s,...d,...a,...c,...l},u=o.applyColorMixToVariables(t,h),p=Object.entries({...h,...u}).map(([e,t])=>`${e}:${t.replace("/[:;{}</>]/g","")};`).join("");return`:root {${p}}`},generateW3MVariables(e){if(!e)return{};let t={};return t["--w3m-font-family"]=e["--w3m-font-family"]||"KHTeka",t["--w3m-accent"]=e["--w3m-accent"]||"#0988F0",t["--w3m-color-mix"]=e["--w3m-color-mix"]||"#000",t["--w3m-color-mix-strength"]=`${e["--w3m-color-mix-strength"]||0}%`,t["--w3m-font-size-master"]=e["--w3m-font-size-master"]||"10px",t["--w3m-border-radius-master"]=e["--w3m-border-radius-master"]||"4px",t},generateW3MOverrides(e){if(!e)return{};let t={};if(e["--w3m-accent"]){let r=e["--w3m-accent"];t["--apkt-tokens-core-iconAccentPrimary"]=r,t["--apkt-tokens-core-borderAccentPrimary"]=r,t["--apkt-tokens-core-textAccentPrimary"]=r,t["--apkt-tokens-core-backgroundAccentPrimary"]=r}return e["--w3m-font-family"]&&(t["--apkt-fontFamily-regular"]=e["--w3m-font-family"]),e["--w3m-z-index"]&&(t["--apkt-tokens-core-zIndex"]=`${e["--w3m-z-index"]}`),t},generateScaledVariables(e){if(!e)return{};let t={};if(e["--w3m-font-size-master"]){let r=parseFloat(e["--w3m-font-size-master"].replace("px",""));t["--apkt-textSize-h1"]=`${5*Number(r)}px`,t["--apkt-textSize-h2"]=`${4.4*Number(r)}px`,t["--apkt-textSize-h3"]=`${3.8*Number(r)}px`,t["--apkt-textSize-h4"]=`${3.2*Number(r)}px`,t["--apkt-textSize-h5"]=`${2.6*Number(r)}px`,t["--apkt-textSize-h6"]=`${2*Number(r)}px`,t["--apkt-textSize-large"]=`${1.6*Number(r)}px`,t["--apkt-textSize-medium"]=`${1.4*Number(r)}px`,t["--apkt-textSize-small"]=`${1.2*Number(r)}px`}if(e["--w3m-border-radius-master"]){let r=parseFloat(e["--w3m-border-radius-master"].replace("px",""));t["--apkt-borderRadius-1"]=`${Number(r)}px`,t["--apkt-borderRadius-2"]=`${2*Number(r)}px`,t["--apkt-borderRadius-3"]=`${3*Number(r)}px`,t["--apkt-borderRadius-4"]=`${4*Number(r)}px`,t["--apkt-borderRadius-5"]=`${5*Number(r)}px`,t["--apkt-borderRadius-6"]=`${6*Number(r)}px`,t["--apkt-borderRadius-8"]=`${8*Number(r)}px`,t["--apkt-borderRadius-16"]=`${16*Number(r)}px`,t["--apkt-borderRadius-20"]=`${20*Number(r)}px`,t["--apkt-borderRadius-32"]=`${32*Number(r)}px`,t["--apkt-borderRadius-64"]=`${64*Number(r)}px`,t["--apkt-borderRadius-128"]=`${128*Number(r)}px`}return t},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";let r=e["--w3m-color-mix"],n=e["--w3m-color-mix-strength"];if(!n||0===n)return"";let i=Object.keys(t||{}).filter(e=>{let t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r});if(0===i.length)return"";let s=i.map(e=>{let i=t?.[e]||"";return i.includes("color-mix")||i.startsWith("#")||i.startsWith("rgb")?`${e}: color-mix(in srgb, ${r} ${n}%, ${i});`:`${e}: color-mix(in srgb, ${r} ${n}%, var(${e}-base, ${i}));`}).join("");return` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s}
      }
    }`},generateBaseVariables(e){let t={},r=e["--apkt-tokens-theme-backgroundPrimary"];r&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=r);let n=e["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),t},applyColorMixToVariables(e,t){let r={};if(t?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return r;let n=e["--w3m-color-mix"],i=e["--w3m-color-mix-strength"];if(!i||0===i)return r;let s=Object.keys(t||{}).filter(e=>{let t=e.includes("-tokens-core-background")||e.includes("-tokens-core-text")||e.includes("-tokens-core-border")||e.includes("-tokens-core-foreground")||e.includes("-tokens-core-icon")||e.includes("-tokens-theme-background")||e.includes("-tokens-theme-text")||e.includes("-tokens-theme-border")||e.includes("-tokens-theme-foreground")||e.includes("-tokens-theme-icon")||e.includes("-tokens-theme-overlay"),r=e.includes("-borderRadius-")||e.includes("-spacing-")||e.includes("-textSize-")||e.includes("-fontFamily-")||e.includes("-fontWeight-")||e.includes("-typography-")||e.includes("-duration-")||e.includes("-ease-")||e.includes("-path-")||e.includes("-width-")||e.includes("-height-")||e.includes("-visual-size-")||e.includes("-modal-width")||e.includes("-cover");return t&&!r});return 0===s.length||s.forEach(e=>{let s=t?.[e]||"";e.endsWith("-base")||("--apkt-tokens-theme-backgroundPrimary"===e||"--apkt-tokens-core-backgroundAccentPrimary"===e?r[e]=`color-mix(in srgb, ${n} ${i}%, var(${e}-base))`:s.includes("color-mix")||s.startsWith("#")||s.startsWith("rgb")?r[e]=`color-mix(in srgb, ${n} ${i}%, ${s})`:r[e]=`color-mix(in srgb, ${n} ${i}%, var(${e}-base, ${s}))`)}),r}},{cssVariablesVarPrefix:a}=o.createCSSVariables(i.R7);function c(e,...t){return(0,n.AH)(e,...t.map(e=>"function"==typeof e?(0,n.iz)(e(a)):(0,n.iz)(e)))}},20390:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},20756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectorState=t.CONNECT_PROTOCOL_VER=t.CONNECT_JSONRPC_VER=t.OKXCONNECTOR_SESSION_LIVE_TTL=t.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=t.OKXCONNECTOR_MESSAGE_TTL=t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=t.OKXCONNECTOR_WS_URL_LIST=t.OKXCONNECTOR_WS_URL_IDX_KEY=t.OKXCONNECTOR_WS_URL_3=t.OKXCONNECTOR_WS_URL_2=t.OKXCONNECTOR_WS_URL_1=t.EVENT_EMITTER_MAX_LISTENERS=t.OKXCONNECTOR_PROTOCOL_VERSION=void 0,t.OKXCONNECTOR_PROTOCOL_VERSION=2,t.EVENT_EMITTER_MAX_LISTENERS=10,t.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",t.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",t.OKXCONNECTOR_WS_URL_LIST=[t.OKXCONNECTOR_WS_URL_1,t.OKXCONNECTOR_WS_URL_2,t.OKXCONNECTOR_WS_URL_3],t.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},t.OKXCONNECTOR_MESSAGE_TTL=3e5,t.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL=864e5,t.OKXCONNECTOR_SESSION_LIVE_TTL=864e5,t.CONNECT_JSONRPC_VER="2.0",t.CONNECT_PROTOCOL_VER=2,t.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}},21129:(e,t,r)=>{"use strict";var n=r(83138),i=r(98410),s=r(20296),o=r(71084),a=r(47327);let c=(0,n.AH)`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`;var l=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let d=class extends n.WF{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){let e={primary:s.f.tokens.theme.textPrimary,secondary:s.f.tokens.theme.textSecondary,tertiary:s.f.tokens.theme.textTertiary,invert:s.f.tokens.theme.textInvert,error:s.f.tokens.core.textError,warning:s.f.tokens.core.textWarning,"accent-primary":s.f.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${"inherit"===this.color?"inherit":e[this.color]};
      `,this.dataset.size=this.size,(0,n.qy)`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};d.styles=[o.W5,c],l([(0,i.MZ)()],d.prototype,"color",void 0),l([(0,i.MZ)()],d.prototype,"size",void 0),d=l([(0,a.E)("wui-loading-spinner")],d)},22177:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NameSpaceKeyStarknet=t.NameSpaceKeyTron=t.NameSpaceKeyCosmos=t.NameSpaceKeyAptos=t.NameSpaceKeyBtc=t.NameSpaceKeySui=t.NameSpaceKeyTON=t.NameSpaceKeySOL=t.NameSpaceKeyEip155=t.OpenAppLinkType=void 0,function(e){e.UniversalLink="universallink",e.DeepLink="deeplink"}(r||(t.OpenAppLinkType=r={})),t.NameSpaceKeyEip155="eip155",t.NameSpaceKeySOL="solana",t.NameSpaceKeyTON="ton",t.NameSpaceKeySui="sui",t.NameSpaceKeyBtc="btc",t.NameSpaceKeyAptos="aptos",t.NameSpaceKeyCosmos="cosmos",t.NameSpaceKeyTron="tron",t.NameSpaceKeyStarknet="starknet"},22630:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiProvider=void 0;let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r){this.name=s.NameSpaceKeySui,this.namespace=e.namespace,this.events=r,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,s.logDebug)("sui provider namespace: ",this.namespace),e.injectParams){if("chain"in e&&s.SUI_CHAINS.MAINNET!=e.chain)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);if(e.injectParams.chain=s.SUI_CHAINS.MAINNET,"account"in e&&e.account.address!=this.getAccounts[0])throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);e.injectParams.account={address:this.getAccounts()[0]}}return!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)})}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,s.logDebug)("[RPC] get http provider:",e,t),void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&((0,s.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")));(0,s.logDebug)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return!e&&((null==(e=this.namespace.defaultChain)?void 0:e.startsWith("sui"))||(e=`sui:${e}`)),this.namespace.accounts.filter(function(t){return t.split(":").length>2&&t.startsWith(e)}).map(function(e){return e.split(":")[2]})[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}}}t.SuiProvider=l,t.default=l},22669:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(73537),i=r(17389);let s={set(e,t){i.Q.isClient&&localStorage.setItem(`${n.s1.STORAGE_KEY}${e}`,t)},get:e=>i.Q.isClient?localStorage.getItem(`${n.s1.STORAGE_KEY}${e}`):null,delete(e,t){i.Q.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${n.s1.STORAGE_KEY}${e}`))}}},23349:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(49154),t),i(r(33887),t)},23511:function(e,t,r){var n,i,s;n=r(16611),r(99229),i=n.lib.CipherParams,s=n.enc.Hex,n.format.Hex={stringify:function(e){return e.ciphertext.toString(s)},parse:function(e){var t=s.parse(e);return i.create({ciphertext:t})}},e.exports=n.format.Hex},24250:(e,t,r)=>{"use strict";r.d(t,{I:()=>i,R:()=>n});let n=e=>e,i=e=>e},24369:(e,t,r)=>{"use strict";r.d(t,{W:()=>p});var n=r(12661),i=r(73537),s=r(71305),o=r(36964),a=r(44826),c=r(93481),l=r(70417),d=r(55480),h=r(65374);let u=(0,n.BX)({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),p=(0,o.X)({state:u,subscribe:e=>(0,n.B1)(u,()=>e(u)),setLastNetworkInView(e){u.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw Error("Transactions can't be fetched without an accountAddress");u.loading=!0;try{let t=await a.T.fetchTransactions({account:e,cursor:u.next,chainId:c.W.state.activeCaipNetwork?.caipNetworkId}),r=p.filterSpamTransactions(t.data),n=p.filterByConnectedChain(r),i=[...u.transactions,...n];u.loading=!1,u.transactions=i,u.transactionsByYear=p.groupTransactionsByYearAndMonth(u.transactionsByYear,n),u.empty=0===i.length,u.next=t.next?t.next:void 0}catch(r){let t=c.W.state.activeChain;l.E.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:d.H.state.projectId,cursor:u.next,isSmartAccount:(0,s.lj)(t)===i.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}}),h.P.showError("Failed to fetch transactions"),u.loading=!1,u.empty=!0,u.next=void 0}},groupTransactionsByYearAndMonth:(e={},t=[])=>(t.forEach(t=>{let r=new Date(t.metadata.minedAt).getFullYear(),n=new Date(t.metadata.minedAt).getMonth(),i=e[r]??{},s=(i[n]??[]).filter(e=>e.id!==t.id);e[r]={...i,[n]:[...s,t].sort((e,t)=>new Date(t.metadata.minedAt).getTime()-new Date(e.metadata.minedAt).getTime())}}),e),filterSpamTransactions:e=>e.filter(e=>!e.transfers.every(e=>e.nft_info?.flags.is_spam===!0)),filterByConnectedChain(e){let t=c.W.state.activeCaipNetwork?.caipNetworkId;return e.filter(e=>e.metadata.chain===t)},clearCursor(){u.next=void 0},resetTransactions(){u.transactions=[],u.transactionsByYear={},u.lastNetworkInView=void 0,u.loading=!1,u.empty=!1,u.next=void 0}},"API_ERROR")},24772:(e,t,r)=>{"use strict";var n=r(83138),i=r(98410),s=r(2354),o=r(20296),a=r(71084),c=r(47327);let l=(0,o.AH)`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`;var d=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let h={primary:o.f.tokens.theme.textPrimary,secondary:o.f.tokens.theme.textSecondary,tertiary:o.f.tokens.theme.textTertiary,invert:o.f.tokens.theme.textInvert,error:o.f.tokens.core.textError,warning:o.f.tokens.core.textWarning,"accent-primary":o.f.tokens.core.textAccentPrimary},u=class extends n.WF{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0}render(){let e={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: ${"inherit"===this.color?"inherit":h[this.color??"primary"]};
      `,(0,n.qy)`<slot class=${(0,s.H)(e)}></slot>`}};u.styles=[a.W5,l],d([(0,i.MZ)()],u.prototype,"variant",void 0),d([(0,i.MZ)()],u.prototype,"color",void 0),d([(0,i.MZ)()],u.prototype,"align",void 0),d([(0,i.MZ)()],u.prototype,"lineClamp",void 0),u=d([(0,c.E)("wui-text")],u)},25042:(e,t,r)=>{"use strict";function n(e){if("string"!=typeof e)throw Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3'),(e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)}catch(t){return e}}function i(e){return"string"==typeof e?e:JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString()+"n":t)||""}r.d(t,{h:()=>i,j:()=>n})},25120:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=void 0;let c=r(12997),l=a(r(28555)),d=r(16919),h=r(71994),u=o(r(75260)),p=r(71994),f=r(60316);class g{constructor(e,t){let r=(0,d.resolveLocalStorage)();this.storeKey="",this.cipherIV="",this.subKey=e,u.logDebug("--------get current local storage --------"),u.logDebug(r),this.synchronizedCache()}checkAndUpgradeCache(e,t){if(e&&e.length>0&&t&&t.length>0){u.logDebug("--------get current local storage --------"),u.logDebug(localStorage);let r=localStorage.getItem(g.cacheKey+e);if(null==r)return void u.logDebug("no pre cache content");u.logDebug(r),(null==r?void 0:r.length)>0&&(u.logDebug("write in cache content: ",e,"->",t),localStorage.setItem(g.cacheKey+t,r),u.logDebug("clean in cache content: ",e),localStorage.removeItem(g.cacheKey+e))}else u.logDebug("no pre cache key:",e)}saveContent(e,t,r="-"){let n={id:r,timestamp:Date.now().toString(),content:e};this.saveItem(n,t)}saveItem(e,t){let r=g.cacheKey+this.subKey,n=(0,d.resolveLocalStorage)();u.logDebug(this.cache),u.logDebug(`get cache obj: ${this.cache}, ${t}, ${e}`),this.cache[t]=e;let i=(0,h.safeJsonStringify)(this.cache);u.logDebug(`STORAGE: ${t} @ ${this.cache}`),n.setItem(r,i)}getItem(e){return u.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}synchronizedCache(){let e=localStorage.getItem(g.cacheKey+this.subKey);if(null==e){u.logDebug("with no cache"),this.cache={};return}if(u.logDebug(e),(null==e?void 0:e.length)>0){var t=(0,h.safeJsonParse)(e);this.cache=t}u.logDebug(`get cache obj: ${this.cache}`),(void 0===this.cache||null==this.cache)&&(this.cache={})}getCachedPBKDF2InfoKey(){var e,t,r,n;if(this.storeKey.length>0&&(null==(e=this.cipherIV)?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let i=null==(t=this.getItem(c.OKXCONNECTOR_STORAGER_CRYPTO_SALT))?void 0:t.content;i||(i=(0,d.toHexString)(l.default.randomBytes(24)),this.saveContent(i,c.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let s=null==(r=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))?void 0:r.content;s||(s=(0,d.toHexString)(l.default.randomBytes(32)),this.saveContent(s,c.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let o=null==(n=this.getItem(c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))?void 0:n.content;if(!o){let e=l.default.randomBytes(16);o=(0,d.toHexString)(e),this.saveContent(o,c.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=o,this.storeKey=(0,f.PBKDF2)(s,i,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,p.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let r=this.getCachedPBKDF2InfoKey();(0,p.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var n=f.AES.encrypt(e,r.pw).toString();this.saveContent(n,t),(0,p.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,p.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,p.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let r=f.AES.decrypt(t.content,e.pw).toString(f.enc.Utf8);return(0,p.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),r}return null}clearCache(e){if(void 0===e){let e=(0,d.resolveLocalStorage)();this.cache={};let t=g.cacheKey+this.subKey;e.setItem(t,"")}else{let t=g.cacheKey+this.subKey,r=(0,d.resolveLocalStorage)();u.logDebug(this.cache),this.cache[e]=null;let n=(0,h.safeJsonStringify)(this.cache);u.logDebug(`STORAGE: clean key ${e} @ ${this.cache}`),r.setItem(t,n)}}}t.Storage=g,g.cacheKey="OKXStorageKey"},25648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(12590);n.__exportStar(r(81452),t),n.__exportStar(r(80361),t)},25654:(e,t,r)=>{"use strict";r.d(t,{R:()=>C});var n=r(12661),i=r(98866),s=r(12182),o=r(45553),a=r(425),c=r(73537),l=r(30982),d=r(71305),h=r(28977),u=r(12319),p=r(83941),f=r(36964),g=r(58051),m=r(93481),y=r(3824),b=r(70417),v=r(67869),w=r(65374);let E=(0,n.BX)({tokenBalances:[],loading:!1}),C=(0,f.X)({state:E,subscribe:e=>(0,n.B1)(E,()=>e(E)),subscribeKey:(e,t)=>(0,i.u$)(E,e,t),setToken(e){e&&(E.token=(0,n.KR)(e))},setTokenAmount(e){E.sendTokenAmount=e},setReceiverAddress(e){E.receiverAddress=e},setReceiverProfileImageUrl(e){E.receiverProfileImageUrl=e},setReceiverProfileName(e){E.receiverProfileName=e},setNetworkBalanceInUsd(e){E.networkBalanceInUSD=e},setLoading(e){E.loading=e},async sendToken(){try{switch(C.setLoading(!0),m.W.state.activeCaipNetwork?.chainNamespace){case"eip155":await C.sendEvmToken();return;case"solana":await C.sendSolanaToken();return;default:throw Error("Unsupported chain")}}finally{C.setLoading(!1)}},async sendEvmToken(){let e=m.W.state.activeChain;if(!e)throw Error("SendController:sendEvmToken - activeChainNamespace is required");let t=(0,d.lj)(e);if(!C.state.sendTokenAmount||!C.state.receiverAddress)throw Error("An amount and receiver address are required");if(!C.state.token)throw Error("A token is required");if(C.state.token?.address){b.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:C.state.token.address,amount:C.state.sendTokenAmount,network:m.W.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await C.sendERC20Token({receiverAddress:C.state.receiverAddress,tokenAddress:C.state.token.address,sendTokenAmount:C.state.sendTokenAmount,decimals:C.state.token.quantity.decimals});e&&(E.hash=e)}else{b.E.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:C.state.token.symbol||"",amount:C.state.sendTokenAmount,network:m.W.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:e}=await C.sendNativeToken({receiverAddress:C.state.receiverAddress,sendTokenAmount:C.state.sendTokenAmount,decimals:C.state.token.quantity.decimals});e&&(E.hash=e)}},async fetchTokenBalance(e){E.loading=!0;let t=m.W.state.activeChain,r=m.W.state.activeCaipNetwork?.caipNetworkId,n=m.W.state.activeCaipNetwork?.chainNamespace,i=g.U.getCaipAddress(t)??m.W.state.activeCaipAddress,s=i?u.w.getPlainAddress(i):void 0;if(E.lastRetry&&!u.w.isAllowedRetry(E.lastRetry,30*h.oU.ONE_SEC_MS))return E.loading=!1,[];try{if(s&&r&&n){let e=await l.Z.getMyTokensWithBalance();return E.tokenBalances=e,E.lastRetry=void 0,e}}catch(t){E.lastRetry=Date.now(),e?.(t),w.P.showError("Token Balance Unavailable")}finally{E.loading=!1}return[]},fetchNetworkBalance(){if(0===E.tokenBalances.length)return;let e=p.s.mapBalancesToSwapTokens(E.tokenBalances);if(!e)return;let t=e.find(e=>e.address===(0,d.K1)());t&&(E.networkBalanceInUSD=t?s.S.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){v.I.pushTransactionStack({});let t=e.receiverAddress,r=g.U.state.address,n=y.x.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),i=await y.x.sendTransaction({chainNamespace:o.o.CHAIN.EVM,to:t,address:r,data:"0x",value:n??BigInt(0)});return b.E.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,d.lj)("eip155")===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:C.state.token?.symbol||"",amount:e.sendTokenAmount,network:m.W.state.activeCaipNetwork?.caipNetworkId||"",hash:i||""}}),y.x._getClient()?.updateBalance("eip155"),C.resetSend(),{hash:i}},async sendERC20Token(e){v.I.pushTransactionStack({onSuccess(){v.I.replace("Account")}});let t=y.x.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(g.U.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let r=u.w.getPlainAddress(e.tokenAddress);if(!r)throw Error("SendController:sendERC20Token - tokenAddress is required");let n=await y.x.writeContract({fromAddress:g.U.state.address,tokenAddress:r,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:a.v.getERC20Abi(r),chainNamespace:o.o.CHAIN.EVM});return b.E.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:(0,d.lj)("eip155")===c.Vl.ACCOUNT_TYPES.SMART_ACCOUNT,token:C.state.token?.symbol||"",amount:e.sendTokenAmount,network:m.W.state.activeCaipNetwork?.caipNetworkId||"",hash:n||""}}),C.resetSend(),{hash:n}}return{hash:void 0}},async sendSolanaToken(){let e;if(!C.state.sendTokenAmount||!C.state.receiverAddress)throw Error("An amount and receiver address are required");v.I.pushTransactionStack({onSuccess(){v.I.replace("Account")}}),C.state.token&&C.state.token.address!==h.oU.SOLANA_NATIVE_TOKEN_ADDRESS&&(e=u.w.isCaipAddress(C.state.token.address)?u.w.getPlainAddress(C.state.token.address):C.state.token.address);let t=await y.x.sendTransaction({chainNamespace:"solana",tokenMint:e,to:C.state.receiverAddress,value:C.state.sendTokenAmount});t&&(E.hash=t),y.x._getClient()?.updateBalance("solana"),C.resetSend()},resetSend(){E.token=void 0,E.sendTokenAmount=void 0,E.receiverAddress=void 0,E.receiverProfileImageUrl=void 0,E.receiverProfileName=void 0,E.loading=!1,E.tokenBalances=[]}})},25939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(25648);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},26051:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletConnector=void 0;let c=r(20756),l=r(12997),d=r(25120),h=r(71994),u=r(16919),p=r(94820),f=o(r(75260)),g=r(14903),m=r(87316),y=(0,u.resolveWebSocketImplementation)();class b{constructor(e){if(this.events=new p.EventEmitter,this.state=c.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,u.checkWSUrl)(e))throw Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new d.Storage(l.OKXCONNECTOR_CACHE_KEY+l.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==c.ConnectorState.Connecting}onPayload(e){if(void 0!==e.data){if(f.logDebug("get received data"),f.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void f.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;f.logDebug("socket get closed: ",null==(t=this.socket)?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){let r={id:e,msg:t.toString()};this.events.emit("payload",r)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=c.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return a(this,void 0,void 0,function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state!=c.ConnectorState.Connected&&this.state!=c.ConnectorState.OnError)return void f.logDebug("heart beat close");if(!this.socket){if(f.logDebug("socket not exist"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){f.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch(e){f.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}if(this.socket.readyState!==WebSocket.OPEN){if(f.logDebug("socket not ready"),this.state==c.ConnectorState.Connected||this.state==c.ConnectorState.OnError){f.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch(e){f.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}return}f.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)})}registOpen(e=this.url,t=!1){if(!(0,u.checkWSUrl)(e))throw Error(`CONNECTOR: invalid url ${e}`);return this.url=e,t||f.logDebug("Connection connect:",this.url,new Date().toUTCString()),this.state=c.ConnectorState.Connecting,new URLSearchParams(e).get("origin"),new Promise((t,r)=>{let n=new y(e,[]);f.logDebug("Connection connect Begin:",this.url,new Date().toUTCString()),this.startTimeOutTimer(n),(0,u.hasBuiltInWebSocket)()?(f.logDebug("Add socket error handler"),n.onerror=()=>{r(Error("socket error")),n.close()}):(f.logDebug("Add socket error handler"),n.on("error",()=>{r(Error("socket error")),n.close()})),n.onopen=()=>{f.logDebug("socket opened"),this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(n),this.heartbeat(),t(n)}})}checkMaxRetry(){return f.logDebug("current retry count:",this.retryCount,"of",c.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>3*c.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return a(this,void 0,void 0,function*(){if(this.checkMaxRetry())f.logDebug("Max Connection retry ",this.retryCount,new Date().toUTCString());else{this.retryCount+=1;let e=this.getNextSelectUrl();return f.logDebug("Connection retry:",e,new Date().toUTCString()),this.registOpen(e,!0)}})}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout(()=>{this.pendingSocket&&this.resetTimeOutTimer(c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)},this.timeOutLimit)}resetTimeOutTimer(e){var t;if(e==c.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)throw clearTimeout(this.connectionTimeoutTimer),null==(t=this.pendingSocket)||t.close(),this.pendingSocket=void 0,f.reportEvent(m.OKXReportType.LOG,"timeout",this.retryCount.toString()),Error("socket timeout");this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),l.OKXCONNECTOR_CACHE_KEY)}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%c.OKXCONNECTOR_WS_URL_LIST.length,c.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return a(this,void 0,void 0,function*(){if("visible"===document.visibilityState&&(f.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==c.ConnectorState.Connected&&void 0===this.socket)){f.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch(e){f.logError("regist open failed")}return}})}tryRegistOpen(){return a(this,arguments,void 0,function*(e=this.url){if(this.connecting)return f.logDebug("tryRegistOpen => connecting state"),new Promise((e,t)=>{this.events.once("fail",e=>(f.logDebug("tryRegistOpen => connecting fail listener",e),t(e))),this.events.once("open",()=>void 0===this.socket?t(Error("Connect lost")):e(this.socket))});f.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let t=!1;for(;!this.checkMaxRetry()&&!this.socket;)try{f.logDebug("tryRegistOpen => call registOpen, try count:",this.retryCount,t),yield this.registOpen(e,t)}catch(r){f.logDebug("tryRegistOpen => registOpen failed",r),this.retryCount+=1,e=this.getNextSelectUrl(),t=!0}if(f.logDebug("tryRegistOpen => exit while loop",this.retryCount,this.socket),!this.socket&&this.checkMaxRetry())throw f.logDebug("tryRegistOpen => failed to open a socket",this.retryCount,this.socket),this.retryCount=0,this.state=c.ConnectorState.OnError,this.emitError(Error("tryRegistOpen failed")),new g.OKXConnectError(g.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")})}connect(){return a(this,void 0,void 0,function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw f.logDebug("connect => failed to connect",e),e}})}disconnect(){return a(this,void 0,void 0,function*(){return this.state=c.ConnectorState.Disconnected,new Promise((e,t)=>{if(void 0===this.socket)return void e();this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)})})}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,r,n,i){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=s=>a(this,void 0,void 0,function*(){var o;f.logDebug(`<<< get payload ${s}`);let a=(0,h.safeJsonParse)(s);if(a.params&&a.params.data){let s=null==(o=a.params.data)?void 0:o.message,c=!1;if(s&&i){let e=yield i(a.params.data);c=e.isSplitPackage&&!e.finalMessage,e.isSplitPackage&&(e.finalMessage&&e.finalMessage.length>0?(f.logDebug("CONNECT: update raw msg content"),s=e.finalMessage):(f.logDebug("CONNECT: skip raw msg content"),c=!0))}if(!c)try{let i=t(s);void 0===i?(f.logDebug("CONNECT: decrypt undefined"),n(e,"Decrypt undefined")):r(e,i)}catch(t){f.logDebug(`CONNECT: decrypt failed: ${t}`),n(e,t.message)}}}),this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(f.logDebug(`CONNECT failed: ${t}`),n(e,t.message)):n(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>a(this,void 0,void 0,function*(){f.logDebug(`CONNECTION @[${new Date().toUTCString()}] <<<< received e:${t}`);let r=(0,h.safeJsonParse)(t);yield e(r)}),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return a(this,void 0,void 0,function*(){try{void 0===this.socket&&(f.logDebug(`>>> send payload undefined ${t}`),yield e()),f.logDebug(`CONNECTION @[${new Date().toUTCString()}]>>> send payload ${(0,h.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,h.safeJsonStringify)(t))}catch(e){this.onError(t.id,e)}})}getMsgPayloadFromHistory(e){return a(this,void 0,void 0,function*(){if(void 0===e)return;let t=(0,h.safeJsonStringify)(e);f.logDebug("get received data from history"),f.logDebug(t),t=(0,h.safeJsonStringify)({params:{data:e}}),this.events.emit("payload",t)})}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>a(this,void 0,void 0,function*(){f.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> ws opened: `),yield e()}),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}t.OKXWalletConnector=b},26459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disconnect=t.StandardDisconnect=void 0,t.StandardDisconnect="standard:disconnect",t.Disconnect=t.StandardDisconnect},26662:(e,t)=>{"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},26699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.safeCaptureStackTrace=function(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}},26721:function(e,t,r){var n,i;i=(n=r(16611)).lib.WordArray,n.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var s=[],o=0;o<n;o+=3)for(var a=(r[o>>>2]>>>24-o%4*8&255)<<16|(r[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|r[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<n;c++)s.push(i.charAt(a>>>6*(3-c)&63));var l=i.charAt(64);if(l)for(;s.length%4;)s.push(l);return s.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,n=t?this._safe_map:this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var o=0;o<n.length;o++)s[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(r=c)}for(var l=e,d=r,h=s,u=[],p=0,f=0;f<d;f++)if(f%4){var g=h[l.charCodeAt(f-1)]<<f%4*2|h[l.charCodeAt(f)]>>>6-f%4*2;u[p>>>2]|=g<<24-p%4*8,p++}return i.create(u,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},e.exports=n.enc.Base64url},27319:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.getHumanReadableErrorMessage=function(e,t={}){let r,i=s.WalletStandardErrorMessages[e];if(0===i.length)return"";function o(e){if(r.t===n.Variable){let n=i.slice(r.i+1,e);a.push(n in t?`${t[n]}`:`$${n}`)}else r.t===n.Text&&a.push(i.slice(r.i,e))}let a=[];return i.split("").forEach((e,t)=>{let s;if(0===t){r={i:0,t:"\\"===i[0]?n.EscapeSequence:"$"===i[0]?n.Variable:n.Text};return}switch(r.t){case n.EscapeSequence:s={i:t,t:n.Text};break;case n.Text:"\\"===e?s={i:t,t:n.EscapeSequence}:"$"===e&&(s={i:t,t:n.Variable});break;case n.Variable:"\\"===e?s={i:t,t:n.EscapeSequence}:"$"===e?s={i:t,t:n.Variable}:e.match(/\w/)||(s={i:t,t:n.Text})}s&&(r!==s&&o(t),r=s)}),o(),a.join("")},t.getErrorMessage=function(e,t={}){{let r=`Wallet Standard error #${e}; Decode this error by running \`npx @wallet-standard/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${(0,i.encodeContextObject)(t)}'`),`${r}\``}};let i=r(95036),s=r(4609);!function(e){e[e.EscapeSequence=0]="EscapeSequence",e[e.Text=1]="Text",e[e.Variable=2]="Variable"}(n||(n={}))},28352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXWalletAppConnector=void 0;let n=r(55982),i=r(71994),s=r(56518),o=r(14903),a=r(7769);class c extends a.WsConnector{getType(){return n.CONNECTOR_TYPE.WS.OKX_WALLET_APP_WALLET}constructor(){super(),this.walletName="OKX Wallet App"}getTag(){return n.OKX_WALLET_APP_WALLET}openWallet(e,t){super.openWallet(e);let r=null!=t?t:o.OpenAppLinkType.UniversalLink;if(e&&e.connectRequest||!(0,i.isOS)("android")){(0,i.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`);let t=null==e?void 0:e.connectRequest,{universalLink:n,deepLink:s}=(0,i.getOKXLink)(t,o.ConnectWalletType.OKX_WALLET);(0,i.openOKXDeeplinkWithFallback)(s,n,r)}else(0,i.openDeeplinkWithFallback)(s.okxWalletStackDeepLink,()=>{})}}t.OKXWalletAppConnector=c},28397:function(e,t,r){var n,i,s;n=r(16611),r(99229),n.mode.CTR=(s=(i=n.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var o=s.slice(0);r.encryptBlock(o,0),s[n-1]=s[n-1]+1|0;for(var a=0;a<n;a++)e[t+a]^=o[a]}}),i.Decryptor=s,i),e.exports=n.mode.CTR},28463:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaProvider=void 0;let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r,n){this.name="solana",this.namespace=e.namespace,this.events=n,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,s.logDebug)("solana provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))return this.client.request(e);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")))}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return!e&&((null==(e=this.namespace.defaultChain)?void 0:e.startsWith("solana"))||(e=`solana:${e}`)),this.namespace.accounts.filter(function(t){return t.split(":").length>2&&t.startsWith(e)}).map(function(e){return e.split(":")[2]})[0]}showRequestModal(e){return!0}}t.SolanaProvider=l,t.default=l},28555:(e,t,r)=>{!function(e){"use strict";var t,n=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},i=function(){throw Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=n(),c=n([1]),l=n([56129,1]),d=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var s,o=0;for(s=0;s<i;s++)o|=e[t+s]^r[n+s];return(1&o-1>>>8)-1}function y(e,t,r,n){return m(e,t,r,n,16)}function b(e,t,r,n){return m(e,t,r,n,32)}function v(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,C=o,_=a,O=c,x=l,N=d,A=h,S=u,T=p,R=f,I=g,P=m,k=y,D=b,U=v,M=w,L=0;L<20;L+=2)x^=(i=E+k|0)<<7|i>>>25,T^=(i=x+E|0)<<9|i>>>23,k^=(i=T+x|0)<<13|i>>>19,E^=(i=k+T|0)<<18|i>>>14,R^=(i=N+C|0)<<7|i>>>25,D^=(i=R+N|0)<<9|i>>>23,C^=(i=D+R|0)<<13|i>>>19,N^=(i=C+D|0)<<18|i>>>14,U^=(i=I+A|0)<<7|i>>>25,_^=(i=U+I|0)<<9|i>>>23,A^=(i=_+U|0)<<13|i>>>19,I^=(i=A+_|0)<<18|i>>>14,O^=(i=M+P|0)<<7|i>>>25,S^=(i=O+M|0)<<9|i>>>23,P^=(i=S+O|0)<<13|i>>>19,M^=(i=P+S|0)<<18|i>>>14,C^=(i=E+O|0)<<7|i>>>25,_^=(i=C+E|0)<<9|i>>>23,O^=(i=_+C|0)<<13|i>>>19,E^=(i=O+_|0)<<18|i>>>14,A^=(i=N+x|0)<<7|i>>>25,S^=(i=A+N|0)<<9|i>>>23,x^=(i=S+A|0)<<13|i>>>19,N^=(i=x+S|0)<<18|i>>>14,P^=(i=I+R|0)<<7|i>>>25,T^=(i=P+I|0)<<9|i>>>23,R^=(i=T+P|0)<<13|i>>>19,I^=(i=R+T|0)<<18|i>>>14,k^=(i=M+U|0)<<7|i>>>25,D^=(i=k+M|0)<<9|i>>>23,U^=(i=D+k|0)<<13|i>>>19,M^=(i=U+D|0)<<18|i>>>14;E=E+s|0,C=C+o|0,_=_+a|0,O=O+c|0,x=x+l|0,N=N+d|0,A=A+h|0,S=S+u|0,T=T+p|0,R=R+f|0,I=I+g|0,P=P+m|0,k=k+y|0,D=D+b|0,U=U+v|0,M=M+w|0,e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=C>>>0&255,e[5]=C>>>8&255,e[6]=C>>>16&255,e[7]=C>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=O>>>0&255,e[13]=O>>>8&255,e[14]=O>>>16&255,e[15]=O>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=N>>>0&255,e[21]=N>>>8&255,e[22]=N>>>16&255,e[23]=N>>>24&255,e[24]=A>>>0&255,e[25]=A>>>8&255,e[26]=A>>>16&255,e[27]=A>>>24&255,e[28]=S>>>0&255,e[29]=S>>>8&255,e[30]=S>>>16&255,e[31]=S>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=I>>>0&255,e[41]=I>>>8&255,e[42]=I>>>16&255,e[43]=I>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=k>>>0&255,e[49]=k>>>8&255,e[50]=k>>>16&255,e[51]=k>>>24&255,e[52]=D>>>0&255,e[53]=D>>>8&255,e[54]=D>>>16&255,e[55]=D>>>24&255,e[56]=U>>>0&255,e[57]=U>>>8&255,e[58]=U>>>16&255,e[59]=U>>>24&255,e[60]=M>>>0&255,e[61]=M>>>8&255,e[62]=M>>>16&255,e[63]=M>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var i,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,l=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,d=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,m=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,E=s,C=o,_=a,O=c,x=l,N=d,A=h,S=u,T=p,R=f,I=g,P=m,k=y,D=b,U=v,M=w,L=0;L<20;L+=2)x^=(i=E+k|0)<<7|i>>>25,T^=(i=x+E|0)<<9|i>>>23,k^=(i=T+x|0)<<13|i>>>19,E^=(i=k+T|0)<<18|i>>>14,R^=(i=N+C|0)<<7|i>>>25,D^=(i=R+N|0)<<9|i>>>23,C^=(i=D+R|0)<<13|i>>>19,N^=(i=C+D|0)<<18|i>>>14,U^=(i=I+A|0)<<7|i>>>25,_^=(i=U+I|0)<<9|i>>>23,A^=(i=_+U|0)<<13|i>>>19,I^=(i=A+_|0)<<18|i>>>14,O^=(i=M+P|0)<<7|i>>>25,S^=(i=O+M|0)<<9|i>>>23,P^=(i=S+O|0)<<13|i>>>19,M^=(i=P+S|0)<<18|i>>>14,C^=(i=E+O|0)<<7|i>>>25,_^=(i=C+E|0)<<9|i>>>23,O^=(i=_+C|0)<<13|i>>>19,E^=(i=O+_|0)<<18|i>>>14,A^=(i=N+x|0)<<7|i>>>25,S^=(i=A+N|0)<<9|i>>>23,x^=(i=S+A|0)<<13|i>>>19,N^=(i=x+S|0)<<18|i>>>14,P^=(i=I+R|0)<<7|i>>>25,T^=(i=P+I|0)<<9|i>>>23,R^=(i=T+P|0)<<13|i>>>19,I^=(i=R+T|0)<<18|i>>>14,k^=(i=M+U|0)<<7|i>>>25,D^=(i=k+M|0)<<9|i>>>23,U^=(i=D+k|0)<<13|i>>>19,M^=(i=U+D|0)<<18|i>>>14;e[0]=E>>>0&255,e[1]=E>>>8&255,e[2]=E>>>16&255,e[3]=E>>>24&255,e[4]=N>>>0&255,e[5]=N>>>8&255,e[6]=N>>>16&255,e[7]=N>>>24&255,e[8]=I>>>0&255,e[9]=I>>>8&255,e[10]=I>>>16&255,e[11]=I>>>24&255,e[12]=M>>>0&255,e[13]=M>>>8&255,e[14]=M>>>16&255,e[15]=M>>>24&255,e[16]=A>>>0&255,e[17]=A>>>8&255,e[18]=A>>>16&255,e[19]=A>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=R>>>0&255,e[29]=R>>>8&255,e[30]=R>>>16&255,e[31]=R>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function C(e,t,r,n,i,s,o){var a,c,l=new Uint8Array(16),d=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=s[c];for(;i>=64;){for(v(d,l,o,E),c=0;c<64;c++)e[t+c]=r[n+c]^d[c];for(c=8,a=1;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(v(d,l,o,E),c=0;c<i;c++)e[t+c]=r[n+c]^d[c];return 0}function _(e,t,r,n,i){var s,o,a=new Uint8Array(16),c=new Uint8Array(64);for(o=0;o<16;o++)a[o]=0;for(o=0;o<8;o++)a[o]=n[o];for(;r>=64;){for(v(c,a,i,E),o=0;o<64;o++)e[t+o]=c[o];for(o=8,s=1;o<16;o++)s=s+(255&a[o])|0,a[o]=255&s,s>>>=8;r-=64,t+=64}if(r>0)for(v(c,a,i,E),o=0;o<r;o++)e[t+o]=c[o];return 0}function O(e,t,r,n,i){var s=new Uint8Array(32);w(s,n,i,E);for(var o=new Uint8Array(8),a=0;a<8;a++)o[a]=n[a+16];return _(e,t,r,o,s)}function x(e,t,r,n,i,s,o){var a=new Uint8Array(32);w(a,s,o,E);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=s[l+16];return C(e,t,r,n,i,c,a)}var N=function(e){var t,r,n,i,s,o,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|r<<3)&8191,n=255&e[4]|(255&e[5])<<8,this.r[2]=(r>>>10|n<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(n>>>7|i<<9)&8191,s=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,o=255&e[10]|(255&e[11])<<8,this.r[6]=(s>>>14|o<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(o>>>11|a<<5)&8065,c=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function A(e,t,r,n,i,s){var o=new N(s);return o.update(r,n,i),o.finish(e,t),0}function S(e,t,r,n,i,s){var o=new Uint8Array(16);return A(o,0,r,n,i,s),y(e,t,o,0)}function T(e,t,r,n,i){var s;if(r<32)return -1;for(x(e,0,t,0,r,n,i),A(e,16,e,32,r-32,e),s=0;s<16;s++)e[s]=0;return 0}function R(e,t,r,n,i){var s,o=new Uint8Array(32);if(r<32||(O(o,0,32,n,i),0!==S(t,16,t,32,r-32,o)))return -1;for(x(e,0,t,0,r,n,i),s=0;s<32;s++)e[s]=0;return 0}function I(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function P(e){var t,r,n=1;for(t=0;t<16;t++)n=Math.floor((r=e[t]+n+65535)/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function k(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n}function D(e,t){var r,i,s,o=n(),a=n();for(r=0;r<16;r++)a[r]=t[r];for(P(a),P(a),P(a),i=0;i<2;i++){for(r=1,o[0]=a[0]-65517;r<15;r++)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),s=o[15]>>16&1,o[14]&=65535,k(a,o,1-s)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function U(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return D(r,e),D(n,t),b(r,0,n,0)}function M(e){var t=new Uint8Array(32);return D(t,e),1&t[0]}function L(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function j(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function W(e,t,r){var n,i,s=0,o=0,a=0,c=0,l=0,d=0,h=0,u=0,p=0,f=0,g=0,m=0,y=0,b=0,v=0,w=0,E=0,C=0,_=0,O=0,x=0,N=0,A=0,S=0,T=0,R=0,I=0,P=0,k=0,D=0,U=0,M=r[0],L=r[1],j=r[2],B=r[3],W=r[4],K=r[5],H=r[6],F=r[7],q=r[8],X=r[9],V=r[10],z=r[11],$=r[12],G=r[13],J=r[14],Z=r[15];s+=(n=t[0])*M,o+=n*L,a+=n*j,c+=n*B,l+=n*W,d+=n*K,h+=n*H,u+=n*F,p+=n*q,f+=n*X,g+=n*V,m+=n*z,y+=n*$,b+=n*G,v+=n*J,w+=n*Z,o+=(n=t[1])*M,a+=n*L,c+=n*j,l+=n*B,d+=n*W,h+=n*K,u+=n*H,p+=n*F,f+=n*q,g+=n*X,m+=n*V,y+=n*z,b+=n*$,v+=n*G,w+=n*J,E+=n*Z,a+=(n=t[2])*M,c+=n*L,l+=n*j,d+=n*B,h+=n*W,u+=n*K,p+=n*H,f+=n*F,g+=n*q,m+=n*X,y+=n*V,b+=n*z,v+=n*$,w+=n*G,E+=n*J,C+=n*Z,c+=(n=t[3])*M,l+=n*L,d+=n*j,h+=n*B,u+=n*W,p+=n*K,f+=n*H,g+=n*F,m+=n*q,y+=n*X,b+=n*V,v+=n*z,w+=n*$,E+=n*G,C+=n*J,_+=n*Z,l+=(n=t[4])*M,d+=n*L,h+=n*j,u+=n*B,p+=n*W,f+=n*K,g+=n*H,m+=n*F,y+=n*q,b+=n*X,v+=n*V,w+=n*z,E+=n*$,C+=n*G,_+=n*J,O+=n*Z,d+=(n=t[5])*M,h+=n*L,u+=n*j,p+=n*B,f+=n*W,g+=n*K,m+=n*H,y+=n*F,b+=n*q,v+=n*X,w+=n*V,E+=n*z,C+=n*$,_+=n*G,O+=n*J,x+=n*Z,h+=(n=t[6])*M,u+=n*L,p+=n*j,f+=n*B,g+=n*W,m+=n*K,y+=n*H,b+=n*F,v+=n*q,w+=n*X,E+=n*V,C+=n*z,_+=n*$,O+=n*G,x+=n*J,N+=n*Z,u+=(n=t[7])*M,p+=n*L,f+=n*j,g+=n*B,m+=n*W,y+=n*K,b+=n*H,v+=n*F,w+=n*q,E+=n*X,C+=n*V,_+=n*z,O+=n*$,x+=n*G,N+=n*J,A+=n*Z,p+=(n=t[8])*M,f+=n*L,g+=n*j,m+=n*B,y+=n*W,b+=n*K,v+=n*H,w+=n*F,E+=n*q,C+=n*X,_+=n*V,O+=n*z,x+=n*$,N+=n*G,A+=n*J,S+=n*Z,f+=(n=t[9])*M,g+=n*L,m+=n*j,y+=n*B,b+=n*W,v+=n*K,w+=n*H,E+=n*F,C+=n*q,_+=n*X,O+=n*V,x+=n*z,N+=n*$,A+=n*G,S+=n*J,T+=n*Z,g+=(n=t[10])*M,m+=n*L,y+=n*j,b+=n*B,v+=n*W,w+=n*K,E+=n*H,C+=n*F,_+=n*q,O+=n*X,x+=n*V,N+=n*z,A+=n*$,S+=n*G,T+=n*J,R+=n*Z,m+=(n=t[11])*M,y+=n*L,b+=n*j,v+=n*B,w+=n*W,E+=n*K,C+=n*H,_+=n*F,O+=n*q,x+=n*X,N+=n*V,A+=n*z,S+=n*$,T+=n*G,R+=n*J,I+=n*Z,y+=(n=t[12])*M,b+=n*L,v+=n*j,w+=n*B,E+=n*W,C+=n*K,_+=n*H,O+=n*F,x+=n*q,N+=n*X,A+=n*V,S+=n*z,T+=n*$,R+=n*G,I+=n*J,P+=n*Z,b+=(n=t[13])*M,v+=n*L,w+=n*j,E+=n*B,C+=n*W,_+=n*K,O+=n*H,x+=n*F,N+=n*q,A+=n*X,S+=n*V,T+=n*z,R+=n*$,I+=n*G,P+=n*J,k+=n*Z,v+=(n=t[14])*M,w+=n*L,E+=n*j,C+=n*B,_+=n*W,O+=n*K,x+=n*H,N+=n*F,A+=n*q,S+=n*X,T+=n*V,R+=n*z,I+=n*$,P+=n*G,k+=n*J,D+=n*Z,w+=(n=t[15])*M,E+=n*L,C+=n*j,_+=n*B,O+=n*W,x+=n*K,N+=n*H,A+=n*F,S+=n*q,T+=n*X,R+=n*V,I+=n*z,P+=n*$,k+=n*G,D+=n*J,U+=n*Z,s+=38*E,o+=38*C,a+=38*_,c+=38*O,l+=38*x,d+=38*N,h+=38*A,u+=38*S,p+=38*T,f+=38*R,g+=38*I,m+=38*P,y+=38*k,b+=38*D,v+=38*U,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=d,e[6]=h,e[7]=u,e[8]=p,e[9]=f,e[10]=g,e[11]=m,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function K(e,t){W(e,t,t)}function H(e,t){var r,i=n();for(r=0;r<16;r++)i[r]=t[r];for(r=253;r>=0;r--)K(i,i),2!==r&&4!==r&&W(i,i,t);for(r=0;r<16;r++)e[r]=i[r]}function F(e,t){var r,i=n();for(r=0;r<16;r++)i[r]=t[r];for(r=250;r>=0;r--)K(i,i),1!==r&&W(i,i,t);for(r=0;r<16;r++)e[r]=i[r]}function q(e,t,r){var i,s,o=new Uint8Array(32),a=new Float64Array(80),c=n(),d=n(),h=n(),u=n(),p=n(),f=n();for(s=0;s<31;s++)o[s]=t[s];for(o[31]=127&t[31]|64,o[0]&=248,L(a,r),s=0;s<16;s++)d[s]=a[s],u[s]=c[s]=h[s]=0;for(s=254,c[0]=u[0]=1;s>=0;--s)k(c,d,i=o[s>>>3]>>>(7&s)&1),k(h,u,i),j(p,c,h),B(c,c,h),j(h,d,u),B(d,d,u),K(u,p),K(f,c),W(c,h,c),W(h,d,p),j(p,c,h),B(c,c,h),K(d,c),B(h,u,f),W(c,h,l),j(c,c,u),W(h,h,c),W(c,u,f),W(u,d,a),K(d,p),k(c,d,i),k(h,u,i);for(s=0;s<16;s++)a[s+16]=c[s],a[s+32]=h[s],a[s+48]=d[s],a[s+64]=u[s];var g=a.subarray(32),m=a.subarray(16);return H(g,g),W(m,m,g),D(e,m),0}function X(e,t){return q(e,t,o)}function V(e,t){return i(t,32),X(e,t)}function z(e,t,r){var n=new Uint8Array(32);return q(n,r,t),w(e,s,n,E)}N.prototype.blocks=function(e,t,r){for(var n,i,s,o,a,c,l,d,h,u,p,f,g,m,y,b,v,w,E,C=2048*!this.fin,_=this.h[0],O=this.h[1],x=this.h[2],N=this.h[3],A=this.h[4],S=this.h[5],T=this.h[6],R=this.h[7],I=this.h[8],P=this.h[9],k=this.r[0],D=this.r[1],U=this.r[2],M=this.r[3],L=this.r[4],j=this.r[5],B=this.r[6],W=this.r[7],K=this.r[8],H=this.r[9];r>=16;)_+=8191&(n=255&e[t+0]|(255&e[t+1])<<8),O+=(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,x+=(i>>>10|(s=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,N+=(s>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,A+=(o>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,S+=a>>>1&8191,T+=(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,R+=(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,I+=(l>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,P+=d>>>5|C,h=(u=(h=0)+_*k+5*H*O+5*K*x+5*W*N+5*B*A)>>>13,u&=8191,u+=5*j*S,u+=5*L*T,u+=5*M*R,u+=5*U*I,u+=5*D*P,h+=u>>>13,u&=8191,h=(p=h+_*D+O*k+5*H*x+5*K*N+5*W*A)>>>13,p&=8191,p+=5*B*S,p+=5*j*T,p+=5*L*R,p+=5*M*I,p+=5*U*P,h+=p>>>13,p&=8191,h=(f=h+_*U+O*D+x*k+5*H*N+5*K*A)>>>13,f&=8191,f+=5*W*S,f+=5*B*T,f+=5*j*R,f+=5*L*I,f+=5*M*P,h+=f>>>13,f&=8191,h=(g=h+_*M+O*U+x*D+N*k+5*H*A)>>>13,g&=8191,g+=5*K*S,g+=5*W*T,g+=5*B*R,g+=5*j*I,g+=5*L*P,h+=g>>>13,g&=8191,h=(m=h+_*L+O*M+x*U+N*D+A*k)>>>13,m&=8191,m+=5*H*S,m+=5*K*T,m+=5*W*R,m+=5*B*I,m+=5*j*P,h+=m>>>13,m&=8191,h=(y=h+_*j+O*L+x*M+N*U+A*D)>>>13,y&=8191,y+=S*k,y+=5*H*T,y+=5*K*R,y+=5*W*I,y+=5*B*P,h+=y>>>13,y&=8191,h=(b=h+_*B+O*j+x*L+N*M+A*U)>>>13,b&=8191,b+=S*D,b+=T*k,b+=5*H*R,b+=5*K*I,b+=5*W*P,h+=b>>>13,b&=8191,h=(v=h+_*W+O*B+x*j+N*L+A*M)>>>13,v&=8191,v+=S*U,v+=T*D,v+=R*k,v+=5*H*I,v+=5*K*P,h+=v>>>13,v&=8191,h=(w=h+_*K+O*W+x*B+N*j+A*L)>>>13,w&=8191,w+=S*M,w+=T*U,w+=R*D,w+=I*k,w+=5*H*P,h+=w>>>13,w&=8191,h=(E=h+_*H+O*K+x*W+N*B+A*j)>>>13,E&=8191,E+=S*L,E+=T*M,E+=R*U,E+=I*D,E+=P*k,h+=E>>>13,E&=8191,u=8191&(h=(h=(h<<2)+h|0)+u|0),h>>>=13,p+=h,_=u,O=p,x=f,N=g,A=m,S=y,T=b,R=v,I=w,P=E,t+=16,r-=16;this.h[0]=_,this.h[1]=O,this.h[2]=x,this.h[3]=N,this.h[4]=A,this.h[5]=S,this.h[6]=T,this.h[7]=R,this.h[8]=I,this.h[9]=P},N.prototype.finish=function(e,t){var r,n,i,s,o=new Uint16Array(10);if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,o[0]=this.h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this.h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(s=0,n=~n;s<10;s++)this.h[s]=this.h[s]&n|o[s];for(s=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},N.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var $=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function G(e,t,r,n){for(var i,s,o,a,c,l,d,h,u,p,f,g,m,y,b,v,w,E,C,_,O,x,N,A,S,T,R=new Int32Array(16),I=new Int32Array(16),P=e[0],k=e[1],D=e[2],U=e[3],M=e[4],L=e[5],j=e[6],B=e[7],W=t[0],K=t[1],H=t[2],F=t[3],q=t[4],X=t[5],V=t[6],z=t[7],G=0;n>=128;){for(C=0;C<16;C++)_=8*C+G,R[C]=r[_+0]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],I[C]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7];for(C=0;C<80;C++)if(i=P,s=k,o=D,a=U,c=M,l=L,d=j,h=B,u=W,p=K,f=H,g=F,m=q,y=X,b=V,v=z,O=B,N=65535&(x=z),A=x>>>16,S=65535&O,T=O>>>16,O=(M>>>14|q<<18)^(M>>>18|q<<14)^(q>>>9|M<<23),N+=65535&(x=(q>>>14|M<<18)^(q>>>18|M<<14)^(M>>>9|q<<23)),A+=x>>>16,S+=65535&O,T+=O>>>16,O=M&L^~M&j,N+=65535&(x=q&X^~q&V),A+=x>>>16,S+=65535&O,T+=O>>>16,O=$[2*C],N+=65535&(x=$[2*C+1]),A+=x>>>16,S+=65535&O,T+=O>>>16,O=R[C%16],N+=65535&(x=I[C%16]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,w=65535&S|T<<16,E=65535&N|A<<16,O=w,N=65535&(x=E),A=x>>>16,S=65535&O,T=O>>>16,O=(P>>>28|W<<4)^(W>>>2|P<<30)^(W>>>7|P<<25),N+=65535&(x=(W>>>28|P<<4)^(P>>>2|W<<30)^(P>>>7|W<<25)),A+=x>>>16,S+=65535&O,T+=O>>>16,O=P&k^P&D^k&D,N+=65535&(x=W&K^W&H^K&H),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,h=65535&S|T<<16,v=65535&N|A<<16,O=a,N=65535&(x=g),A=x>>>16,S=65535&O,T=O>>>16,O=w,N+=65535&(x=E),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,a=65535&S|T<<16,g=65535&N|A<<16,k=i,D=s,U=o,M=a,L=c,j=l,B=d,P=h,K=u,H=p,F=f,q=g,X=m,V=y,z=b,W=v,C%16==15)for(_=0;_<16;_++)O=R[_],N=65535&(x=I[_]),A=x>>>16,S=65535&O,T=O>>>16,O=R[(_+9)%16],N+=65535&(x=I[(_+9)%16]),A+=x>>>16,S+=65535&O,T+=O>>>16,O=((w=R[(_+1)%16])>>>1|(E=I[(_+1)%16])<<31)^(w>>>8|E<<24)^w>>>7,N+=65535&(x=(E>>>1|w<<31)^(E>>>8|w<<24)^(E>>>7|w<<25)),A+=x>>>16,S+=65535&O,T+=O>>>16,O=((w=R[(_+14)%16])>>>19|(E=I[(_+14)%16])<<13)^(E>>>29|w<<3)^w>>>6,N+=65535&(x=(E>>>19|w<<13)^(w>>>29|E<<3)^(E>>>6|w<<26)),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,R[_]=65535&S|T<<16,I[_]=65535&N|A<<16;O=P,N=65535&(x=W),A=x>>>16,S=65535&O,T=O>>>16,O=e[0],N+=65535&(x=t[0]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[0]=P=65535&S|T<<16,t[0]=W=65535&N|A<<16,O=k,N=65535&(x=K),A=x>>>16,S=65535&O,T=O>>>16,O=e[1],N+=65535&(x=t[1]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[1]=k=65535&S|T<<16,t[1]=K=65535&N|A<<16,O=D,N=65535&(x=H),A=x>>>16,S=65535&O,T=O>>>16,O=e[2],N+=65535&(x=t[2]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[2]=D=65535&S|T<<16,t[2]=H=65535&N|A<<16,O=U,N=65535&(x=F),A=x>>>16,S=65535&O,T=O>>>16,O=e[3],N+=65535&(x=t[3]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[3]=U=65535&S|T<<16,t[3]=F=65535&N|A<<16,O=M,N=65535&(x=q),A=x>>>16,S=65535&O,T=O>>>16,O=e[4],N+=65535&(x=t[4]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[4]=M=65535&S|T<<16,t[4]=q=65535&N|A<<16,O=L,N=65535&(x=X),A=x>>>16,S=65535&O,T=O>>>16,O=e[5],N+=65535&(x=t[5]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[5]=L=65535&S|T<<16,t[5]=X=65535&N|A<<16,O=j,N=65535&(x=V),A=x>>>16,S=65535&O,T=O>>>16,O=e[6],N+=65535&(x=t[6]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[6]=j=65535&S|T<<16,t[6]=V=65535&N|A<<16,O=B,N=65535&(x=z),A=x>>>16,S=65535&O,T=O>>>16,O=e[7],N+=65535&(x=t[7]),A+=x>>>16,S+=65535&O,T+=O>>>16,A+=N>>>16,S+=A>>>16,T+=S>>>16,e[7]=B=65535&S|T<<16,t[7]=z=65535&N|A<<16,G+=128,n-=128}return n}function J(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=0x6a09e667,i[1]=0xbb67ae85,i[2]=0x3c6ef372,i[3]=0xa54ff53a,i[4]=0x510e527f,i[5]=0x9b05688c,i[6]=0x1f83d9ab,i[7]=0x5be0cd19,s[0]=0xf3bcc908,s[1]=0x84caa73b,s[2]=0xfe94f82b,s[3]=0x5f1d36f1,s[4]=0xade682d1,s[5]=0x2b3e6c1f,s[6]=0xfb41bd6b,s[7]=0x137e2179,G(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-(r<112)*128)-9]=0,g(o,r-8,a/0x20000000|0,a<<3),G(i,s,o,r),n=0;n<8;n++)g(e,8*n,i[n],s[n]);return 0}function Z(e,t){var r=n(),i=n(),s=n(),o=n(),a=n(),c=n(),l=n(),d=n(),u=n();B(r,e[1],e[0]),B(u,t[1],t[0]),W(r,r,u),j(i,e[0],e[1]),j(u,t[0],t[1]),W(i,i,u),W(s,e[3],t[3]),W(s,s,h),W(o,e[2],t[2]),j(o,o,o),B(a,i,r),B(c,o,s),j(l,o,s),j(d,i,r),W(e[0],a,c),W(e[1],d,l),W(e[2],l,c),W(e[3],a,d)}function Y(e,t,r){var n;for(n=0;n<4;n++)k(e[n],t[n],r)}function Q(e,t){var r=n(),i=n(),s=n();H(s,t[2]),W(r,t[0],s),W(i,t[1],s),D(e,i),e[31]^=M(r)<<7}function ee(e,t,r){var n,i;for(I(e[0],a),I(e[1],c),I(e[2],c),I(e[3],a),i=255;i>=0;--i)Y(e,t,n=r[i/8|0]>>(7&i)&1),Z(t,e),Z(e,e),Y(e,t,n)}function et(e,t){var r=[n(),n(),n(),n()];I(r[0],u),I(r[1],p),I(r[2],c),W(r[3],u,p),ee(e,r,t)}function er(e,t,r){var s,o=new Uint8Array(64),a=[n(),n(),n(),n()];for(r||i(t,32),J(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,et(a,o),Q(e,a),s=0;s<32;s++)t[s+32]=e[s];return 0}var en=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ei(e,t){var r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*en[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*en[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*en[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function es(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ei(e,r)}function eo(e,t,r,i){var s,o,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),d=new Float64Array(64),h=[n(),n(),n(),n()];for(J(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,s=0;s<r;s++)e[64+s]=t[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(J(l,e.subarray(32),r+32),es(l),et(h,l),Q(e,h),s=32;s<64;s++)e[s]=i[s];for(J(c,e,r+64),es(c),s=0;s<64;s++)d[s]=0;for(s=0;s<32;s++)d[s]=l[s];for(s=0;s<32;s++)for(o=0;o<32;o++)d[s+o]+=c[s]*a[o];return ei(e.subarray(32),d),r+64}function ea(e,t,r,i){var s,o,l,h,u,p,g,m,y=new Uint8Array(32),v=new Uint8Array(64),w=[n(),n(),n(),n()],E=[n(),n(),n(),n()];if(r<64||(s=n(),o=n(),l=n(),h=n(),u=n(),p=n(),g=n(),(I(E[2],c),L(E[1],i),K(l,E[1]),W(h,l,d),B(l,l,E[2]),j(h,E[2],h),K(u,h),K(p,u),W(g,p,u),W(s,g,l),W(s,s,h),F(s,s),W(s,s,l),W(s,s,h),W(s,s,h),W(E[0],s,h),K(o,E[0]),W(o,o,h),U(o,l)&&W(E[0],E[0],f),K(o,E[0]),W(o,o,h),U(o,l))?-1:(M(E[0])===i[31]>>7&&B(E[0],a,E[0]),W(E[3],E[0],E[1]),0)))return -1;for(m=0;m<r;m++)e[m]=t[m];for(m=0;m<32;m++)e[m+32]=i[m];if(J(v,e,r),es(v),ee(w,E,v),et(E,t.subarray(32)),Z(w,E),Q(y,w),r-=64,b(t,0,y,0)){for(m=0;m<r;m++)e[m]=0;return -1}for(m=0;m<r;m++)e[m]=t[m+64];return r}function ec(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function ed(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:x,crypto_stream:O,crypto_stream_salsa20_xor:C,crypto_stream_salsa20:_,crypto_onetimeauth:A,crypto_onetimeauth_verify:S,crypto_verify_16:y,crypto_verify_32:b,crypto_secretbox:T,crypto_secretbox_open:R,crypto_scalarmult:q,crypto_scalarmult_base:X,crypto_box_beforenm:z,crypto_box_afternm:T,crypto_box:function(e,t,r,n,i,s){var o=new Uint8Array(32);return z(o,i,s),T(e,t,r,n,o)},crypto_box_open:function(e,t,r,n,i,s){var o=new Uint8Array(32);return z(o,i,s),R(e,t,r,n,o)},crypto_box_keypair:V,crypto_hash:J,crypto_sign:eo,crypto_sign_keypair:er,crypto_sign_open:ea,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:n,D:d,L:en,pack25519:D,unpack25519:L,M:W,A:j,S:K,Z:B,pow2523:F,add:Z,set25519:I,modL:ei,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,r){el(e,t,r),ec(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+32]=e[s];return T(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){el(e,t,r),ec(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),s=0;s<e.length;s++)n[s+16]=e[s];return n.length<32||0!==R(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return q(r,e,t),r},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return X(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox(t,r,s)},e.box.before=function(e,t){el(e,t);if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size");var r=new Uint8Array(32);return z(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var s=e.box.before(n,i);return e.secretbox.open(t,r,s)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return X(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var r=new Uint8Array(64+e.length);return eo(r,e,e.length,t),r},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var r=new Uint8Array(e.length),n=ea(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),s=0;s<i.length;s++)i[s]=r[s];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(64),s=0;s<i.length;s++)i[s]=n[s];return i},e.sign.detached.verify=function(e,t,r){if(el(e,t,r),64!==t.length)throw Error("bad signature size");if(32!==r.length)throw Error("bad public key size");var n,i=new Uint8Array(64+e.length),s=new Uint8Array(64+e.length);for(n=0;n<64;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+64]=e[n];return ea(s,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return er(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return er(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return J(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){i=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ed(i)}):(t=r(71281))&&t.randomBytes&&e.setPRNG(function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ed(i)})}(e.exports?e.exports:self.nacl=self.nacl||{})},28977:(e,t,r)=>{"use strict";r.d(t,{Db:()=>a,oU:()=>c,tM:()=>o});var n=r(45553),i=r(87358);let s=(void 0!==i&&void 0!==i.env?i.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",o=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],a="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",c={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:s,SECURE_SITE_DASHBOARD:`${s}/dashboard`,SECURE_SITE_FAVICON:`${s}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[n.o.CHAIN.EVM,n.o.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[n.o.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[n.o.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[n.o.CHAIN.EVM,n.o.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[n.o.CHAIN.EVM,n.o.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[n.o.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[n.o.CHAIN.EVM,n.o.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}}},29117:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCosmosProvider=void 0;let i=r(79864);class s{constructor(e){this.provider=e}getAccount(e){var t,r,n,s,o,a;(0,i.logDebug)("OKXCosmosProvider getAccount chainId:",e),(0,i.logDebug)("OKXCosmosProvider getAccount namespaces:",JSON.stringify(null==(t=this.provider.session)?void 0:t.namespaces));let c=null==(n=null==(r=this.provider.session)?void 0:r.namespaces[i.NameSpaceKeyCosmos])?void 0:n.accounts.filter(function(t){return t.startsWith(e)})[0];if((0,i.logDebug)("OKXCosmosProvider getAccount account:",JSON.stringify(c)),!c)return;let l=c.split(":"),d=c.split(":")[2];(0,i.logDebug)("OKXCosmosProvider getAccount address:",d);let h=null==(a=null==(o=null==(s=this.provider.session)?void 0:s.namespaces[i.NameSpaceKeyCosmos])?void 0:o.extra)?void 0:a[`${l[0]}:${l[1]}`],u="";if(void 0!=h&&console.log("aptos_publicKey",u=h.publicKey),d)return{algo:"secp256k1",address:d,bech32Address:d,pubKey:this.hexToUint8Array(u)}}signArbitrary(e,t,r){return n(this,void 0,void 0,function*(){let n=window.btoa(r),i={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:t,data:n}}],memo:""}}};try{let t=yield this.provider.request(i,e);if(!("result"in t))return t.error;if("string"==typeof t.result)return JSON.parse(t.result);return t.result}catch(e){return e}})}signAmino(e,t,r,i){return n(this,void 0,void 0,function*(){if("sign/MsgSignData"==r.msgs[0].type){let n={chainId:e,method:"cosmos_signArbitrary",params:{signer:t,chain_id:e.split(":")[1],data:r}};try{let t=yield this.provider.request(n,e);if("result"in t)return t.result;return t.error}catch(e){return e}}{let n={chainId:e,method:"cosmos_signAmino",params:{signer:t,chainId:e.split(":")[1],sign_doc:r,signOptions:i}};try{let t=yield this.provider.request(n,e);if(!("result"in t))return t.error;{let e=JSON.parse(t.result);return console.log("signdoc",r,e.signDoc),r.fee=e.signDoc.fee,{signed:r,signature:e.signature}}}catch(e){return e}}})}signDirect(e,t,r,i){return n(this,void 0,void 0,function*(){let n={bodyBytes:this.bufferToHex(r.bodyBytes),authInfoBytes:this.bufferToHex(r.authInfoBytes),chainId:r.chainId,accountNumber:r.accountNumber?r.accountNumber.toString():null,signOptions:i||null},s={chainId:e,method:"cosmos_signDirect",params:{signer:t,chainId:e.split(":")[1],sign_doc:n}};try{let t=yield this.provider.request(s,e);if("result"in t){let e=JSON.parse(t.result);return console.log("signdirect result",e),r.authInfoBytes=this.messageToBuffer(e.signDoc.authInfoBytes),{signed:r,signature:e.signature}}}catch(e){return e}})}messageToBuffer(e){var t=Uint8Array.from([]);try{t="string"==typeof e?this.hexToUint8Array(e.replace("0x","")):Uint8Array.from(e)}catch(e){console.log(`messageToBuffer error: ${e}`)}return t}bufferToHex(e){return"0x"+[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}hexToUint8Array(e){if(e.length%2!=0)throw"Invalid hexString";for(var t=new Uint8Array(e.length/2),r=0;r<e.length;r+=2){var n=parseInt(e.substr(r,2),16);if(isNaN(n))throw"Invalid hexString";t[r/2]=n}return t}}t.OKXCosmosProvider=s},29832:(e,t,r)=>{e.exports=(function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){if(s)return s(o,!0);var c=Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[o]={exports:{}};t[o][0].call(l.exports,function(e){return i(t[o][1][e]||e)},l,l.exports,e,t,r,n)}return r[o].exports}for(var s=void 0,o=0;o<n.length;o++)i(n[o]);return i})({1:[function(e,t,n){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,o=new i(d),a=e.document.createTextNode("");o.observe(a,{characterData:!0}),r=function(){a.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var c=new e.MessageChannel;c.port1.onmessage=d,r=function(){c.port2.postMessage(0)}}var l=[];function d(){n=!0;for(var e,t,r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}n=!1}t.exports=function(e){1!==l.push(e)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function i(){}var s={},o=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){n(function(){var n;try{n=t(r)}catch(t){return s.reject(e,t)}n===e?s.reject(e,TypeError("Cannot resolve promise with itself")):s.resolve(e,n)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function n(t){r||(r=!0,s.reject(e,t))}function i(t){r||(r=!0,s.resolve(e,t))}var o=f(function(){t(i,n)});"error"===o.status&&n(o.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=l,l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==c?h(r,this.state===a?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){s.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=f(u,t);if("error"===r.status)return s.reject(e,r.value);var n=r.value;if(n)p(e,n);else{e.state=a,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:s.resolve(new this(i),e)},l.reject=function(e){var t=new this(i);return s.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=Array(r),a=0,c=-1,l=new this(i);++c<r;)!function(e,i){t.resolve(e).then(function(e){o[i]=e,++a!==r||n||(n=!0,s.resolve(l,o))},function(e){n||(n=!0,s.reject(l,e))})}(e[c],c);return l},l.race=function(e){var t,r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(TypeError("must be an array"));var n=e.length,o=!1;if(!n)return this.resolve([]);for(var a=-1,c=new this(i);++a<n;){t=e[a],r.resolve(t).then(function(e){o||(o=!0,s.resolve(c,e))},function(e){o||(o=!0,s.reject(c,e))})}return c}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var o=Promise;function a(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function c(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",u=void 0,p={},f=Object.prototype.toString,g="readonly",m="readwrite";function y(e){var t=p[e.name],r={};r.promise=new o(function(e,t){r.resolve=e,r.reject=t}),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then(function(){return r.promise}):t.dbReady=r.promise}function b(e){var t=p[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function v(e,t){var r=p[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function w(e,t){return new o(function(r,n){if(p[e.name]=p[e.name]||N(),e.db)if(!t)return r(e.db);else y(e),e.db.close();var s=[e.name];t&&s.push(e.version);var o=i.open.apply(i,s);t&&(o.onupgradeneeded=function(t){var r=o.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"===r.name)console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw r}}),o.onerror=function(e){e.preventDefault(),n(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},r(t),b(e)}})}function E(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,i=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r){if(r){var s=e.db.version+1;s>e.version&&(e.version=s)}return!0}return!1}function C(e){return s([function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}(atob(e.data))],{type:e.type})}function _(e){return e&&e.__local_forage_encoded_blob}function O(e){var t=this,r=t._initReady().then(function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(r,e,e),r}function x(e,t,r,n){void 0===n&&(n=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(i){if(n>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return o.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),w(e,!0)}).then(function(){return(function(e){y(e);for(var t=p[e.name],r=t.forages,n=0;n<r.length;n++){var i=r[n];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,w(e,!1).then(function(t){return(e.db=t,E(e))?w(e,!0):t}).then(function(n){e.db=t.db=n;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=n}).catch(function(t){throw v(e,t),t})})(e).then(function(){x(e,t,r,n-1)})}).catch(r);r(i)}}function N(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}var A={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var i=p[r.name];i||(i=N(),p[r.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=O);var s=[];function a(){return o.resolve()}for(var c=0;c<i.forages.length;c++){var l=i.forages[c];l!==t&&s.push(l._initReady().catch(a))}var d=i.forages.slice(0);return o.all(s).then(function(){return r.db=i.db,w(r,!1)}).then(function(e){return(r.db=e,E(r,t._defaultConfig.version))?w(r,!0):e}).then(function(e){r.db=i.db=e,t._dbInfo=r;for(var n=0;n<d.length;n++){var s=d[n];s!==t&&(s._dbInfo.db=r.db,s._dbInfo.version=r.version)}})},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new o(function(t,n){r.ready().then(function(){x(r._dbInfo,g,function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).openCursor(),a=1;o.onsuccess=function(){var r=o.result;if(r){var n=r.value;_(n)&&(n=C(n));var i=e(n,r.key,a++);void 0!==i?t(i):r.continue()}else t()},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return a(n,t),n},getItem:function(e,t){var r=this;e=l(e);var n=new o(function(t,n){r.ready().then(function(){x(r._dbInfo,g,function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).get(e);o.onsuccess=function(){var e=o.result;void 0===e&&(e=null),_(e)&&(e=C(e)),t(e)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return a(n,t),n},setItem:function(e,t,r){var n=this;e=l(e);var i=new o(function(r,i){var a;n.ready().then(function(){return(a=n._dbInfo,"[object Blob]"===f.call(t))?(function(e){return"boolean"==typeof u?o.resolve(u):new o(function(t){var r=e.transaction(h,m),n=s([""]);r.objectStore(h).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);t(navigator.userAgent.match(/Edge\//)||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1}).then(function(e){return u=e})})(a.db).then(function(e){return e?t:new o(function(e,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){e({__local_forage_encoded_blob:!0,data:btoa(r.target.result||""),type:t.type})},n.readAsBinaryString(t)})}):t}).then(function(t){x(n._dbInfo,m,function(s,o){if(s)return i(s);try{var a=o.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var c=a.put(t,e);o.oncomplete=function(){void 0===t&&(t=null),r(t)},o.onabort=o.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return a(i,r),i},removeItem:function(e,t){var r=this;e=l(e);var n=new o(function(t,n){r.ready().then(function(){x(r._dbInfo,m,function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName).delete(e);s.oncomplete=function(){t()},s.onerror=function(){n(o.error)},s.onabort=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return a(n,t),n},clear:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){x(t._dbInfo,m,function(n,i){if(n)return r(n);try{var s=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return a(r,e),r},length:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){x(t._dbInfo,g,function(n,i){if(n)return r(n);try{var s=i.objectStore(t._dbInfo.storeName).count();s.onsuccess=function(){e(s.result)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return a(r,e),r},key:function(e,t){var r=this,n=new o(function(t,n){if(e<0)return void t(null);r.ready().then(function(){x(r._dbInfo,g,function(i,s){if(i)return n(i);try{var o=s.objectStore(r._dbInfo.storeName),a=!1,c=o.openKeyCursor();c.onsuccess=function(){var r=c.result;if(!r)return void t(null);0===e||a?t(r.key):(a=!0,r.advance(e))},c.onerror=function(){n(c.error)}}catch(e){n(e)}})}).catch(n)});return a(n,t),n},keys:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){x(t._dbInfo,g,function(n,i){if(n)return r(n);try{var s=i.objectStore(t._dbInfo.storeName).openKeyCursor(),o=[];s.onsuccess=function(){var t=s.result;if(!t)return void e(o);o.push(t.key),t.continue()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return a(r,e),r},dropInstance:function(e,t){t=d.apply(this,arguments);var r,n=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),e.name){var s=e.name===n.name&&this._dbInfo.db?o.resolve(this._dbInfo.db):w(e,!1).then(function(t){var r=p[e.name],n=r.forages;r.db=t;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=t;return t});r=e.storeName?s.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;y(e);var n=p[e.name],s=n.forages;t.close();for(var a=0;a<s.length;a++){var c=s[a];c._dbInfo.db=null,c._dbInfo.version=r}return new o(function(t,n){var s=i.open(e.name,r);s.onerror=function(e){s.result.close(),n(e)},s.onupgradeneeded=function(){s.result.deleteObjectStore(e.storeName)},s.onsuccess=function(){var e=s.result;e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<s.length;t++){var r=s[t];r._dbInfo.db=e,b(r._dbInfo)}}).catch(function(t){throw(v(e,t)||o.resolve()).catch(function(){}),t})}}):s.then(function(t){y(e);var r=p[e.name],n=r.forages;t.close();for(var s=0;s<n.length;s++)n[s]._dbInfo.db=null;return new o(function(t,r){var n=i.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<n.length;t++)b(n[t]._dbInfo)}).catch(function(t){throw(v(e,t)||o.resolve()).catch(function(){}),t})})}else r=o.reject("Invalid arguments");return a(r,t),r}},S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",I=R.length,P="arbf",k="blob",D="si08",U="ui08",M="uic8",L="si16",j="si32",B="ur16",W="ui32",K="fl32",H="fl64",F=I+P.length,q=Object.prototype.toString;function X(e){var t,r,n,i,s,o=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l=new ArrayBuffer(o),d=new Uint8Array(l);for(t=0;t<a;t+=4)r=S.indexOf(e[t]),n=S.indexOf(e[t+1]),i=S.indexOf(e[t+2]),s=S.indexOf(e[t+3]),d[c++]=r<<2|n>>4,d[c++]=(15&n)<<4|i>>2,d[c++]=(3&i)<<6|63&s;return l}function V(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=S[r[t]>>2],n+=S[(3&r[t])<<4|r[t+1]>>4],n+=S[(15&r[t+1])<<2|r[t+2]>>6],n+=S[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var z={serialize:function(e,t){var r="";if(e&&(r=q.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===q.call(e.buffer))){var n,i=R;e instanceof ArrayBuffer?(n=e,i+=P):(n=e.buffer,"[object Int8Array]"===r?i+=D:"[object Uint8Array]"===r?i+=U:"[object Uint8ClampedArray]"===r?i+=M:"[object Int16Array]"===r?i+=L:"[object Uint16Array]"===r?i+=B:"[object Int32Array]"===r?i+=j:"[object Uint32Array]"===r?i+=W:"[object Float32Array]"===r?i+=K:"[object Float64Array]"===r?i+=H:t(Error("Failed to get type for BinaryArray"))),t(i+V(n))}else if("[object Blob]"===r){var s=new FileReader;s.onload=function(){t(R+k+("~~local_forage_type~"+e.type+"~")+V(this.result))},s.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if(e.substring(0,I)!==R)return JSON.parse(e);var t,r=e.substring(F),n=e.substring(I,F);if(n===k&&T.test(r)){var i=r.match(T);t=i[1],r=r.substring(i[0].length)}var o=X(r);switch(n){case P:return o;case k:return s([o],{type:t});case D:return new Int8Array(o);case U:return new Uint8Array(o);case M:return new Uint8ClampedArray(o);case L:return new Int16Array(o);case B:return new Uint16Array(o);case j:return new Int32Array(o);case W:return new Uint32Array(o);case K:return new Float32Array(o);case H:return new Float64Array(o);default:throw Error("Unkown type: "+n)}},stringToBuffer:X,bufferToString:V};function $(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function G(e,t,r,n,i,s){e.executeSql(r,n,i,function(e,o){o.code===o.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,a){a.rows.length?s(e,o):$(e,t,function(){e.executeSql(r,n,i,s)},s)},s):s(e,o)},s)}function J(e,t,r,n){var i=this;e=l(e);var s=new o(function(s,o){i.ready().then(function(){void 0===t&&(t=null);var a=t,c=i._dbInfo;c.serializer.serialize(t,function(t,l){l?o(l):c.db.transaction(function(r){G(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){s(a)},function(e,t){o(t)})},function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void s(J.apply(i,[e,a,r,n-1]));o(t)}})})}).catch(o)});return a(s,r),s}var Z={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var i=new o(function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction(function(i){$(i,r,function(){t._dbInfo=r,e()},function(e,t){n(t)})},n)});return r.serializer=z,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new o(function(t,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){G(r,i,"SELECT * FROM "+i.storeName,[],function(r,n){for(var s=n.rows,o=s.length,a=0;a<o;a++){var c=s.item(a),l=c.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=e(l,c.key,a+1)))return void t(l)}t()},function(e,t){n(t)})})}).catch(n)});return a(n,t),n},getItem:function(e,t){var r=this;e=l(e);var n=new o(function(t,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){G(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=i.serializer.deserialize(n)),t(n)},function(e,t){n(t)})})}).catch(n)});return a(n,t),n},setItem:function(e,t,r){return J.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=l(e);var n=new o(function(t,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){G(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){n(t)})})}).catch(n)});return a(n,t),n},clear:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){G(t,n,"DELETE FROM "+n.storeName,[],function(){e()},function(e,t){r(t)})})}).catch(r)});return a(r,e),r},length:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){G(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,r){e(r.rows.item(0).c)},function(e,t){r(t)})})}).catch(r)});return a(r,e),r},key:function(e,t){var r=this,n=new o(function(t,n){r.ready().then(function(){var i=r._dbInfo;i.db.transaction(function(r){G(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,r){t(r.rows.length?r.rows.item(0).key:null)},function(e,t){n(t)})})}).catch(n)});return a(n,t),n},keys:function(e){var t=this,r=new o(function(e,r){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(t){G(t,n,"SELECT key FROM "+n.storeName,[],function(t,r){for(var n=[],i=0;i<r.rows.length;i++)n.push(r.rows.item(i).key);e(n)},function(e,t){r(t)})})}).catch(r)});return a(r,e),r},dropInstance:function(e,t){t=d.apply(this,arguments);var r,n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i=this;return a(r=e.name?new o(function(t){var r;(r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName)?t({db:r,storeNames:[e.storeName]}):t(new o(function(e,t){r.transaction(function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,n){for(var i=[],s=0;s<n.rows.length;s++)i.push(n.rows.item(s).name);e({db:r,storeNames:i})},function(e,r){t(r)})},function(e){t(e)})}))}).then(function(e){return new o(function(t,r){e.db.transaction(function(n){for(var i=[],s=0,a=e.storeNames.length;s<a;s++)i.push(function(e){return new o(function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){r(t)})})}(e.storeNames[s]));o.all(i).then(function(){t()}).catch(function(e){r(e)})},function(e){r(e)})})}):o.reject("Invalid arguments"),t),r}};function Y(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}var Q={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return(t.keyPrefix=Y(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0)?(this._dbInfo=t,t.serializer=z,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then(function(){for(var t=r._dbInfo,n=t.keyPrefix,i=n.length,s=localStorage.length,o=1,a=0;a<s;a++){var c=localStorage.key(a);if(0===c.indexOf(n)){var l=localStorage.getItem(c);if(l&&(l=t.serializer.deserialize(l)),void 0!==(l=e(l,c.substring(i),o++)))return l}}});return a(n,t),n},getItem:function(e,t){var r=this;e=l(e);var n=r.ready().then(function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n});return a(n,t),n},setItem:function(e,t,r){var n=this;e=l(e);var i=n.ready().then(function(){void 0===t&&(t=null);var r=t;return new o(function(i,s){var o=n._dbInfo;o.serializer.serialize(t,function(t,n){if(n)s(n);else try{localStorage.setItem(o.keyPrefix+e,t),i(r)}catch(e){("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&s(e),s(e)}})})});return a(i,r),i},removeItem:function(e,t){var r=this;e=l(e);var n=r.ready().then(function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return a(n,t),n},clear:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}});return a(r,e),r},length:function(e){var t=this.keys().then(function(e){return e.length});return a(t,e),t},key:function(e,t){var r=this,n=r.ready().then(function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t});return a(n,t),n},keys:function(e){var t=this,r=t.ready().then(function(){for(var e=t._dbInfo,r=localStorage.length,n=[],i=0;i<r;i++){var s=localStorage.key(i);0===s.indexOf(e.keyPrefix)&&n.push(s.substring(e.keyPrefix.length))}return n});return a(r,e),r},dropInstance:function(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r,n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i=this;return a(r=e.name?new o(function(t){t(e.storeName?Y(e,i._defaultConfig):e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):o.reject("Invalid arguments"),t),r}},ee=function(e,t){for(var r,n=e.length,i=0;i<n;){if((r=e[i])===t||"number"==typeof r&&"number"==typeof t&&isNaN(r)&&isNaN(t))return!0;i++}return!1},et=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},er={},en={},ei={INDEXEDDB:A,WEBSQL:Z,LOCALSTORAGE:Q},es=[ei.INDEXEDDB._driver,ei.WEBSQL._driver,ei.LOCALSTORAGE._driver],eo=["dropInstance"],ea=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(eo),ec={description:"",driver:es.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function el(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(et(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}t.exports=new(function(){function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");for(var r in ei)if(ei.hasOwnProperty(r)){var n=ei[r],i=n._driver;this[r]=i,er[i]||this.defineDriver(n)}this._defaultConfig=el({},ec),this._config=el({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if((void 0===e?"undefined":n(e))==="object"){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new o(function(t,r){try{var n=e._driver,i=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(i);for(var s=ea.concat("_initStorage"),c=0,l=s.length;c<l;c++){var d=s[c];if((!ee(eo,d)||e[d])&&"function"!=typeof e[d])return void r(i)}for(var h=function(e){return function(){var t=Error("Method "+e+" is not implemented by the current driver"),r=o.reject(t);return a(r,arguments[arguments.length-1]),r}},u=0,p=eo.length;u<p;u++){var f=eo[u];e[f]||(e[f]=h(f))}var g=function(r){er[n]&&console.info("Redefining LocalForage driver: "+n),er[n]=e,en[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(g,r):g(!!e._support):g(!0)}catch(e){r(e)}});return c(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=er[e]?o.resolve(er[e]):o.reject(Error("Driver not found."));return c(n,t,r),n},e.prototype.getSerializer=function(e){var t=o.resolve(z);return c(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return c(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;et(e)||(e=[e]);var i=this._getSupportedDrivers(e);function s(){n._config.driver=n.driver()}function a(e){return n._extend(e),s(),n._ready=n._initStorage(n._config),n._ready}var l=null!==this._driverSet?this._driverSet.catch(function(){return o.resolve()}):o.resolve();return this._driverSet=l.then(function(){var e=i[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then(function(e){n._driver=e._driver,s(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(){var e=0;return function t(){for(;e<i.length;){var r=i[e];return e++,n._dbInfo=null,n._ready=null,n.getDriver(r).then(a).catch(t)}s();var c=Error("No available storage method found.");return n._driverSet=o.reject(c),n._driverSet}()}})}).catch(function(){s();var e=Error("No available storage method found.");return n._driverSet=o.reject(e),n._driverSet}),c(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!en[e]},e.prototype._extend=function(e){el(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ea.length;e<t;e++)!function(e,t){e[t]=function(){var r=arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}(this,ea[e])},e.prototype.createInstance=function(t){return new e(t)},e}())},{3:3}]},{},[4])(4)},29852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9490),i=r(89962);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=0x6a09e667,this._stateHi[1]=0xbb67ae85,this._stateHi[2]=0x3c6ef372,this._stateHi[3]=0xa54ff53a,this._stateHi[4]=0x510e527f,this._stateHi[5]=0x9b05688c,this._stateHi[6]=0x1f83d9ab,this._stateHi[7]=0x5be0cd19,this._stateLo[0]=0xf3bcc908,this._stateLo[1]=0x84caa73b,this._stateLo[2]=0xfe94f82b,this._stateLo[3]=0x5f1d36f1,this._stateLo[4]=0xade682d1,this._stateLo[5]=0x2b3e6c1f,this._stateLo[6]=0xfb41bd6b,this._stateLo[7]=0x137e2179},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%128<112?128:256;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/0x20000000|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/8;s++)n.writeUint32BE(this._stateHi[s],e,8*s),n.writeUint32BE(this._stateLo[s],e,8*s+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=s;var o=new Int32Array([0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817]);function a(e,t,r,i,s,a,c){for(var l,d,h,u,p,f,g,m,y=r[0],b=r[1],v=r[2],w=r[3],E=r[4],C=r[5],_=r[6],O=r[7],x=i[0],N=i[1],A=i[2],S=i[3],T=i[4],R=i[5],I=i[6],P=i[7];c>=128;){for(var k=0;k<16;k++){var D=8*k+a;e[k]=n.readUint32BE(s,D),t[k]=n.readUint32BE(s,D+4)}for(var k=0;k<80;k++){var U=y,M=b,L=v,j=w,B=E,W=C,K=_,H=O,F=x,q=N,X=A,V=S,z=T,$=R,G=I,J=P;if(l=O,p=65535&(d=P),f=d>>>16,g=65535&l,m=l>>>16,l=(E>>>14|T<<18)^(E>>>18|T<<14)^(T>>>9|E<<23),p+=65535&(d=(T>>>14|E<<18)^(T>>>18|E<<14)^(E>>>9|T<<23)),f+=d>>>16,g+=65535&l,m+=l>>>16,l=E&C^~E&_,p+=65535&(d=T&R^~T&I),f+=d>>>16,g+=65535&l,m+=l>>>16,l=o[2*k],p+=65535&(d=o[2*k+1]),f+=d>>>16,g+=65535&l,m+=l>>>16,l=e[k%16],p+=65535&(d=t[k%16]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,h=65535&g|m<<16,u=65535&p|f<<16,l=h,p=65535&(d=u),f=d>>>16,g=65535&l,m=l>>>16,l=(y>>>28|x<<4)^(x>>>2|y<<30)^(x>>>7|y<<25),p+=65535&(d=(x>>>28|y<<4)^(y>>>2|x<<30)^(y>>>7|x<<25)),f+=d>>>16,g+=65535&l,m+=l>>>16,l=y&b^y&v^b&v,p+=65535&(d=x&N^x&A^N&A),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,H=65535&g|m<<16,J=65535&p|f<<16,l=j,p=65535&(d=V),f=d>>>16,g=65535&l,m=l>>>16,l=h,p+=65535&(d=u),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,j=65535&g|m<<16,V=65535&p|f<<16,b=U,v=M,w=L,E=j,C=B,_=W,O=K,y=H,N=F,A=q,S=X,T=V,R=z,I=$,P=G,x=J,k%16==15)for(var D=0;D<16;D++)l=e[D],p=65535&(d=t[D]),f=d>>>16,g=65535&l,m=l>>>16,l=e[(D+9)%16],p+=65535&(d=t[(D+9)%16]),f+=d>>>16,g+=65535&l,m+=l>>>16,l=((h=e[(D+1)%16])>>>1|(u=t[(D+1)%16])<<31)^(h>>>8|u<<24)^h>>>7,p+=65535&(d=(u>>>1|h<<31)^(u>>>8|h<<24)^(u>>>7|h<<25)),f+=d>>>16,g+=65535&l,m+=l>>>16,l=((h=e[(D+14)%16])>>>19|(u=t[(D+14)%16])<<13)^(u>>>29|h<<3)^h>>>6,p+=65535&(d=(u>>>19|h<<13)^(h>>>29|u<<3)^(u>>>6|h<<26)),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,e[D]=65535&g|m<<16,t[D]=65535&p|f<<16}l=y,p=65535&(d=x),f=d>>>16,g=65535&l,m=l>>>16,l=r[0],p+=65535&(d=i[0]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[0]=y=65535&g|m<<16,i[0]=x=65535&p|f<<16,l=b,p=65535&(d=N),f=d>>>16,g=65535&l,m=l>>>16,l=r[1],p+=65535&(d=i[1]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[1]=b=65535&g|m<<16,i[1]=N=65535&p|f<<16,l=v,p=65535&(d=A),f=d>>>16,g=65535&l,m=l>>>16,l=r[2],p+=65535&(d=i[2]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[2]=v=65535&g|m<<16,i[2]=A=65535&p|f<<16,l=w,p=65535&(d=S),f=d>>>16,g=65535&l,m=l>>>16,l=r[3],p+=65535&(d=i[3]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[3]=w=65535&g|m<<16,i[3]=S=65535&p|f<<16,l=E,p=65535&(d=T),f=d>>>16,g=65535&l,m=l>>>16,l=r[4],p+=65535&(d=i[4]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[4]=E=65535&g|m<<16,i[4]=T=65535&p|f<<16,l=C,p=65535&(d=R),f=d>>>16,g=65535&l,m=l>>>16,l=r[5],p+=65535&(d=i[5]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[5]=C=65535&g|m<<16,i[5]=R=65535&p|f<<16,l=_,p=65535&(d=I),f=d>>>16,g=65535&l,m=l>>>16,l=r[6],p+=65535&(d=i[6]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[6]=_=65535&g|m<<16,i[6]=I=65535&p|f<<16,l=O,p=65535&(d=P),f=d>>>16,g=65535&l,m=l>>>16,l=r[7],p+=65535&(d=i[7]),f+=d>>>16,g+=65535&l,m+=l>>>16,f+=p>>>16,g+=f>>>16,m+=g>>>16,r[7]=O=65535&g|m<<16,i[7]=P=65535&p|f<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},29936:(e,t,r)=>{"use strict";r.d(t,{j:()=>a});var n=r(12661),i=r(98866),s=r(36964);let o=(0,n.BX)({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),a=(0,s.X)({state:o,subscribeNetworkImages:e=>(0,n.B1)(o.networkImages,()=>e(o.networkImages)),subscribeKey:(e,t)=>(0,i.u$)(o,e,t),subscribe:e=>(0,n.B1)(o,()=>e(o)),setWalletImage(e,t){o.walletImages[e]=t},setNetworkImage(e,t){o.networkImages[e]=t},setChainImage(e,t){o.chainImages[e]=t},setConnectorImage(e,t){o.connectorImages={...o.connectorImages,[e]:t}},setTokenImage(e,t){o.tokenImages[e]=t},setCurrencyImage(e,t){o.currencyImages[e]=t}})},30020:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ThirdpartInjectConnector=void 0;let i=r(62016),s=r(14903),o=r(55982),a=r(71994);class c extends i.InjectConnector{getType(){return this.walletName===s.AptosGoogleWalletName?o.CONNECTOR_TYPE.KEYLESS.GOOGLE_WALLET:this.walletName===s.AptosAppleWalletName?o.CONNECTOR_TYPE.KEYLESS.APPLE_WALLET:o.CONNECTOR_TYPE.INJECT.STANDARD_INJECT_WALLET}constructor(e){super(),this.walletName=e.walletName,e.wallets.forEach((e,t)=>{this.providerMap.set(t,e)}),this.icon=e.icon}registerWallet(e,t){this.providerMap.set(e,t)}getTag(){var e;return o.STANDARD_INJECT_WALLET+(null!=(e=this.walletName)?e:"")}getWalletVersion(){return n(this,void 0,void 0,function*(){let e=this.providerMap.values().next().value;if(!e)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);return e.getVersion()})}openWallet(e,t){return n(this,void 0,void 0,function*(){if((0,a.logDebug)("InjectEngine connect begin:",JSON.stringify(e)),!e)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=e.connectRequest.dAppInfo;var t,r,n=e.connectRequest;try{if(n.requests){let e,i=n.requests.find(e=>"requestAccounts"===e.name),o=null!=(t=i.requiredNamespaces)?t:[],a=null!=(r=i.optionalNamespaces)?r:[];if(o.length+a.length===1){let t=1===o.length?o[0]:a[0],r=this.providerMap.get(t.namespace);if(this.addListener(t.namespace),r)e=yield this.getResponseByConnect(r);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"openWallet: provider not found")}this.connectResultListener&&e&&this.connectResultListener(e,this)}}catch(e){var i=s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;e instanceof s.OKXConnectError&&(i=e.code,e.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:i}},this)}})}getResponseByConnect(e){return n(this,void 0,void 0,function*(){var t,r;let n={method:"connect",requestId:Date.now().toString(),payload:{wallet:{platform:null!=(t=navigator.platform)?t:"/",appName:o.STANDARD_INJECT_WALLET+this.walletName,appVersion:null!=(r=this.getWalletVersion())?r:"1.0.0",maxProtocolVersion:1},responses:[]}},i={name:"requestAccounts",accounts:[]};return n.payload.responses.push(i),i.accounts.push((yield this.getAccount(e))),n})}getAccount(e){return n(this,void 0,void 0,function*(){return e.getAccount()})}disconnect(){return n(this,void 0,void 0,function*(){yield Promise.all([...this.providerMap.values()].map(e=>e.disconnect()))})}onDisconnect(){this.disconnectListener.forEach(e=>e()),this.disconnectListener=[]}restoreconnect(e,t){let r=Object.keys(e.namespaces);if(1!==r.length)return void t(null);this.addListener(r[0]);let n=this.getInjectProvider(r[0]);if(!n)return t(null);n.getAccount({silent:!0}).then(n=>{var i;let s=null!=(i=null==n?void 0:n.addresses)?i:[""];e.namespaces[r[0]].accounts[0].includes(s[0])?t(e):t(null)}).catch(e=>{t(null)})}checkAccountChanged(e,t){return n(this,void 0,void 0,function*(){var r,n;try{let i=null==(r=this.connectionManager)?void 0:r.getSessionContent("connectSession");if(!i||t&&i.namespaces[e].accounts.some(e=>e.includes(t)))return;let s=this.getInjectProvider(e);if(s){let t=yield this.getResponseByConnect(s);if(t&&i){let r=t.payload.responses[0].accounts[0];i.namespaces[e].accounts=r.addresses,i.namespaces[e].extra=r.extra,i.namespaces[e].rpcMap=void 0,i.namespaces[e].methods=r.methods,null==(n=this.accountChangeListener)||n.call(this,i)}}}catch(e){yield this.disconnect()}})}addListener(e){var t,r;for(let e in this.providerMap)null==(t=this.providerMap.get(e))||t.removeListener();null==(r=this.getInjectProvider(e))||r.addAccountChangedListener(t=>{t?this.checkAccountChanged(e,t).catch(e=>{}):this.onDisconnect()})}supportNamespaceAndChains(e,t){let r=this.providerMap.get(e);return!!r&&r.supportChains(t)}}t.ThirdpartInjectConnector=c},30120:function(e,t,r){var n;n=r(16611),r(9956),r(11816),r(93524),r(99229),function(){var e=n.lib.StreamCipher,t=n.algo,r=[],i=[],s=[],o=t.RabbitLegacy=e.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,0xffff0000&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,0xffff0000&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,0xffff0000&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,0xffff0000&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)a.call(this);for(var i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var s=t.words,o=s[0],c=s[1],l=(o<<8|o>>>24)&0xff00ff|(o<<24|o>>>8)&0xff00ff00,d=(c<<8|c>>>24)&0xff00ff|(c<<24|c>>>8)&0xff00ff00,h=l>>>16|0xffff0000&d,u=d<<16|65535&l;n[0]^=l,n[1]^=h,n[2]^=d,n[3]^=u,n[4]^=l,n[5]^=h,n[6]^=d,n[7]^=u;for(var i=0;i<4;i++)a.call(this)}},_doProcessBlock:function(e,t){var n=this._X;a.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=(r[i]<<8|r[i]>>>24)&0xff00ff|(r[i]<<24|r[i]>>>8)&0xff00ff00,e[t+i]^=r[i]},blockSize:4,ivSize:2});function a(){for(var e=this._X,t=this._C,r=0;r<8;r++)i[r]=t[r];t[0]=t[0]+0x4d34d34d+this._b|0,t[1]=t[1]+0xd34d34d3+ +(t[0]>>>0<i[0]>>>0)|0,t[2]=t[2]+0x34d34d34+ +(t[1]>>>0<i[1]>>>0)|0,t[3]=t[3]+0x4d34d34d+ +(t[2]>>>0<i[2]>>>0)|0,t[4]=t[4]+0xd34d34d3+ +(t[3]>>>0<i[3]>>>0)|0,t[5]=t[5]+0x34d34d34+ +(t[4]>>>0<i[4]>>>0)|0,t[6]=t[6]+0x4d34d34d+ +(t[5]>>>0<i[5]>>>0)|0,t[7]=t[7]+0xd34d34d3+ +(t[6]>>>0<i[6]>>>0)|0,this._b=+(t[7]>>>0<i[7]>>>0);for(var r=0;r<8;r++){var n=e[r]+t[r],o=65535&n,a=n>>>16,c=((o*o>>>17)+o*a>>>15)+a*a,l=((0xffff0000&n)*n|0)+((65535&n)*n|0);s[r]=c^l}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.RabbitLegacy=e._createHelper(o)}(),e.exports=n.RabbitLegacy},30598:(e,t,r)=>{"use strict";function n(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1));let[i,s]=[(r=r.padStart(t,"0")).slice(0,r.length-t),r.slice(r.length-t)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}r.d(t,{J:()=>n})},30697:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcProvider=void 0;let i=r(94820),s=r(89446),o=r(79864),a=r(79864);class c extends s.IJSONRpcProvider{constructor(e){super(e),this.events=new i.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return n(this,arguments,void 0,function*(e=this.connection){yield this.open(e)})}disconnect(){return n(this,void 0,void 0,function*(){yield this.close()})}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,t){return n(this,void 0,void 0,function*(){return this.requestStrict((0,o.formatJsonRpcRequest)(e.method,e.params||[],(0,o.getBigIntRpcId)().toString()),t)})}requestStrict(e,t){return n(this,void 0,void 0,function*(){return new Promise((r,i)=>n(this,void 0,void 0,function*(){if(!this.connection.connected)try{yield this.open()}catch(e){i(e)}this.events.on(`${e.id}`,e=>{(0,o.isJsonRpcError)(e)?i(e.error):r(e.result)});try{(0,a.logDebug)("[RPC] >>> send request",e,t),yield this.connection.send(e,t)}catch(e){i(e)}}))})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),(0,o.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return n(this,arguments,void 0,function*(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(yield this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),yield this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))})}close(){return n(this,void 0,void 0,function*(){yield this.connection.close()})}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}t.JsonRpcProvider=c},30982:(e,t,r)=>{"use strict";let n;r.d(t,{Z:()=>b});var i=r(4486),s=r(30598),o=r(45553),a=r(65103),c=r(58051),l=r(44826),d=r(93481),h=r(3824),u=r(10899);let p={createBalance(e,t){let r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:"native"===e.address?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance:({hex:e,decimals:t})=>(0,s.J)(BigInt(e),t),convertAddressToCAIP10Address:(e,t)=>`${t}:${e}`,createCAIP2ChainId:(e,t)=>`${t}:${parseInt(e,16)}`,getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let r=parseInt(t[1],10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return"object"==typeof e&&null!==e&&Object.values(e).every(e=>Array.isArray(e)&&e.every(e=>this.isValidAsset(e)))},isValidAsset:e=>"object"==typeof e&&null!==e&&"string"==typeof e.address&&"string"==typeof e.balance&&("ERC20"===e.type||"NATIVE"===e.type)&&"object"==typeof e.metadata&&null!==e.metadata&&"string"==typeof e.metadata.name&&"string"==typeof e.metadata.symbol&&"number"==typeof e.metadata.decimals&&"number"==typeof e.metadata.price&&"string"==typeof e.metadata.iconUrl};var f=r(58653),g=r(55480);async function m(){if(!n){let{createPublicClient:e,http:t,defineChain:i}=await r.e(1287).then(r.bind(r,81287));n={createPublicClient:e,http:t,defineChain:i}}return n}let y={getBlockchainApiRpcUrl(e,t){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()},async getViemChain(e){let{defineChain:t}=await m(),{chainId:r}=a.C.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(r)})},async createViemPublicClient(e){let{createPublicClient:t,http:r}=await m(),n=g.H.state.projectId,i=await y.getViemChain(e);if(!i)throw Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:i,transport:r(y.getBlockchainApiRpcUrl(e.caipNetworkId,n))})}},b={async getMyTokensWithBalance(e){let t=c.U.state.address,r=d.W.state.activeCaipNetwork,n=u.a.getConnectorId("eip155")===o.o.CONNECTOR_ID.AUTH;if(!t||!r)return[];let i=`${r.caipNetworkId}:${t}`,s=f.i.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===o.o.CHAIN.EVM&&n){let e=await this.getEIP155Balances(t,r);if(e)return this.filterLowQualityTokens(e)}let a=await l.T.getBalance(t,r.caipNetworkId,e);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{let r=p.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),n=await h.x.getCapabilities(e);if(!n?.[r]?.assetDiscovery?.supported)return null;let i=await h.x.walletGetAssets({account:e,chainFilter:[r]});if(!p.isWalletGetAssetsResponse(i))return null;let s=(i[r]||[]).map(e=>p.createBalance(e,t.caipNetworkId));return f.i.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:s},timestamp:Date.now()}),s}catch(e){return null}},filterLowQualityTokens:e=>e.filter(e=>"0"!==e.quantity.decimals),async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:r}){let n=await y.createViemPublicClient(r),{address:o}=a.C.parseCaipAddress(e),[{result:c},{result:l},{result:d},{result:h}]=await n.multicall({contracts:[{address:t,functionName:"name",args:[],abi:i.xw},{address:t,functionName:"symbol",args:[],abi:i.xw},{address:t,functionName:"balanceOf",args:[o],abi:i.xw},{address:t,functionName:"decimals",args:[],abi:i.xw}]});return{name:c,symbol:l,decimals:h,balance:d&&h?(0,s.J)(d,h):"0"}}}},31115:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SolProvider=void 0;let s=r(14903),o=r(71994),a=i(r(75245)),c=r(38962),l=r(45236);class d{constructor(){this.accountChangedSolanaPublicKeyHandler=null}send(e){return n(this,void 0,void 0,function*(){var t;try{let i;yield this.restoreConnect(),(0,o.logDebug)("SolProvider send request:",JSON.stringify(e));let c=e.method;if(e.injectParams){switch(c){case"solana_signMessage":if(e.injectParams&&"object"==typeof e.injectParams&&"message"in e.injectParams){var r=null==(t=e.injectParams)?void 0:t.message;let n=new TextEncoder().encode(r),s=yield window.okxwallet.solana.signMessage(n,"utf8");return i={method:e.method,result:a.default.encode(s.signature)},(0,o.logDebug)("SolProvider send result:",JSON.stringify(s)),i}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${c}'`);case"solana_signTransaction":if(e.injectParams&&"transaction"in e.injectParams){let t=yield window.okxwallet.solana.signTransaction(e.injectParams.transaction);return(0,o.logDebug)("SolProvider send bufferResult:",JSON.stringify(t)),i={method:e.method,injectResult:t},(0,o.logDebug)("SolProvider send result:",(0,o.safeJsonStringify)(i)),i}break;case"solana_signAllTransactions":if(e.injectParams&&"transactions"in e.injectParams){let t=yield window.okxwallet.solana.signAllTransactions(e.injectParams.transactions);return(0,o.logDebug)("SolProvider send result:",(0,o.safeJsonStringify)(t)),i={method:e.method,injectResult:t}}break;case"solana_signAndSendTransaction":if(e.injectParams&&"transaction"in e.injectParams){var n=yield window.okxwallet.solana.signAndSendTransaction(e.injectParams.transaction);return(0,o.logDebug)("SolProvider send result:",(0,o.safeJsonStringify)(n)),i={method:e.method,injectResult:n}}}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`method: '${c}'`)}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${c}'`)}catch(e){throw(0,o.logDebug)("SolProvider send error:",e),e}})}disconnect(){}restoreConnect(){return(0,c.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,r,i,a,c){return n(this,void 0,void 0,function*(){let e=[];i.forEach(t=>{t.namespace===s.NameSpaceKeySOL&&e.push(...t.chains)});let t=[],r={},n={};if(e.forEach(e=>{let i=a.address.find(t=>"501"===t.chainId&&501===t.coinType||t.namespaceChainId===e);i&&(t.push(e+":"+i.address),n&&"publicKey"in n?r[e]=n:r[e]={publicKey:i.publicKey})}),t&&t.length>0){let e={namespace:s.NameSpaceKeySOL,addresses:t,methods:[...l.SOLANAMethods],extra:r};return(0,o.logDebug)("parseConnectResponse nameSpaceResponse :",JSON.stringify(e)),e}})}connect(){return n(this,void 0,void 0,function*(){return window.okxwallet.solana.connect()})}singleConnect(){return this.connect()}addAccountChangedListener(e){console.log("window.okxwallet configEventWithKey:","sol"),this.accountChangedSolanaPublicKeyHandler=t=>{console.log("window.okxwallet configEventWithKey_solana:",Date.now(),"sol",t),t&&e()},window.okxwallet.solana.on("accountChanged",this.accountChangedSolanaPublicKeyHandler)}removeListener(){this.accountChangedSolanaPublicKeyHandler&&window.okxwallet.solana.removeListener("accountChanged",this.accountChangedSolanaPublicKeyHandler)}}t.SolProvider=d},31838:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectWalletType=void 0,function(e){e[e.OKX_MINI=110]="OKX_MINI",e[e.OKX_APP=100]="OKX_APP",e[e.OKX_WALLET=120]="OKX_WALLET",e[e.OKX_APP_COMMON=130]="OKX_APP_COMMON"}(r||(t.ConnectWalletType=r={}))},32009:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(12661),i=r(98866);let s={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},o=(0,n.BX)({providers:{...s},providerIds:{...s}}),a={state:o,subscribeKey:(e,t)=>(0,i.u$)(o,e,t),subscribe:e=>(0,n.B1)(o,()=>{e(o)}),subscribeProviders:e=>(0,n.B1)(o.providers,()=>e(o.providers)),setProvider(e,t){e&&t&&(o.providers[e]=(0,n.KR)(t))},getProvider(e){if(e)return o.providers[e]},setProviderId(e,t){t&&(o.providerIds[e]=t)},getProviderId(e){if(e)return o.providerIds[e]},reset(){o.providers={...s},o.providerIds={...s}},resetChain(e){o.providers[e]=void 0,o.providerIds[e]=void 0}}},32464:(e,t,r)=>{"use strict";async function n(...e){let t=await fetch(...e);if(!t.ok)throw Error(`HTTP status code: ${t.status}`,{cause:t});return t}r.d(t,{Z:()=>i});class i{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:r,...i}){let s=this.createUrl(i);return(await n(s,{method:"GET",headers:e,signal:t,cache:r})).json()}async getBlob({headers:e,signal:t,...r}){let i=this.createUrl(r);return(await n(i,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:r,...i}){let s=this.createUrl(i);return(await n(s,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:t,signal:r,...i}){let s=this.createUrl(i);return(await n(s,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:t,signal:r,...i}){let s=this.createUrl(i);return(await n(s,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:t}){let r=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([e,t])=>{t&&r.searchParams.append(e,t)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}sendBeacon({body:e,...t}){let r=this.createUrl(t);return navigator.sendBeacon(r.toString(),e?JSON.stringify(e):void 0)}}},32918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AptosAppleWalletName=t.AptosGoogleWalletName=t.OKXInjectWalletName=t.OKXMiniWalletName=t.OKXWalletName=void 0,t.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:t.OKXWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:t.OKXMiniWalletName,imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}},t.creatOKXInjectWalletInfo=function(){return{appName:"okxInjectWallet",name:t.OKXInjectWalletName,imageUrl:""}},t.OKXWalletName="OKX Wallet",t.OKXMiniWalletName="OKX Mini Wallet",t.OKXInjectWalletName="OKX Inject Wallet",t.AptosGoogleWalletName="Continue with Google",t.AptosAppleWalletName="Continue with Apple"},32973:(e,t,r)=>{"use strict";r.d(t,{OA:()=>n,WL:()=>s,u$:()=>i});let n={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},i=e=>(...t)=>({_$litDirective$:e,values:t});class s{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},33246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},33298:(e,t,r)=>{"use strict";let n,i;r.r(t),r.d(t,{PaymentProvider:()=>iW,WalletProvider:()=>sx,WalletType:()=>c,default:()=>sk});var s,o,a,c,l,d,h,u={};r.r(u),r.d(u,{hasBrowserEnv:()=>tH,hasStandardBrowserEnv:()=>tq,hasStandardBrowserWebWorkerEnv:()=>tX,navigator:()=>tF,origin:()=>tV});var p,f,g=r(34590),m=r(6247),y="0123456789abcdef",b="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",v="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",w={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},E=!0,C="[DecimalError] ",_=C+"Invalid argument: ",O=C+"Precision limit exceeded",x=C+"crypto unavailable",N="[object Decimal]",A=Math.floor,S=Math.pow,T=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,R=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,I=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,P=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,k=b.length-1,D=v.length-1,U={toStringTag:N};function M(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(s+=z(r)),s+=n;(r=7-(n=(o=e[t])+"").length)&&(s+=z(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function L(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_+e)}function j(e,t,r,n){var i,s,o,a;for(s=e[0];s>=10;s/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),s=S(10,7-t),a=e[i]%s|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),o=r<4&&99999==a||r>3&&49999==a||5e4==a||0==a):o=(r<4&&a+1==s||r>3&&a+1==s/2)&&(e[i+1]/s/100|0)==S(10,t-2)-1||(a==s/2||0==a)&&(e[i+1]/s/100|0)==0:t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),o=(n||r<4)&&9999==a||!n&&r>3&&4999==a):o=((n||r<4)&&a+1==s||!n&&r>3&&a+1==s/2)&&(e[i+1]/s/1e3|0)==S(10,t-3)-1,o}function B(e,t,r){for(var n,i,s=[0],o=0,a=e.length;o<a;){for(i=s.length;i--;)s[i]*=t;for(s[0]+=y.indexOf(e.charAt(o++)),n=0;n<s.length;n++)s[n]>r-1&&(void 0===s[n+1]&&(s[n+1]=0),s[n+1]+=s[n]/r|0,s[n]%=r)}return s.reverse()}U.absoluteValue=U.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),K(e)},U.ceil=function(){return K(new this.constructor(this),this.e+1,2)},U.clampedTo=U.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(_+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},U.comparedTo=U.cmp=function(e){var t,r,n,i,s=this.d,o=(e=new this.constructor(e)).d,a=this.s,c=e.s;if(!s||!o)return a&&c?a!==c?a:s===o?0:!s^a<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?a:o[0]?-c:0;if(a!==c)return a;if(this.e!==e.e)return this.e>e.e^a<0?1:-1;for(t=0,r=(n=s.length)<(i=o.length)?n:i;t<r;++t)if(s[t]!==o[t])return s[t]>o[t]^a<0?1:-1;return n===i?0:n>i^a<0?1:-1},U.cosine=U.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/er(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=et(e,1,t.times(i),new e(1));for(var s=r;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,en(n,r)),n.precision=e,n.rounding=t,K(2==f||3==f?r.neg():r,e,t,!0)):new n(1):new n(NaN)},U.cubeRoot=U.cbrt=function(){var e,t,r,n,i,s,o,a,c,l,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(E=!1,(s=this.s*S(this.s*this,1/3))&&Math.abs(s)!=1/0?n=new d(s.toString()):(r=M(this.d),(s=((e=this.e)-r.length+1)%3)&&(r+=1==s||-2==s?"0":"00"),s=S(r,1/3),e=A((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=s==1/0?"5e"+e:(r=s.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=d.precision)+3;;)if(n=W((l=(c=(a=n).times(a).times(a)).plus(this)).plus(this).times(a),l.plus(c),o+2,1),M(a.d).slice(0,o)===(r=M(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(K(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(K(a,e+1,0),a.times(a).times(a).eq(this))){n=a;break}o+=4,i=1}return E=!0,K(n,e,d.rounding,t)},U.decimalPlaces=U.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-A(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},U.dividedBy=U.div=function(e){return W(this,new this.constructor(e))},U.dividedToIntegerBy=U.divToInt=function(e){var t=this.constructor;return K(W(this,new t(e),0,1,1),t.precision,t.rounding)},U.equals=U.eq=function(e){return 0===this.cmp(e)},U.floor=function(){return K(new this.constructor(this),this.e+1,3)},U.greaterThan=U.gt=function(e){return this.cmp(e)>0},U.greaterThanOrEqualTo=U.gte=function(e){var t=this.cmp(e);return 1==t||0===t},U.hyperbolicCosine=U.cosh=function(){var e,t,r,n,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(s.e,s.sd())+4,o.rounding=1,(i=s.d.length)<32?t=(1/er(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),s=et(o,1,s.times(t),new o(1),!0);for(var c,l=e,d=new o(8);l--;)c=s.times(s),s=a.minus(c.times(d.minus(c.times(d))));return K(s,o.precision=r,o.rounding=n,!0)},U.hyperbolicSine=U.sinh=function(){var e,t,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(t=s.precision,r=s.rounding,s.precision=t+Math.max(i.e,i.sd())+4,s.rounding=1,(n=i.d.length)<3)i=et(s,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=et(s,2,i=i.times(1/er(5,e)),i,!0);for(var o,a=new s(5),c=new s(16),l=new s(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(l))))}return s.precision=t,s.rounding=r,K(i,t,r,!0)},U.hyperbolicTangent=U.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,W(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},U.inverseCosine=U.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?X(t,n,i):new t(0):new t(NaN):e.isZero()?X(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},U.inverseHyperbolicCosine=U.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,E=!1,r=r.times(r).minus(1).sqrt().plus(r),E=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},U.inverseHyperbolicSine=U.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,E=!1,r=r.times(r).plus(1).sqrt().plus(r),E=!0,n.precision=e,n.rounding=t,r.ln())},U.inverseHyperbolicTangent=U.atanh=function(){var e,t,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=s.precision,t=s.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?K(new s(i),e,t,!0):(s.precision=r=n-i.e,i=W(i.plus(1),new s(1).minus(i),r+e,1),s.precision=e+4,s.rounding=1,i=i.ln(),s.precision=e,s.rounding=t,i.times(.5)):new s(NaN)},U.inverseSine=U.asin=function(){var e,t,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(t=i.abs().cmp(1),r=s.precision,n=s.rounding,-1!==t)?0===t?((e=X(s,r+4,n).times(.5)).s=i.s,e):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2))},U.inverseTangent=U.atan=function(){var e,t,r,n,i,s,o,a,c,l=this,d=l.constructor,h=d.precision,u=d.rounding;if(l.isFinite()){if(l.isZero())return new d(l);else if(l.abs().eq(1)&&h+4<=D)return(o=X(d,h+4,u).times(.25)).s=l.s,o}else{if(!l.s)return new d(NaN);if(h+4<=D)return(o=X(d,h+4,u).times(.5)).s=l.s,o}for(d.precision=a=h+10,d.rounding=1,e=r=Math.min(28,a/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(E=!1,t=Math.ceil(a/7),n=1,c=l.times(l),o=new d(l),i=l;-1!==e;)if(i=i.times(c),s=o.minus(i.div(n+=2)),i=i.times(c),void 0!==(o=s.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===s.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),E=!0,K(o,d.precision=h,d.rounding=u,!0)},U.isFinite=function(){return!!this.d},U.isInteger=U.isInt=function(){return!!this.d&&A(this.e/7)>this.d.length-2},U.isNaN=function(){return!this.s},U.isNegative=U.isNeg=function(){return this.s<0},U.isPositive=U.isPos=function(){return this.s>0},U.isZero=function(){return!!this.d&&0===this.d[0]},U.lessThan=U.lt=function(e){return 0>this.cmp(e)},U.lessThanOrEqualTo=U.lte=function(e){return 1>this.cmp(e)},U.logarithm=U.log=function(e){var t,r,n,i,s,o,a,c=this.constructor,l=c.precision,d=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(E=!1,j((a=W(s=Y(this,o=l+5),t?q(c,o+10):Y(e,o),o,1)).d,n=l,d))do if(o+=10,a=W(s=Y(this,o),t?q(c,o+10):Y(e,o),o,1),!i){+M(a.d).slice(n+1,n+15)+1==1e14&&(a=K(a,l+1,0));break}while(j(a.d,n+=10,d));return E=!0,K(a,l,d)},U.minus=U.sub=function(e){var t,r,n,i,s,o,a,c,l,d,h,u,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,u=e.d,a=p.precision,c=p.rounding,!l[0]||!u[0]){if(u[0])e.s=-e.s;else{if(!l[0])return new p(3===c?-0:0);e=new p(this)}return E?K(e,a,c):e}if(r=A(e.e/7),d=A(this.e/7),l=l.slice(),s=d-r){for((h=s<0)?(t=l,s=-s,o=u.length):(t=u,r=d,o=l.length),s>(n=Math.max(Math.ceil(a/7),o)+2)&&(s=n,t.length=1),t.reverse(),n=s;n--;)t.push(0);t.reverse()}else{for((h=(n=l.length)<(o=u.length))&&(o=n),n=0;n<o;n++)if(l[n]!=u[n]){h=l[n]<u[n];break}s=0}for(h&&(t=l,l=u,u=t,e.s=-e.s),o=l.length,n=u.length-o;n>0;--n)l[o++]=0;for(n=u.length;n>s;){if(l[--n]<u[n]){for(i=n;i&&0===l[--i];)l[i]=1e7-1;--l[i],l[n]+=1e7}l[n]-=u[n]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=F(l,r),E?K(e,a,c):e):new p(3===c?-0:0)},U.modulo=U.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(E=!1,9==r.modulo?(t=W(this,e.abs(),0,3,1),t.s*=e.s):t=W(this,e,0,r.modulo,1),t=t.times(e),E=!0,this.minus(t)):K(new r(this),r.precision,r.rounding):new r(NaN)},U.naturalExponential=U.exp=function(){return Z(this)},U.naturalLogarithm=U.ln=function(){return Y(this)},U.negated=U.neg=function(){var e=new this.constructor(this);return e.s=-e.s,K(e)},U.plus=U.add=function(e){var t,r,n,i,s,o,a,c,l,d,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new h(e.d||this.s===e.s?this:NaN)):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,d=e.d,a=h.precision,c=h.rounding,!l[0]||!d[0])return d[0]||(e=new h(this)),E?K(e,a,c):e;if(s=A(this.e/7),n=A(e.e/7),l=l.slice(),i=s-n){for(i<0?(r=l,i=-i,o=d.length):(r=d,n=s,o=l.length),i>(o=(s=Math.ceil(a/7))>o?s+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=l.length)-(i=d.length)<0&&(i=o,r=d,d=l,l=r),t=0;i;)t=(l[--i]=l[i]+d[i]+t)/1e7|0,l[i]%=1e7;for(t&&(l.unshift(t),++n),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=F(l,n),E?K(e,a,c):e},U.precision=U.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(_+e);return this.d?(t=V(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},U.round=function(){var e=this.constructor;return K(new e(this),this.e+1,e.rounding)},U.sine=U.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:et(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=et(e,2,t=t.times(1/er(5,r)),t);for(var i,s=new e(5),o=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(s.plus(i.times(o.times(i).minus(a))));return t}(n,en(n,r)),n.precision=e,n.rounding=t,K(f>2?r.neg():r,e,t,!0)):new n(NaN)},U.squareRoot=U.sqrt=function(){var e,t,r,n,i,s,o=this.d,a=this.e,c=this.s,l=this.constructor;if(1!==c||!o||!o[0])return new l(!c||c<0&&(!o||o[0])?NaN:o?this:1/0);for(E=!1,0==(c=Math.sqrt(+this))||c==1/0?(((t=M(o)).length+a)%2==0&&(t+="0"),c=Math.sqrt(t),a=A((a+1)/2)-(a<0||a%2),n=new l(t=c==1/0?"5e"+a:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+a)):n=new l(c.toString()),r=(a=l.precision)+3;;)if(n=(s=n).plus(W(this,s,r+2,1)).times(.5),M(s.d).slice(0,r)===(t=M(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(n,a+1,1),e=!n.times(n).eq(this));break}if(!i&&(K(s,a+1,0),s.times(s).eq(this))){n=s;break}r+=4,i=1}return E=!0,K(n,a,l.rounding,e)},U.tangent=U.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=W(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,K(2==f||4==f?r.neg():r,e,t,!0)):new n(NaN)},U.times=U.mul=function(e){var t,r,n,i,s,o,a,c,l,d=this.constructor,h=this.d,u=(e=new d(e)).d;if(e.s*=this.s,!h||!h[0]||!u||!u[0])return new d(!e.s||h&&!h[0]&&!u||u&&!u[0]&&!h?NaN:!h||!u?e.s/0:0*e.s);for(r=A(this.e/7)+A(e.e/7),(c=h.length)<(l=u.length)&&(s=h,h=u,u=s,o=c,c=l,l=o),s=[],n=o=c+l;n--;)s.push(0);for(n=l;--n>=0;){for(t=0,i=c+n;i>n;)a=s[i]+u[n]*h[i-n-1]+t,s[i--]=a%1e7|0,t=a/1e7|0;s[i]=(s[i]+t)%1e7|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=F(s,r),E?K(e,d.precision,d.rounding):e},U.toBinary=function(e,t){return ei(this,2,e,t)},U.toDecimalPlaces=U.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(L(e,0,1e9),void 0===t?t=n.rounding:L(t,0,8),K(r,e+r.e+1,t))},U.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=H(n,!0):(L(e,0,1e9),void 0===t?t=i.rounding:L(t,0,8),r=H(n=K(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},U.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=H(this):(L(e,0,1e9),void 0===t?t=i.rounding:L(t,0,8),r=H(n=K(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},U.toFraction=function(e){var t,r,n,i,s,o,a,c,l,d,h,u,p=this.d,f=this.constructor;if(!p)return new f(this);if(l=r=new f(1),n=c=new f(0),o=(s=(t=new f(n)).e=V(p)-this.e-1)%7,t.d[0]=S(10,o<0?7+o:o),null==e)e=s>0?t:l;else{if(!(a=new f(e)).isInt()||a.lt(l))throw Error(_+a);e=a.gt(t)?s>0?t:l:a}for(E=!1,a=new f(M(p)),d=f.precision,f.precision=s=7*p.length*2;h=W(a,t,0,1,1),1!=(i=r.plus(h.times(n))).cmp(e);)r=n,n=i,i=l,l=c.plus(h.times(i)),c=i,i=t,t=a.minus(h.times(i)),a=i;return i=W(e.minus(r),n,0,1,1),c=c.plus(i.times(l)),r=r.plus(i.times(n)),c.s=l.s=this.s,u=1>W(l,n,s,1).minus(this).abs().cmp(W(c,r,s,1).minus(this).abs())?[l,n]:[c,r],f.precision=d,E=!0,u},U.toHexadecimal=U.toHex=function(e,t){return ei(this,16,e,t)},U.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:L(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(E=!1,r=W(r,e,0,t,1).times(e),E=!0,K(r)):(e.s=r.s,r=e),r},U.toNumber=function(){return+this},U.toOctal=function(e,t){return ei(this,8,e,t)},U.toPower=U.pow=function(e){var t,r,n,i,s,o,a=this,c=a.constructor,l=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(S(+a,l));if((a=new c(a)).eq(1))return a;if(n=c.precision,s=c.rounding,e.eq(1))return K(a,n,s);if((t=A(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return i=$(c,a,r,n),e.s<0?new c(1).div(i):K(i,n,s);if((o=a.s)<0){if(t<e.d.length-1)return new c(NaN);if((1&e.d[t])==0&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(t=0!=(r=S(+a,l))&&isFinite(r)?new c(r+"").e:A(l*(Math.log("0."+M(a.d))/Math.LN10+a.e+1)))>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(E=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),(i=Z(e.times(Y(a,n+r)),n)).d&&j((i=K(i,n+5,1)).d,n,s)&&(t=n+10,+M((i=K(Z(e.times(Y(a,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=K(i,n+1,0))),i.s=o,E=!0,c.rounding=s,K(i,n,s))},U.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=H(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(L(e,1,1e9),void 0===t?t=i.rounding:L(t,0,8),r=H(n=K(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},U.toSignificantDigits=U.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(L(e,1,1e9),void 0===t?t=r.rounding:L(t,0,8)),K(new r(this),e,t)},U.toString=function(){var e=this.constructor,t=H(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},U.truncated=U.trunc=function(){return K(new this.constructor(this),this.e+1,1)},U.valueOf=U.toJSON=function(){var e=this.constructor,t=H(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var W=function(){function e(e,t,r){var n,i=0,s=e.length;for(e=e.slice();s--;)n=e[s]*t+i,e[s]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,s,o,a,c){var l,d,h,u,f,g,m,y,b,v,w,E,C,_,O,x,N,S,T,R,I=n.constructor,P=n.s==i.s?1:-1,k=n.d,D=i.d;if(!k||!k[0]||!D||!D[0])return new I(!n.s||!i.s||(k?D&&k[0]==D[0]:!D)?NaN:k&&0==k[0]||!D?0*P:P/0);for(c?(f=1,d=n.e-i.e):(c=1e7,f=7,d=A(n.e/f)-A(i.e/f)),T=D.length,N=k.length,v=(b=new I(P)).d=[],h=0;D[h]==(k[h]||0);h++);if(D[h]>(k[h]||0)&&d--,null==s?(_=s=I.precision,o=I.rounding):_=a?s+(n.e-i.e)+1:s,_<0)v.push(1),g=!0;else{if(_=_/f+2|0,h=0,1==T){for(u=0,D=D[0],_++;(h<N||u)&&_--;h++)O=u*c+(k[h]||0),v[h]=O/D|0,u=O%D|0;g=u||h<N}else{for((u=c/(D[0]+1)|0)>1&&(D=e(D,u,c),k=e(k,u,c),T=D.length,N=k.length),x=T,E=(w=k.slice(0,T)).length;E<T;)w[E++]=0;(R=D.slice()).unshift(0),S=D[0],D[1]>=c/2&&++S;do u=0,(l=t(D,w,T,E))<0?(C=w[0],T!=E&&(C=C*c+(w[1]||0)),(u=C/S|0)>1?(u>=c&&(u=c-1),y=(m=e(D,u,c)).length,E=w.length,1==(l=t(m,w,y,E))&&(u--,r(m,T<y?R:D,y,c))):(0==u&&(l=u=1),m=D.slice()),(y=m.length)<E&&m.unshift(0),r(w,m,E,c),-1==l&&(E=w.length,(l=t(D,w,T,E))<1&&(u++,r(w,T<E?R:D,E,c))),E=w.length):0===l&&(u++,w=[0]),v[h++]=u,l&&w[0]?w[E++]=k[x]||0:(w=[k[x]],E=1);while((x++<N||void 0!==w[0])&&_--);g=void 0!==w[0]}v[0]||v.shift()}if(1==f)b.e=d,p=g;else{for(h=1,u=v[0];u>=10;u/=10)h++;b.e=h+d*f-1,K(b,a?s+b.e+1:s,o,g)}return b}}();function K(e,t,r,n){var i,s,o,a,c,l,d,h,u,p=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,a=h[0];a>=10;a/=10)i++;if((s=t-i)<0)s+=7,o=t,c=(d=h[u=0])/S(10,i-o-1)%10|0;else if((u=Math.ceil((s+1)/7))>=(a=h.length))if(n){for(;a++<=u;)h.push(0);d=c=0,i=1,s%=7,o=s-7+1}else break e;else{for(i=1,d=a=h[u];a>=10;a/=10)i++;s%=7,c=(o=s-7+i)<0?0:d/S(10,i-o-1)%10|0}if(n=n||t<0||void 0!==h[u+1]||(o<0?d:d%S(10,i-o-1)),l=r<4?(c||n)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||n||6==r&&(s>0?o>0?d/S(10,i-o):0:h[u-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=S(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=u,a=1,u--):(h.length=u+1,a=S(10,7-s),h[u]=o>0?(d/S(10,i-o)%S(10,o)|0)*a:0),l)for(;;)if(0==u){for(s=1,o=h[0];o>=10;o/=10)s++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(e.e++,1e7==h[0]&&(h[0]=1));break}else{if(h[u]+=a,1e7!=h[u])break;h[u--]=0,a=1}for(s=h.length;0===h[--s];)h.pop()}return E&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function H(e,t,r){if(!e.isFinite())return Q(e);var n,i=e.e,s=M(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+z(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(e.e<0?"e":"e+")+e.e):i<0?(s="0."+z(-i-1)+s,r&&(n=r-o)>0&&(s+=z(n))):i>=o?(s+=z(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+z(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=z(n))),s}function F(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function q(e,t,r){if(t>k)throw E=!0,r&&(e.precision=r),Error(O);return K(new e(b),t,1,!0)}function X(e,t,r){if(t>D)throw Error(O);return K(new e(v),t,r,!0)}function V(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function z(e){for(var t="";e--;)t+="0";return t}function $(e,t,r,n){var i,s=new e(1),o=Math.ceil(n/7+4);for(E=!1;;){if(r%2&&es((s=s.times(t)).d,o)&&(i=!0),0===(r=A(r/2))){r=s.d.length-1,i&&0===s.d[r]&&++s.d[r];break}es((t=t.times(t)).d,o)}return E=!0,s}function G(e){return 1&e.d[e.d.length-1]}function J(e,t,r){for(var n,i,s=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){s=i;break}((n=s.cmp(i))===r||0===n&&s.s===r)&&(s=i)}return s}function Z(e,t){var r,n,i,s,o,a,c,l=0,d=0,h=0,u=e.constructor,p=u.rounding,f=u.precision;if(!e.d||!e.d[0]||e.e>17)return new u(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(E=!1,c=f):c=t,a=new u(.03125);e.e>-2;)e=e.times(a),h+=5;for(c+=n=Math.log(S(2,h))/Math.LN10*2+5|0,r=s=o=new u(1),u.precision=c;;){if(s=K(s.times(e),c,1),r=r.times(++d),M((a=o.plus(W(s,r,c,1))).d).slice(0,c)===M(o.d).slice(0,c)){for(i=h;i--;)o=K(o.times(o),c,1);if(null!=t)return u.precision=f,o;if(!(l<3&&j(o.d,c-n,p,l)))return K(o,u.precision=f,p,E=!0);u.precision=c+=10,r=s=a=new u(1),d=0,l++}o=a}}function Y(e,t){var r,n,i,s,o,a,c,l,d,h,u,p=1,f=e,g=f.d,m=f.constructor,y=m.rounding,b=m.precision;if(f.s<0||!g||!g[0]||!f.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=f.s?NaN:g?0:f);if(null==t?(E=!1,d=b):d=t,m.precision=d+=10,n=(r=M(g)).charAt(0),!(15e14>Math.abs(s=f.e)))return l=q(m,d+2,b).times(s+""),f=Y(new m(n+"."+r.slice(1)),d-10).plus(l),m.precision=b,null==t?K(f,b,y,E=!0):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=M((f=f.times(e)).d)).charAt(0),p++;for(s=f.e,n>1?(f=new m("0."+r),s++):f=new m(n+"."+r.slice(1)),h=f,c=o=f=W(f.minus(1),f.plus(1),d,1),u=K(f.times(f),d,1),i=3;;){if(o=K(o.times(u),d,1),M((l=c.plus(W(o,new m(i),d,1))).d).slice(0,d)===M(c.d).slice(0,d)){if(c=c.times(2),0!==s&&(c=c.plus(q(m,d+2,b).times(s+""))),c=W(c,new m(p),d,1),null!=t)return m.precision=b,c;if(!j(c.d,d-10,y,a))return K(c,m.precision=b,y,E=!0);m.precision=d+=10,l=o=f=W(h.minus(1),h.plus(1),d,1),u=K(f.times(f),d,1),i=a=1}c=l,i+=2}}function Q(e){return String(e.s*e.s/0)}function ee(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),E&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function et(e,t,r,n,i){var s,o,a,c,l=e.precision,d=Math.ceil(l/7);for(E=!1,c=r.times(r),a=new e(n);;){if(o=W(a.times(c),new e(t++*t++),l,1),a=i?n.plus(o):n.minus(o),n=W(o.times(c),new e(t++*t++),l,1),void 0!==(o=a.plus(n)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=n,n=o,o=s}return E=!0,o.d.length=d+1,o}function er(e,t){for(var r=e;--t;)r*=e;return r}function en(e,t){var r,n=t.s<0,i=X(e,e.precision,1),s=i.times(.5);if((t=t.abs()).lte(s))return f=n?4:1,t;if((r=t.divToInt(i)).isZero())f=n?3:2;else{if((t=t.minus(r.times(i))).lte(s))return f=G(r)?n?2:3:n?4:1,t;f=G(r)?n?1:4:n?3:2}return t.minus(i).abs()}function ei(e,t,r,n){var i,s,o,a,c,l,d,h,u,f=e.constructor,g=void 0!==r;if(g?(L(r,1,1e9),void 0===n?n=f.rounding:L(n,0,8)):(r=f.precision,n=f.rounding),e.isFinite()){for(o=(d=H(e)).indexOf("."),g?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,o>=0&&(d=d.replace(".",""),(u=new f(1)).e=d.length-o,u.d=B(H(u),10,i),u.e=u.d.length),s=c=(h=B(d,10,i)).length;0==h[--c];)h.pop();if(h[0]){if(o<0?s--:((e=new f(e)).d=h,e.e=s,h=(e=W(e,u,r,n,0,i)).d,s=e.e,l=p),o=h[r],a=i/2,l=l||void 0!==h[r+1],l=n<4?(void 0!==o||l)&&(0===n||n===(e.s<0?3:2)):o>a||o===a&&(4===n||l||6===n&&1&h[r-1]||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>i-1;)h[r]=0,r||(++s,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,d="";o<c;o++)d+=y.charAt(h[o]);if(g){if(c>1)if(16==t||8==t){for(o=16==t?4:3,--c;c%o;c++)d+="0";for(c=(h=B(d,i,t)).length;!h[c-1];--c);for(o=1,d="1.";o<c;o++)d+=y.charAt(h[o])}else d=d.charAt(0)+"."+d.slice(1);d=d+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)d="0"+d;d="0."+d}else if(++s>c)for(s-=c;s--;)d+="0";else s<c&&(d=d.slice(0,s)+"."+d.slice(s))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=Q(e);return e.s<0?"-"+d:d}function es(e,t){if(e.length>t)return e.length=t,!0}function eo(e){return new this(e).abs()}function ea(e){return new this(e).acos()}function ec(e){return new this(e).acosh()}function el(e,t){return new this(e).plus(t)}function ed(e){return new this(e).asin()}function eh(e){return new this(e).asinh()}function eu(e){return new this(e).atan()}function ep(e){return new this(e).atanh()}function ef(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,s=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?X(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=X(this,s,1).times(.5)).s=e.s:t.s<0?(this.precision=s,this.rounding=1,r=this.atan(W(e,t,s,1)),t=X(this,s,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(W(e,t,s,1)):(r=X(this,s,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eg(e){return new this(e).cbrt()}function em(e){return K(e=new this(e),e.e+1,2)}function ey(e,t,r){return new this(e).clamp(t,r)}function eb(e){if(!e||"object"!=typeof e)throw Error(C+"Object expected");var t,r,n,i=!0===e.defaults,s=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(r=s[t],i&&(this[r]=w[r]),void 0!==(n=e[r]))if(A(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(_+r+": "+n);if(r="crypto",i&&(this[r]=w[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(x);else this[r]=!1;else throw Error(_+r+": "+n);return this}function ev(e){return new this(e).cos()}function ew(e){return new this(e).cosh()}function eE(e,t){return new this(e).div(t)}function eC(e){return new this(e).exp()}function e_(e){return K(e=new this(e),e.e+1,3)}function eO(){var e,t,r=new this(0);for(e=0,E=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return E=!0,new this(1/0);r=t}return E=!0,r.sqrt()}function ex(e){return e instanceof eV||e&&e.toStringTag===N||!1}function eN(e){return new this(e).ln()}function eA(e,t){return new this(e).log(t)}function eS(e){return new this(e).log(2)}function eT(e){return new this(e).log(10)}function eR(){return J(this,arguments,-1)}function eI(){return J(this,arguments,1)}function eP(e,t){return new this(e).mod(t)}function ek(e,t){return new this(e).mul(t)}function eD(e,t){return new this(e).pow(t)}function eU(e){var t,r,n,i,s=0,o=new this(1),a=[];if(void 0===e?e=this.precision:L(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));s<n;)(i=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);s<n;)(i=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(i%1e7),s+=4);s=n/4}else throw Error(x);else for(;s<n;)a[s++]=1e7*Math.random()|0;for(n=a[--s],e%=7,n&&e&&(i=S(10,7-e),a[s]=(n/i|0)*i);0===a[s];s--)a.pop();if(s<0)r=0,a=[0];else{for(r=-1;0===a[0];r-=7)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return o.e=r,o.d=a,o}function eM(e){return K(e=new this(e),e.e+1,this.rounding)}function eL(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function ej(e){return new this(e).sin()}function eB(e){return new this(e).sinh()}function eW(e){return new this(e).sqrt()}function eK(e,t){return new this(e).sub(t)}function eH(){var e=0,t=arguments,r=new this(t[0]);for(E=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return E=!0,K(r,this.precision,this.rounding)}function eF(e){return new this(e).tan()}function eq(e){return new this(e).tanh()}function eX(e){return K(e=new this(e),e.e+1,1)}U[Symbol.for("nodejs.util.inspect.custom")]=U.toString,U[Symbol.toStringTag]="Decimal";var eV=U.constructor=function e(t){var r,n,i;function s(e){var t,r,n;if(!(this instanceof s))return new s(e);if(this.constructor=s,ex(e)){this.s=e.s,E?!e.d||e.e>s.maxE?(this.e=NaN,this.d=null):e.e<s.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;E?t>s.maxE?(this.e=NaN,this.d=null):t<s.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return ee(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),P.test(e)?ee(this,e):function(e,t){var r,n,i,s,o,a,c,l,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),P.test(t))return ee(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(R.test(t))r=16,t=t.toLowerCase();else if(T.test(t))r=2;else if(I.test(t))r=8;else throw Error(_+t);for((s=t.search(/p/i))>0?(c=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),o=(s=t.indexOf("."))>=0,n=e.constructor,o&&(s=(a=(t=t.replace(".","")).length)-s,i=$(n,new n(r),s,2*s)),s=d=(l=B(t,r,1e7)).length-1;0===l[s];--s)l.pop();return s<0?new n(0*e.s):(e.e=F(l,d),e.d=l,E=!1,o&&(e=W(e,i,4*a)),c&&(e=e.times(54>Math.abs(c)?S(2,c):eV.pow(2,c))),E=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,ee(this,e.toString());throw Error(_+e)}if(s.prototype=U,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=eb,s.clone=e,s.isDecimal=ex,s.abs=eo,s.acos=ea,s.acosh=ec,s.add=el,s.asin=ed,s.asinh=eh,s.atan=eu,s.atanh=ep,s.atan2=ef,s.cbrt=eg,s.ceil=em,s.clamp=ey,s.cos=ev,s.cosh=ew,s.div=eE,s.exp=eC,s.floor=e_,s.hypot=eO,s.ln=eN,s.log=eA,s.log10=eT,s.log2=eS,s.max=eR,s.min=eI,s.mod=eP,s.mul=ek,s.pow=eD,s.random=eU,s.round=eM,s.sign=eL,s.sin=ej,s.sinh=eB,s.sqrt=eW,s.sub=eK,s.sum=eH,s.tan=eF,s.tanh=eq,s.trunc=eX,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return s.config(t),s}(w);function ez(e,t){return function(){return e.apply(t,arguments)}}b=new eV(b),v=new eV(v);var e$=r(87358);let{toString:eG}=Object.prototype,{getPrototypeOf:eJ}=Object,{iterator:eZ,toStringTag:eY}=Symbol,eQ=(e=>t=>{let r=eG.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),e0=e=>(e=e.toLowerCase(),t=>eQ(t)===e),e1=e=>t=>typeof t===e,{isArray:e2}=Array,e5=e1("undefined");function e6(e){return null!==e&&!e5(e)&&null!==e.constructor&&!e5(e.constructor)&&e8(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}let e3=e0("ArrayBuffer"),e4=e1("string"),e8=e1("function"),e9=e1("number"),e7=e=>null!==e&&"object"==typeof e,te=e=>{if("object"!==eQ(e))return!1;let t=eJ(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(eY in e)&&!(eZ in e)},tt=e0("Date"),tr=e0("File"),tn=e0("Blob"),ti=e0("FileList"),ts=e0("URLSearchParams"),[to,ta,tc,tl]=["ReadableStream","Request","Response","Headers"].map(e0);function td(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e)if("object"!=typeof e&&(e=[e]),e2(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;if(e6(e))return;let s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(n=0;n<o;n++)i=s[n],t.call(null,e[i],i,e)}}function th(e,t){let r;if(e6(e))return null;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let tu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,tp=e=>!e5(e)&&e!==tu,tf=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&eJ(Uint8Array)),tg=e0("HTMLFormElement"),tm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),ty=e0("RegExp"),tb=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};td(r,(r,i)=>{let s;!1!==(s=t(r,i,e))&&(n[i]=s||r)}),Object.defineProperties(e,n)},tv=e0("AsyncFunction"),tw=(s="function"==typeof setImmediate,o=e8(tu.postMessage),s?setImmediate:o?((e,t)=>(tu.addEventListener("message",({source:r,data:n})=>{r===tu&&n===e&&t.length&&t.shift()()},!1),r=>{t.push(r),tu.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e)),tE="undefined"!=typeof queueMicrotask?queueMicrotask.bind(tu):void 0!==e$&&e$.nextTick||tw,tC={isArray:e2,isArrayBuffer:e3,isBuffer:e6,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||e8(e.append)&&("formdata"===(t=eQ(e))||"object"===t&&e8(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e3(e.buffer)},isString:e4,isNumber:e9,isBoolean:e=>!0===e||!1===e,isObject:e7,isPlainObject:te,isEmptyObject:e=>{if(!e7(e)||e6(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:to,isRequest:ta,isResponse:tc,isHeaders:tl,isUndefined:e5,isDate:tt,isFile:tr,isBlob:tn,isRegExp:ty,isFunction:e8,isStream:e=>e7(e)&&e8(e.pipe),isURLSearchParams:ts,isTypedArray:tf,isFileList:ti,forEach:td,merge:function e(){let{caseless:t,skipUndefined:r}=tp(this)&&this||{},n={},i=(i,s)=>{let o=t&&th(n,s)||s;te(n[o])&&te(i)?n[o]=e(n[o],i):te(i)?n[o]=e({},i):e2(i)?n[o]=i.slice():r&&e5(i)||(n[o]=i)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&td(arguments[e],i);return n},extend:(e,t,r,{allOwnKeys:n}={})=>(td(t,(t,n)=>{r&&e8(t)?e[n]=ez(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==r&&eJ(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:eQ,kindOfTest:e0,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(e2(e))return e;let t=e.length;if(!e9(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r,n=(e&&e[eZ]).call(e);for(;(r=n.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r,n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:tg,hasOwnProperty:tm,hasOwnProp:tm,reduceDescriptors:tb,freezeMethods:e=>{tb(e,(t,r)=>{if(e8(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;if(e8(e[r])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e2(e)?e:String(e).split(t)).forEach(e=>{r[e]=!0}),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e*=1)?e:t,findKey:th,global:tu,isContextDefined:tp,isSpecCompliantForm:function(e){return!!(e&&e8(e.append)&&"FormData"===e[eY]&&e[eZ])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(e7(e)){if(t.indexOf(e)>=0)return;if(e6(e))return e;if(!("toJSON"in e)){t[n]=e;let i=e2(e)?[]:{};return td(e,(e,t)=>{let s=r(e,n+1);e5(s)||(i[t]=s)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:tv,isThenable:e=>e&&(e7(e)||e8(e))&&e8(e.then)&&e8(e.catch),setImmediate:tw,asap:tE,isIterable:e=>null!=e&&e8(e[eZ])};function t_(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}tC.inherits(t_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tC.toJSONObject(this.config),code:this.code,status:this.status}}});let tO=t_.prototype,tx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tx[e]={value:e}}),Object.defineProperties(t_,tx),Object.defineProperty(tO,"isAxiosError",{value:!0}),t_.from=(e,t,r,n,i,s)=>{let o=Object.create(tO);tC.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);let a=e&&e.message?e.message:"Error",c=null==t&&e?e.code:t;return t_.call(o,a,c,r,n,i),e&&null==o.cause&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};var tN=r(81029).hp;function tA(e){return tC.isPlainObject(e)||tC.isArray(e)}function tS(e){return tC.endsWith(e,"[]")?e.slice(0,-2):e}function tT(e,t,r){return e?e.concat(t).map(function(e,t){return e=tS(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}let tR=tC.toFlatObject(tC,{},null,function(e){return/^is[A-Z]/.test(e)}),tI=function(e,t,r){if(!tC.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let n=(r=tC.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!tC.isUndefined(t[e])})).metaTokens,i=r.visitor||l,s=r.dots,o=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&tC.isSpecCompliantForm(t);if(!tC.isFunction(i))throw TypeError("visitor must be a function");function c(e){if(null===e)return"";if(tC.isDate(e))return e.toISOString();if(tC.isBoolean(e))return e.toString();if(!a&&tC.isBlob(e))throw new t_("Blob is not supported. Use a Buffer instead.");return tC.isArrayBuffer(e)||tC.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):tN.from(e):e}function l(e,r,i){let a=e;if(e&&!i&&"object"==typeof e)if(tC.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var l;if(tC.isArray(e)&&(l=e,tC.isArray(l)&&!l.some(tA))||(tC.isFileList(e)||tC.endsWith(r,"[]"))&&(a=tC.toArray(e)))return r=tS(r),a.forEach(function(e,n){tC.isUndefined(e)||null===e||t.append(!0===o?tT([r],n,s):null===o?r:r+"[]",c(e))}),!1}return!!tA(e)||(t.append(tT(i,r,s),c(e)),!1)}let d=[],h=Object.assign(tR,{defaultVisitor:l,convertValue:c,isVisitable:tA});if(!tC.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!tC.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),tC.forEach(r,function(r,s){!0===(!(tC.isUndefined(r)||null===r)&&i.call(t,r,tC.isString(s)?s.trim():s,n,h))&&e(r,n?n.concat(s):[s])}),d.pop()}}(e),t};function tP(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function tk(e,t){this._pairs=[],e&&tI(e,this,t)}let tD=tk.prototype;function tU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tM(e,t,r){let n;if(!t)return e;let i=r&&r.encode||tU;tC.isFunction(r)&&(r={serialize:r});let s=r&&r.serialize;if(n=s?s(t,r):tC.isURLSearchParams(t)?t.toString():new tk(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}tD.append=function(e,t){this._pairs.push([e,t])},tD.toString=function(e){let t=e?function(t){return e.call(this,t,tP)}:tP;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class tL{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tC.forEach(this.handlers,function(t){null!==t&&e(t)})}}let tj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tB="undefined"!=typeof URLSearchParams?URLSearchParams:tk,tW="undefined"!=typeof FormData?FormData:null,tK="undefined"!=typeof Blob?Blob:null,tH="undefined"!=typeof window&&"undefined"!=typeof document,tF="object"==typeof navigator&&navigator||void 0,tq=tH&&(!tF||0>["ReactNative","NativeScript","NS"].indexOf(tF.product)),tX="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,tV=tH&&window.location.href||"http://localhost",tz={...u,isBrowser:!0,classes:{URLSearchParams:tB,FormData:tW,Blob:tK},protocols:["http","https","file","blob","url","data"]},t$=function(e){if(tC.isFormData(e)&&tC.isFunction(e.entries)){let t={};return tC.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&tC.isArray(n)?n.length:s,a)?tC.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r:(n[s]&&tC.isObject(n[s])||(n[s]=[]),e(t,r,n[s],i)&&tC.isArray(n[s])&&(n[s]=function(e){let t,r,n={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)n[r=i[t]]=e[r];return n}(n[s]))),!o}(tC.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null},tG={transitional:tj,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let r,n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=tC.isObject(e);if(s&&tC.isHTMLForm(e)&&(e=new FormData(e)),tC.isFormData(e))return i?JSON.stringify(t$(e)):e;if(tC.isArrayBuffer(e)||tC.isBuffer(e)||tC.isStream(e)||tC.isFile(e)||tC.isBlob(e)||tC.isReadableStream(e))return e;if(tC.isArrayBufferView(e))return e.buffer;if(tC.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,tI(o,new tz.classes.URLSearchParams,{visitor:function(e,t,r,n){return tz.isNode&&tC.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)},...a})).toString()}if((r=tC.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return tI(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(s||i){t.setContentType("application/json",!1);var c=e;if(tC.isString(c))try{return(0,JSON.parse)(c),tC.trim(c)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(c)}return e}],transformResponse:[function(e){let t=this.transitional||tG.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(tC.isResponse(e)||tC.isReadableStream(e))return e;if(e&&tC.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e,this.parseReviver)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw t_.from(e,t_.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tz.classes.FormData,Blob:tz.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tC.forEach(["delete","get","head","post","put","patch"],e=>{tG.headers[e]={}});let tJ=tC.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tZ=Symbol("internals");function tY(e){return e&&String(e).trim().toLowerCase()}function tQ(e){return!1===e||null==e?e:tC.isArray(e)?e.map(tQ):String(e)}function t0(e,t,r,n,i){if(tC.isFunction(n))return n.call(this,t,r);if(i&&(t=r),tC.isString(t)){if(tC.isString(n))return -1!==t.indexOf(n);if(tC.isRegExp(n))return n.test(t)}}class t1{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=tY(t);if(!i)throw Error("header name must be a non-empty string");let s=tC.findKey(n,i);s&&void 0!==n[s]&&!0!==r&&(void 0!==r||!1===n[s])||(n[s||t]=tQ(e))}let s=(e,t)=>tC.forEach(e,(e,r)=>i(e,r,t));if(tC.isPlainObject(e)||e instanceof this.constructor)s(e,t);else{let n;if(tC.isString(e)&&(e=e.trim())&&(n=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim())))s((e=>{let t,r,n,i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&tJ[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i})(e),t);else if(tC.isObject(e)&&tC.isIterable(e)){let r={},n,i;for(let t of e){if(!tC.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?tC.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&i(t,e,r)}return this}get(e,t){if(e=tY(e)){let r=tC.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t){let t,r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}if(tC.isFunction(t))return t.call(this,e,r);if(tC.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tY(e)){let r=tC.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||t0(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=tY(e)){let i=tC.findKey(r,e);i&&(!t||t0(r,r[i],i,t))&&(delete r[i],n=!0)}}return tC.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||t0(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return tC.forEach(this,(n,i)=>{let s=tC.findKey(r,i);if(s){t[s]=tQ(n),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();o!==i&&delete t[i],t[o]=tQ(n),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return tC.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&tC.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=(this[tZ]=this[tZ]={accessors:{}}).accessors,r=this.prototype;function n(e){let n=tY(e);if(!t[n]){let i=tC.toCamelCase(" "+e);["get","set","has"].forEach(t=>{Object.defineProperty(r,t+i,{value:function(r,n,i){return this[t].call(this,e,r,n,i)},configurable:!0})}),t[n]=!0}}return tC.isArray(e)?e.forEach(n):n(e),this}}function t2(e,t){let r=this||tG,n=t||r,i=t1.from(n.headers),s=n.data;return tC.forEach(e,function(e){s=e.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function t5(e){return!!(e&&e.__CANCEL__)}function t6(e,t,r){t_.call(this,null==e?"canceled":e,t_.ERR_CANCELED,t,r),this.name="CanceledError"}function t3(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new t_("Request failed with status code "+r.status,[t_.ERR_BAD_REQUEST,t_.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}t1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tC.reduceDescriptors(t1.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),tC.freezeMethods(t1),tC.inherits(t6,t_,{__CANCEL__:!0});let t4=function(e,t){let r,n=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let c=Date.now(),l=i[o];r||(r=c),n[s]=a,i[s]=c;let d=o,h=0;for(;d!==s;)h+=n[d++],d%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),c-r<t)return;let u=l&&c-l;return u?Math.round(1e3*h/u):void 0}},t8=function(e,t){let r,n,i=0,s=1e3/t,o=(t,s=Date.now())=>{i=s,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[(...e)=>{let t=Date.now(),a=t-i;a>=s?o(e,t):(r=e,n||(n=setTimeout(()=>{n=null,o(r)},s-a)))},()=>r&&o(r)]},t9=(e,t,r=3)=>{let n=0,i=t4(50,250);return t8(r=>{let s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-n,c=i(a);n=s,e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&s<=o?(o-s)/c:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})},r)},t7=(e,t)=>{let r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},re=e=>(...t)=>tC.asap(()=>e(...t)),rt=tz.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tz.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tz.origin),tz.navigator&&/(msie|trident)/i.test(tz.navigator.userAgent)):()=>!0,rr=tz.hasStandardBrowserEnv?{write(e,t,r,n,i,s){let o=[e+"="+encodeURIComponent(t)];tC.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),tC.isString(n)&&o.push("path="+n),tC.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function rn(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||!1==r)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let ri=e=>e instanceof t1?{...e}:e;function rs(e,t){t=t||{};let r={};function n(e,t,r,n){return tC.isPlainObject(e)&&tC.isPlainObject(t)?tC.merge.call({caseless:n},e,t):tC.isPlainObject(t)?tC.merge({},t):tC.isArray(t)?t.slice():t}function i(e,t,r,i){return tC.isUndefined(t)?tC.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function s(e,t){if(!tC.isUndefined(t))return n(void 0,t)}function o(e,t){return tC.isUndefined(t)?tC.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,s){return s in t?n(r,i):s in e?n(void 0,r):void 0}let c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,r)=>i(ri(e),ri(t),r,!0)};return tC.forEach(Object.keys({...e,...t}),function(n){let s=c[n]||i,o=s(e[n],t[n],n);tC.isUndefined(o)&&s!==a||(r[n]=o)}),r}let ro=e=>{let t=rs({},e),{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;if(t.headers=o=t1.from(o),t.url=tM(rn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),tC.isFormData(r)){if(tz.hasStandardBrowserEnv||tz.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(tC.isFunction(r.getHeaders)){let e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,r])=>{t.includes(e.toLowerCase())&&o.set(e,r)})}}if(tz.hasStandardBrowserEnv&&(n&&tC.isFunction(n)&&(n=n(t)),n||!1!==n&&rt(t.url))){let e=i&&s&&rr.read(s);e&&o.set(i,e)}return t},ra="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){let n,i,s,o,a,c=ro(e),l=c.data,d=t1.from(c.headers).normalize(),{responseType:h,onUploadProgress:u,onDownloadProgress:p}=c;function f(){o&&o(),a&&a(),c.cancelToken&&c.cancelToken.unsubscribe(n),c.signal&&c.signal.removeEventListener("abort",n)}let g=new XMLHttpRequest;function m(){if(!g)return;let n=t1.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());t3(function(e){t(e),f()},function(e){r(e),f()},{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(c.method.toUpperCase(),c.url,!0),g.timeout=c.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(r(new t_("Request aborted",t_.ECONNABORTED,e,g)),g=null)},g.onerror=function(t){let n=new t_(t&&t.message?t.message:"Network Error",t_.ERR_NETWORK,e,g);n.event=t||null,r(n),g=null},g.ontimeout=function(){let t=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",n=c.transitional||tj;c.timeoutErrorMessage&&(t=c.timeoutErrorMessage),r(new t_(t,n.clarifyTimeoutError?t_.ETIMEDOUT:t_.ECONNABORTED,e,g)),g=null},void 0===l&&d.setContentType(null),"setRequestHeader"in g&&tC.forEach(d.toJSON(),function(e,t){g.setRequestHeader(t,e)}),tC.isUndefined(c.withCredentials)||(g.withCredentials=!!c.withCredentials),h&&"json"!==h&&(g.responseType=c.responseType),p&&([s,a]=t9(p,!0),g.addEventListener("progress",s)),u&&g.upload&&([i,o]=t9(u),g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",o)),(c.cancelToken||c.signal)&&(n=t=>{g&&(r(!t||t.type?new t6(null,e,g):t),g.abort(),g=null)},c.cancelToken&&c.cancelToken.subscribe(n),c.signal&&(c.signal.aborted?n():c.signal.addEventListener("abort",n)));let y=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c.url);if(y&&-1===tz.protocols.indexOf(y))return void r(new t_("Unsupported protocol "+y+":",t_.ERR_BAD_REQUEST,e));g.send(l||null)})},rc=function*(e,t){let r,n=e.byteLength;if(!t||n<t)return void(yield e);let i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},rl=async function*(e,t){for await(let r of rd(e))yield*rc(r,t)},rd=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);let t=e.getReader();try{for(;;){let{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},rh=(e,t,r,n)=>{let i,s=rl(e,t),o=0,a=e=>{!i&&(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{let{done:t,value:n}=await s.next();if(t){a(),e.close();return}let i=n.byteLength;if(r){let e=o+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),s.return())},{highWaterMark:2})},{isFunction:ru}=tC,rp=(({fetch:e,Request:t,Response:r})=>({fetch:e,Request:t,Response:r}))(tC.global),{ReadableStream:rf,TextEncoder:rg}=tC.global,rm=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ry=e=>{let t,{fetch:r,Request:n,Response:i}=Object.assign({},rp,e),s=ru(r),o=ru(n),a=ru(i);if(!s)return!1;let c=s&&ru(rf),l=s&&("function"==typeof rg?(t=new rg,e=>t.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer())),d=o&&c&&rm(()=>{let e=!1,t=new n(tz.origin,{body:new rf,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=a&&c&&rm(()=>tC.isReadableStream(new i("").body)),u={stream:h&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{u[e]||(u[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new t_(`Response type '${e}' is not supported`,t_.ERR_NOT_SUPPORT,r)})});let p=async e=>{if(null==e)return 0;if(tC.isBlob(e))return e.size;if(tC.isSpecCompliantForm(e)){let t=new n(tz.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return tC.isArrayBufferView(e)||tC.isArrayBuffer(e)?e.byteLength:(tC.isURLSearchParams(e)&&(e+=""),tC.isString(e))?(await l(e)).byteLength:void 0},f=async(e,t)=>{let r=tC.toFiniteNumber(e.getContentLength());return null==r?p(t):r};return async e=>{let t,{url:s,method:a,data:c,signal:l,cancelToken:p,timeout:g,onDownloadProgress:m,onUploadProgress:y,responseType:b,headers:v,withCredentials:w="same-origin",fetchOptions:E}=ro(e);b=b?(b+"").toLowerCase():"text";let C=((e,t)=>{let{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController,i=function(e){if(!r){r=!0,o();let t=e instanceof Error?e:this.reason;n.abort(t instanceof t_?t:new t6(t instanceof Error?t.message:t))}},s=t&&setTimeout(()=>{s=null,i(new t_(`timeout ${t} of ms exceeded`,t_.ETIMEDOUT))},t),o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));let{signal:a}=n;return a.unsubscribe=()=>tC.asap(o),a}})([l,p&&p.toAbortSignal()],g),_=null,O=C&&C.unsubscribe&&(()=>{C.unsubscribe()});try{if(y&&d&&"get"!==a&&"head"!==a&&0!==(t=await f(v,c))){let e,r=new n(s,{method:"POST",body:c,duplex:"half"});if(tC.isFormData(c)&&(e=r.headers.get("content-type"))&&v.setContentType(e),r.body){let[e,n]=t7(t,t9(re(y)));c=rh(r.body,65536,e,n)}}tC.isString(w)||(w=w?"include":"omit");let l=o&&"credentials"in n.prototype,p={...E,signal:C,method:a.toUpperCase(),headers:v.normalize().toJSON(),body:c,duplex:"half",credentials:l?w:void 0};_=o&&new n(s,p);let g=await (o?r(_,E):r(s,p)),x=h&&("stream"===b||"response"===b);if(h&&(m||x&&O)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=g[t]});let t=tC.toFiniteNumber(g.headers.get("content-length")),[r,n]=m&&t7(t,t9(re(m),!0))||[];g=new i(rh(g.body,65536,r,()=>{n&&n(),O&&O()}),e)}b=b||"text";let N=await u[tC.findKey(u,b)||"text"](g,e);return!x&&O&&O(),await new Promise((t,r)=>{t3(t,r,{data:N,headers:t1.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:_})})}catch(t){if(O&&O(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new t_("Network Error",t_.ERR_NETWORK,e,_),{cause:t.cause||t});throw t_.from(t,t&&t.code,e,_)}}},rb=new Map,rv=e=>{let t=tC.merge.call({skipUndefined:!0},rp,e?e.env:null),{fetch:r,Request:n,Response:i}=t,s=[n,i,r],o=s.length,a,c,l=rb;for(;o--;)a=s[o],void 0===(c=l.get(a))&&l.set(a,c=o?new Map:ry(t)),l=c;return c};rv();let rw={http:null,xhr:ra,fetch:{get:rv}};tC.forEach(rw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let rE=e=>`- ${e}`,rC=e=>tC.isFunction(e)||null===e||!1===e,r_={getAdapter:(e,t)=>{let r,n,{length:i}=e=tC.isArray(e)?e:[e],s={};for(let o=0;o<i;o++){let i;if(n=r=e[o],!rC(r)&&void 0===(n=rw[(i=String(r)).toLowerCase()]))throw new t_(`Unknown adapter '${i}'`);if(n&&(tC.isFunction(n)||(n=n.get(t))))break;s[i||"#"+o]=n}if(!n){let e=Object.entries(s).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new t_("There is no suitable adapter to dispatch the request "+(i?e.length>1?"since :\n"+e.map(rE).join("\n"):" "+rE(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n}};function rO(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new t6(null,e)}function rx(e){return rO(e),e.headers=t1.from(e.headers),e.data=t2.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),r_.getAdapter(e.adapter||tG.adapter,e)(e).then(function(t){return rO(e),t.data=t2.call(e,e.transformResponse,t),t.headers=t1.from(t.headers),t},function(t){return!t5(t)&&(rO(e),t&&t.response&&(t.response.data=t2.call(e,e.transformResponse,t.response),t.response.headers=t1.from(t.response.headers))),Promise.reject(t)})}let rN="1.12.1",rA={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rA[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let rS={};rA.transitional=function(e,t,r){function n(e,t){return"[Axios v"+rN+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,s)=>{if(!1===e)throw new t_(n(i," has been removed"+(t?" in "+t:"")),t_.ERR_DEPRECATED);return t&&!rS[i]&&(rS[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},rA.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};let rT={assertOptions:function(e,t,r){if("object"!=typeof e)throw new t_("options must be an object",t_.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let s=n[i],o=t[s];if(o){let t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new t_("option "+s+" must be "+r,t_.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new t_("Unknown option "+s,t_.ERR_BAD_OPTION)}},validators:rA},rR=rT.validators;class rI{constructor(e){this.defaults=e||{},this.interceptors={request:new tL,response:new tL}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=rs(this.defaults,t);void 0!==i&&rT.assertOptions(i,{silentJSONParsing:rR.transitional(rR.boolean),forcedJSONParsing:rR.transitional(rR.boolean),clarifyTimeoutError:rR.transitional(rR.boolean)},!1),null!=s&&(tC.isFunction(s)?t.paramsSerializer={serialize:s}:rT.assertOptions(s,{encode:rR.function,serialize:rR.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rT.assertOptions(t,{baseUrl:rR.spelling("baseURL"),withXsrfToken:rR.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&tC.merge(o.common,o[t.method]);o&&tC.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=t1.concat(a,o);let c=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});let h=0;if(!l){let e=[rx.bind(this),void 0];for(e.unshift(...c),e.push(...d),n=e.length,r=Promise.resolve(t);h<n;)r=r.then(e[h++],e[h++]);return r}n=c.length;let u=t;for(h=0;h<n;){let e=c[h++],t=c[h++];try{u=e(u)}catch(e){t.call(this,e);break}}try{r=rx.call(this,u)}catch(e){return Promise.reject(e)}for(h=0,n=d.length;h<n;)r=r.then(d[h++],d[h++]);return r}getUri(e){return tM(rn((e=rs(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}tC.forEach(["delete","get","head","options"],function(e){rI.prototype[e]=function(t,r){return this.request(rs(r||{},{method:e,url:t,data:(r||{}).data}))}}),tC.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(rs(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}rI.prototype[e]=t(),rI.prototype[e+"Form"]=t(!0)});class rP{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t,n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new t6(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason)return void e(this.reason);this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rP(function(t){e=t}),cancel:e}}}let rk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rk).forEach(([e,t])=>{rk[t]=e});let rD=function e(t){let r=new rI(t),n=ez(rI.prototype.request,r);return tC.extend(n,rI.prototype,r,{allOwnKeys:!0}),tC.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(rs(t,r))},n}(tG);rD.Axios=rI,rD.CanceledError=t6,rD.CancelToken=rP,rD.isCancel=t5,rD.VERSION=rN,rD.toFormData=tI,rD.AxiosError=t_,rD.Cancel=rD.CanceledError,rD.all=function(e){return Promise.all(e)},rD.spread=function(e){return function(t){return e.apply(null,t)}},rD.isAxiosError=function(e){return tC.isObject(e)&&!0===e.isAxiosError},rD.mergeConfig=rs,rD.AxiosHeaders=t1,rD.formToJSON=e=>t$(tC.isHTMLForm(e)?new FormData(e):e),rD.getAdapter=r_.getAdapter,rD.HttpStatusCode=rk,rD.default=rD;var rU=r(94820);class rM extends Error{}rM.prototype.name="InvalidTokenError";let rL={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},rj=new Uint8Array(16),rB=[];for(let e=0;e<256;++e)rB.push((e+256).toString(16).slice(1));let rW=function(e,t,r){if(rL.randomUUID&&!t&&!e)return rL.randomUUID();let i=(e=e||{}).random??e.rng?.()??function(){if(!n){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");n=crypto.getRandomValues.bind(crypto)}return n(rj)}();if(i.length<16)throw Error("Random bytes length must be >= 16");if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=i[e];return t}return function(e,t=0){return(rB[e[t+0]]+rB[e[t+1]]+rB[e[t+2]]+rB[e[t+3]]+"-"+rB[e[t+4]]+rB[e[t+5]]+"-"+rB[e[t+6]]+rB[e[t+7]]+"-"+rB[e[t+8]]+rB[e[t+9]]+"-"+rB[e[t+10]]+rB[e[t+11]]+rB[e[t+12]]+rB[e[t+13]]+rB[e[t+14]]+rB[e[t+15]]).toLowerCase()}(i)};var rK=r(50683),rH=r.n(rK),rF=r(12319),rq=r(45553),rX=r(52617),rV=r(67243),rz=r(71305),r$=r(10899),rG=r(70417),rJ=r(3824),rZ=r(6578),rY=r(72880),rQ=r(28977),r0=r(55480),r1=r(58051),r2=r(93481),r5=r(45069),r6=r(58653),r3=r(52502),r4=r(32009),r8=r(79355),r9=r(8567),r7=r(89600),ne=r(17389),nt=r(73537),nr=r(56362);class nn{constructor(){}static getInstance({projectId:e,chainId:t,enableLogger:r,onTimeout:n,abortController:i,getActiveCaipNetwork:s,getCaipNetworks:o}){return nn.instance||(nn.instance=new nr.Y({projectId:e,chainId:t,enableLogger:r,onTimeout:n,abortController:i,getActiveCaipNetwork:s,getCaipNetworks:o,enableCloudAuthAccount:!!r0.H.state.remoteFeatures?.emailCapture})),nn.instance}}var ni=r(61774),ns=r(65103),no=r(76190),na=r(44826),nc=r(62609),nl=r(14744),nd=r(4768),nh=r(63621),nu=r(81701),np=r(25654),nf=r(65374),ng=r(67869),nm=r(48981);r(91867);var ny=r(18635),nb=r(36211);let nv={extractVersion(e){if(!e||"string"!=typeof e)return null;let t=e.match(/(?<version>\d+(?:\.\d+){0,2})(?:-[a-zA-Z]+\.\d+)?/u);return t?.groups?.version||null},checkSDKVersion(e){let t=this.extractVersion(e),r=rq.o.IS_DEVELOPMENT;if(!t||!r)return;let n=r6.i.getLatestAppKitVersion();if(this.isValidVersion(n)&&this.isOlder(t,n))return void console.warn(r9.o.getSDKVersionWarningMessage(t,n));try{fetch("https://registry.npmjs.org/@reown/appkit/latest").then(e=>e.json()).then(e=>{let r=e.version;this.isOlder(t,r)&&(r6.i.updateLatestAppKitVersion({timestamp:Date.now(),version:r}),console.warn(r9.o.getSDKVersionWarningMessage(t,r)))})}catch(e){}},isValidVersion:e=>"string"==typeof e&&/^\d+\.\d+\.\d+$/u.test(e),isOlder(e,t){let r=this.extractVersion(e),n=this.extractVersion(t);if(!r||!n)return!1;function i(e){let t=e.split(".").map(Number);for(;t.length<3;)t.push(0);return t}let s=i(r),o=i(n);for(let e=0;e<Math.max(s.length,o.length);e+=1){let t=s[e]||0,r=o[e]||0;if(t<r)return!0;if(t>r)break}return!1}};var nw=r(44161);let nE={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:nw.$f.asset,84532:nw.sP.asset}},getTokenSymbolByAddress(e){if(!e)return;let[t]=Object.entries(nE.TOKEN_ADDRESSES_BY_SYMBOL).find(([t,r])=>Object.values(r).includes(e))??[];return t}};var nC=r(55283),n_=r(71018);let nO={createLogger(e,t="error"){let r=(0,n_.iP)({level:t}),{logger:n}=(0,n_.D5)({opts:r});return n.error=(...t)=>{for(let r of t)if(r instanceof Error)return void e(r,...t);e(void 0,...t)},n}},nx=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===n;)o++,s++;let c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){let n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=r*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");a=o,s++}let d=c-a;for(;d!==c&&0===l[d];)d++;let h=new Uint8Array(o+(c-d)),u=o;for(;d!==c;)h[u++]=l[d++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0,c=t.length;for(;a!==c&&0===t[a];)a++,i++;let l=(c-a)*s+1>>>0,d=new Uint8Array(l);for(;a!==c;){let e=t[a],n=0;for(let t=l-1;(0!==e||n<o)&&-1!==t;t--,n++)e+=256*d[t]>>>0,d[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");o=n,a++}let h=l-o;for(;h!==l&&0===d[h];)h++;let u=n.repeat(i);for(;h<l;++h)u+=e.charAt(d[h]);return u},decodeUnsafe:o,decode:function(e){let t=o(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var nN=r(34561),nA=r(75578);let nS={hexStringToNumber:e=>parseInt(e.startsWith("0x")?e.slice(2):e,16),numberToHexString:e=>`0x${e.toString(16)}`,async getUserInfo(e){let[t,r]=await Promise.all([nS.getAddresses(e),nS.getChainId(e)]);return{chainId:r,addresses:t}},getChainId:async e=>Number(await e.request({method:"eth_chainId"})),async getAddress(e){let[t]=await e.request({method:"eth_accounts"});return t},getAddresses:async e=>await e.request({method:"eth_accounts"}),async addEthereumChain(e,t){let r=t.rpcUrls.chainDefault?.http||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:nS.numberToHexString(t.id),rpcUrls:[...r],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[t.blockExplorers?.default.url],iconUrls:[nA.L.NetworkImageIds[t.id]]}]})}},nT={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function nR(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}let nI=nR({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),nP=nR({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});nR({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"}),nR({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}}),nR({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0}),nR({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});let nk={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},nD={getMethodsByChainNamespace:e=>nk[e]||[],createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};let r={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach(e=>n.add(e)),t.chains&&Object.keys(t.chains).forEach(e=>n.add(e)),t.events&&Object.keys(t.events).forEach(e=>n.add(e)),t.rpcMap&&Object.keys(t.rpcMap).forEach(e=>{let[t]=e.split(":");t&&n.add(t)}),n.forEach(e=>{r[e]||(r[e]=this.createDefaultNamespace(e))}),t.methods&&Object.entries(t.methods).forEach(([e,t])=>{r[e]&&(r[e].methods=t)}),t.chains&&Object.entries(t.chains).forEach(([e,t])=>{r[e]&&(r[e].chains=t)}),t.events&&Object.entries(t.events).forEach(([e,t])=>{r[e]&&(r[e].events=t)}),t.rpcMap){let e=new Set;Object.entries(t.rpcMap).forEach(([t,n])=>{let[i,s]=t.split(":");i&&s&&r[i]&&(r[i].rpcMap||(r[i].rpcMap={}),e.has(i)||(r[i].rpcMap={},e.add(i)),r[i].rpcMap[s]=n)})}return r},createNamespaces(e,t){let r=e.reduce((e,t)=>{let{id:r,chainNamespace:n,rpcUrls:i}=t,s=i.default.http[0];e[n]||(e[n]=this.createDefaultNamespace(n));let o=`${n}:${r}`,a=e[n];switch(a.chains.push(o),o){case nI.caipNetworkId:a.chains.push(nI.deprecatedCaipNetworkId);break;case nP.caipNetworkId:a.chains.push(nP.deprecatedCaipNetworkId)}return a?.rpcMap&&s&&(a.rpcMap[r]=s),e},{});return this.applyNamespaceOverrides(r,t)},resolveReownName:async e=>{let t=await nc.f.resolveName(e),r=Object.values(t?.addresses)||[];return r[0]?.address||!1},getChainsFromNamespaces:(e={})=>Object.values(e).flatMap(e=>Array.from(new Set([...e.chains||[],...e.accounts.map(e=>{let[t,r]=e.split(":");return`${t}:${r}`})]))),isSessionEventData:e=>"object"==typeof e&&null!==e&&"id"in e&&"topic"in e&&"params"in e&&"object"==typeof e.params&&null!==e.params&&"chainId"in e.params&&"event"in e.params&&"object"==typeof e.params.event&&null!==e.params.event,isOriginAllowed(e,t,r){for(let n of[...t,...r])if(n.includes("*")){let t=n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&");if(RegExp(`^${t.replace(/\\\*/gu,".*")}$`,"u").test(e))return!0}else try{if(new URL(n).origin===e)return!0}catch(t){if(n===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&e.on("connect",()=>{r(nD.getWalletConnectAccounts(e,t))}),n&&e.on("disconnect",()=>{n()}),i&&e.on("accountsChanged",r=>{try{let n=e.session?.namespaces?.[t]?.accounts||[],s=e.rpcProviders?.[t]?.getDefaultChain(),o=r.map(e=>{let r=n.find(r=>r.includes(`${t}:${s}:${e}`));if(!r)return;let{chainId:i,chainNamespace:o}=ns.C.parseCaipAddress(r);return{address:e,chainId:i,chainNamespace:o}}).filter(e=>void 0!==e);o.length>0&&i(o)}catch(e){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,r,e)}}),s&&e.on("chainChanged",e=>{s(e)}),o&&e.on("display_uri",e=>{o(e)})},getWalletConnectAccounts(e,t){let r=new Set,n=e?.session?.namespaces?.[t]?.accounts?.map(e=>ns.C.parseCaipAddress(e)).filter(({address:e})=>!r.has(e.toLowerCase())&&(r.add(e.toLowerCase()),!0));return n&&n.length>0?n:[]}};class nU{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case rq.o.CHAIN.EVM:await this.syncEVMConnections(e);break;case rq.o.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case rq.o.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:t,universalProvider:r,onConnection:n,onListenProvider:i}){await Promise.all(e.filter(e=>{let{hasDisconnected:t,hasConnected:r}=r8.y.getConnectorStorageInfo(e.id,this.namespace);return!t&&r}).map(async e=>{if(e.id===rq.o.CONNECTOR_ID.WALLET_CONNECT){let i=nD.getWalletConnectAccounts(r,this.namespace),s=t.find(e=>e.chainNamespace===this.namespace&&e.id.toString()===i[0]?.chainId?.toString());i.length>0&&n({connectorId:e.id,accounts:i.map(e=>({address:e.address})),caipNetwork:s})}else{let{accounts:r,chainId:s}=await nm.g.fetchProviderData(e);if(r.length>0&&s){let o=t.find(e=>e.chainNamespace===this.namespace&&e.id.toString()===s.toString());n({connectorId:e.id,accounts:r.map(e=>({address:e})),caipNetwork:o}),e.provider&&e.id!==rq.o.CONNECTOR_ID.AUTH&&e.id!==rq.o.CONNECTOR_ID.WALLET_CONNECT&&i(e.id,e.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:t,universalProvider:r,onConnection:n,onListenProvider:i}){await Promise.all(e.filter(e=>{let{hasDisconnected:t,hasConnected:r}=r8.y.getConnectorStorageInfo(e.id,this.namespace);return!t&&r}).map(async e=>{if(e.id===rq.o.CONNECTOR_ID.WALLET_CONNECT){let i=nD.getWalletConnectAccounts(r,this.namespace);i.length>0&&n({connectorId:e.id,accounts:i.map(e=>({address:e.address})),caipNetwork:t})}else{let r=await e.connect({chainId:t?.id});r&&(n({connectorId:e.id,accounts:[{address:r}],caipNetwork:t}),i(e.id,e.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:t,universalProvider:r,onConnection:n,onListenProvider:i}){await Promise.all(e.filter(e=>{let{hasDisconnected:t,hasConnected:r}=r8.y.getConnectorStorageInfo(e.id,this.namespace);return!t&&r}).map(async e=>{if(e.id===rq.o.CONNECTOR_ID.WALLET_CONNECT){let i=nD.getWalletConnectAccounts(r,this.namespace);i.length>0&&n({connectorId:e.id,accounts:i.map(e=>({address:e.address})),caipNetwork:t});return}let s=await e.connect(),o=await e.getAccountAddresses(),a=o?.map(e=>rF.w.createAccount(rq.o.CHAIN.BITCOIN,e.address,e.purpose||"payment",e.publicKey,e.path));if(a&&a.length>1&&(a=[{namespace:rq.o.CHAIN.BITCOIN,publicKey:a[nT.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:a[nT.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:a[nT.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:rq.o.CHAIN.BITCOIN,publicKey:a[nT.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:a[nT.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:a[nT.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(e.chains.find(e=>e.id===t?.id)||e.chains[0]))throw Error("The connector does not support any of the requested chains");s&&(i(e.id,e.provider),n({connectorId:e.id,accounts:a.map(e=>({address:e.address,type:e.type,publicKey:e.publicKey,path:e.path})),caipNetwork:t}))}))}getConnection({address:e,connectorId:t,connections:r,connectors:n}){if(t){let i=r.find(e=>r8.y.isLowerCaseMatch(e.connectorId,t));if(!i)return null;let s=n.find(e=>r8.y.isLowerCaseMatch(e.id,i.connectorId)),o=e?i.accounts.find(t=>r8.y.isLowerCaseMatch(t.address,e)):i.accounts[0];return{...i,account:o,connector:s}}let i=r.find(e=>e.accounts.length>0&&n.some(t=>r8.y.isLowerCaseMatch(t.id,e.connectorId)));if(i){let[e]=i.accounts,t=n.find(e=>r8.y.isLowerCaseMatch(e.id,i.connectorId));return{...i,account:e,connector:t}}return null}}let nM={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class nL{constructor({provider:e,namespace:t}){this.id=rq.o.CONNECTOR_ID.WALLET_CONNECT,this.name=nA.L.ConnectorNamesMap[rq.o.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=nA.L.ConnectorImageIds[rq.o.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=r2.W.getCaipNetworks.bind(r2.W),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){let e=this.getCaipNetworks(),t=r0.H.state.universalProviderConfigOverride,r=nD.createNamespaces(e,t);await this.provider.connect({optionalNamespaces:r})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let e=this.chains.map(e=>e.caipNetworkId);return rV.U.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:nj})}}let nj=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],nB=[rq.o.CONNECTOR_ID.AUTH,rq.o.CONNECTOR_ID.WALLET_CONNECT];class nW{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=e=>r2.W.getCaipNetworks(e),this.getConnectorId=e=>r$.a.getConnectorId(e),e&&this.construct(e),e?.namespace&&(this.connectionManager=new nU({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:t}){let r=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===t?.toString());e&&r&&this.addConnection({connectorId:rq.o.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:r})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:rq.o.CONNECTOR_ID.AUTH,type:"AUTH",name:rq.o.CONNECTOR_NAMES.AUTH,provider:e,imageId:nA.L.ConnectorImageIds[rq.o.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){let t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(e=>!t.has(e.id)&&(t.add(e.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){let t=new Set;this.availableConnections=[...e,...this.availableConnections].filter(e=>!t.has(e.connectorId.toLowerCase())&&(t.add(e.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(t=>!r8.y.isLowerCaseMatch(t.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,t){r1.U.setStatus(e,t)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){let r=this.eventListeners.get(e);r&&r.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){let r=this.eventListeners.get(e);r&&r.forEach(e=>e(t))}async connectWalletConnect(e){let t=this.getWalletConnectConnector();return{clientId:(await t.connectWalletConnect()).clientId}}async switchNetwork(e){let{caipNetwork:t,providerType:r}=e;if(!e.provider)return;let n="provider"in e.provider?e.provider.provider:e.provider;if("WALLET_CONNECT"===r)return void n.setDefaultChain(t.caipNetworkId);if(n&&"AUTH"===r){let e=(0,rz.lj)(t.chainNamespace);await n.switchNetwork({chainId:t.caipNetworkId});let r=await n.getUser({chainId:t.caipNetworkId,preferredAccountType:e});this.emit("switchNetwork",r)}}getWalletConnectConnector(){let e=this.connectors.find(e=>e instanceof nL);if(!e)throw Error("WalletConnectConnector not found");return e}onConnect(e,t){if(e.length>0){let{address:r,chainId:n}=rF.w.getAccount(e[0]),i=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===n?.toString()),s=this.connectors.find(e=>e.id===t);r&&(this.emit("accountChanged",{address:r,chainId:n,connector:s}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=rF.w.getAccount(e);return{address:t}}),caipNetwork:i}))}}onAccountsChanged(e,t,r=!0){if(e.length>0){let{address:r}=rF.w.getAccount(e[0]),n=this.connectionManager?.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors});r&&r8.y.isLowerCaseMatch(this.getConnectorId(rq.o.CHAIN.EVM),t)&&this.emit("accountChanged",{address:r,chainId:n?.caipNetwork?.id,connector:n?.connector}),this.addConnection({connectorId:t,accounts:e.map(e=>{let{address:t}=rF.w.getAccount(e);return{address:t}}),caipNetwork:n?.caipNetwork})}else r&&this.onDisconnect(t)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),r8.y.isLowerCaseMatch(this.getConnectorId(rq.o.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),0===this.connections.length&&this.emit("disconnect")}onChainChanged(e,t){let r="string"==typeof e&&e.startsWith("0x")?nS.hexStringToNumber(e).toString():e.toString(),n=this.connectionManager?.getConnection({connectorId:t,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(e=>e.chainNamespace===this.namespace).find(e=>e.id.toString()===r);n&&this.addConnection({connectorId:t,accounts:n.accounts,caipNetwork:i}),r8.y.isLowerCaseMatch(this.getConnectorId(rq.o.CHAIN.EVM),t)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(e,t){if(nB.includes(e))return;let r=t=>this.onAccountsChanged(t,e),n=t=>this.onChainChanged(t,e),i=()=>this.onDisconnect(e);this.providerHandlers[e]||(t.on("disconnect",i),t.on("accountsChanged",r),t.on("chainChanged",n),this.providerHandlers[e]={provider:t,disconnect:i,accountsChanged:r,chainChanged:n})}removeProviderListeners(e){if(this.providerHandlers[e]){let{provider:t,disconnect:r,accountsChanged:n,chainChanged:i}=this.providerHandlers[e];t.removeListener("disconnect",r),t.removeListener("accountsChanged",n),t.removeListener("chainChanged",i),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){let e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){let[t]=e.accounts;this.emit("accountChanged",{address:t?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class nK extends nW{async setUniversalProvider(e){if(!this.namespace)throw Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new nL({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{let e=this.getWalletConnectConnector();await e.disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){let t=this.provider;return Promise.resolve({accounts:(t?.session?.namespaces?.[e]?.accounts?.map(e=>{let[,,t]=e.split(":");return t}).filter((e,t,r)=>r.indexOf(e)===t)||[]).map(t=>rF.w.createAccount(e,t,"bip122"===e?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&rQ.oU.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(r1.U.state.balanceLoading&&e.chainId===r2.W.state.activeCaipNetwork?.id)return{balance:r1.U.state.balance||"0.00",symbol:r1.U.state.balanceSymbol||""};let t=(await r1.U.fetchTokenBalance()).find(t=>t.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&t.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:t?.quantity.numeric||"0.00",symbol:t?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){let{provider:t,message:r,address:n}=e;if(!t)throw Error("UniversalAdapter:signMessage - provider is undefined");return{signature:r2.W.state.activeCaipNetwork?.chainNamespace===rq.o.CHAIN.SOLANA?(await t.request({method:"solana_signMessage",params:{message:nx.encode(new TextEncoder().encode(r)),pubkey:n}},r2.W.state.activeCaipNetwork?.caipNetworkId)).signature:await t.request({method:"personal_sign",params:[r,n]},r2.W.state.activeCaipNetwork?.caipNetworkId)}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){let{caipNetwork:t}=e,r=this.getWalletConnectConnector();if(t.chainNamespace===rq.o.CHAIN.EVM)try{await r.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,nN.nj)(t.id)}]})}catch(e){if(e.code===nM.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||e.code===nM.ERROR_INVALID_CHAIN_ID||e.code===nM.ERROR_CODE_DEFAULT||e?.data?.originalError?.code===nM.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await r.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:(0,nN.nj)(t.id),rpcUrls:[t?.rpcUrls.chainDefault?.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[t.blockExplorers?.default.url]}]})}catch(e){throw Error("Chain is not supported")}}r.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){let e=this.connectors.find(e=>"WALLET_CONNECT"===e.type);return e?.provider}}let nH=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],nF={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t.filter(e=>"email"!==e)},processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.socials:"boolean"==typeof e?!!e&&rQ.oU.DEFAULT_REMOTE_FEATURES.socials:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t},processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.swaps:"boolean"==typeof e?!!e&&rQ.oU.DEFAULT_REMOTE_FEATURES.swaps:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return!!e.isEnabled&&t.length>0&&t},processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.onramp:"boolean"==typeof e?!!e&&rQ.oU.DEFAULT_REMOTE_FEATURES.onramp:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>rQ.oU.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>rQ.oU.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>rQ.oU.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>void 0===e?rQ.oU.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e}},nq={localSettingsOverridden:new Set,getApiConfig:(e,t)=>t?.find(t=>t.id===e),addWarning(e,t){if(void 0!==e){let e=nF[t],r=e.isLegacy?`"features.${e.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,r,n,i){let s=nF[e],o=t[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){let t=this.getApiConfig(s.apiFeatureName,r);return t?.config===null?this.processFallbackFeature(e,o):!!t?.config&&(void 0!==o&&this.addWarning(o,e),this.processApiFeature(e,t))}return this.processFallbackFeature(e,o)},processApiFeature:(e,t)=>nF[e].processApi(t),processFallbackFeature:(e,t)=>nF[e].processFallback(t),async fetchRemoteFeatures(e){let t=e.basic??!1,r=e.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{i=null!=(n=await rY.N.fetchProjectConfig())}catch(e){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",e)}let s=i&&!t?rQ.oU.DEFAULT_REMOTE_FEATURES:rQ.oU.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(let e of nH){let o=this.processFeature(e,r,n,i,t);Object.assign(s,{[e]:o})}}catch(e){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",e),rQ.oU.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){let e=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;r3.h.open({debugMessage:r7.R.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(e)},"warning")}return s}};class nX{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(e,t)=>{if(e){let r=r2.W.getCaipNetworks(e)?.find(e=>e.id===t);if(r)return r;let n=r2.W.getNetworkData(e)?.caipNetwork;if(n)return n;let i=r2.W.getRequestedCaipNetworks(e);return i.filter(t=>t.chainNamespace===e)?.[0]}return r2.W.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{let e=this.getCaipNetwork();if(e)return e.id},this.getCaipNetworks=e=>r2.W.getCaipNetworks(e),this.getActiveChainNamespace=()=>r2.W.state.activeChain,this.setRequestedCaipNetworks=(e,t)=>{r2.W.setRequestedCaipNetworks(e,t)},this.getApprovedCaipNetworkIds=()=>r2.W.getAllApprovedCaipNetworkIds(),this.getCaipAddress=e=>r2.W.state.activeChain!==e&&e?r2.W.state.chains.get(e)?.accountState?.caipAddress:r2.W.state.activeCaipAddress,this.setClientId=e=>{na.T.setClientId(e)},this.getProvider=e=>r4.G.getProvider(e),this.getProviderType=e=>r4.G.getProviderId(e),this.getPreferredAccountType=e=>(0,rz.lj)(e),this.setCaipAddress=(e,t)=>{r1.U.setCaipAddress(e,t)},this.setBalance=(e,t,r)=>{r1.U.setBalance(e,t,r)},this.setProfileName=(e,t)=>{r1.U.setProfileName(e,t)},this.setProfileImage=(e,t)=>{r1.U.setProfileImage(e,t)},this.setUser=(e,t)=>{r1.U.setUser(e,t)},this.resetAccount=e=>{r1.U.resetAccount(e)},this.setCaipNetwork=e=>{r2.W.setActiveCaipNetwork(e)},this.setCaipNetworkOfNamespace=(e,t)=>{r2.W.setChainNetworkData(t,{caipNetwork:e})},this.setStatus=(e,t)=>{r1.U.setStatus(e,t),r$.a.isConnected()?r6.i.setConnectionStatus("connected"):r6.i.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=e=>r2.W.state.chains.get(e)?.accountState?.address,this.setConnectors=e=>{let t=[...r$.a.state.allConnectors,...e];r$.a.setConnectors(t)},this.setConnections=(e,t)=>{r6.i.setConnections(e,t),rJ.x.setConnections(e,t)},this.fetchIdentity=e=>na.T.fetchIdentity(e),this.getReownName=e=>nc.f.getNamesForAddress(e),this.getConnectors=()=>r$.a.getConnectors(),this.getConnectorImage=e=>nl.$.getConnectorImage(e),this.getConnections=e=>this.remoteFeatures.multiWallet?nd.b.getConnectionsData(e).connections:(r3.h.open(rq.o.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=e=>this.remoteFeatures.multiWallet?nd.b.getConnectionsData(e).recentConnections:(r3.h.open(rq.o.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async e=>{if(!this.remoteFeatures.multiWallet)return void r3.h.open(rq.o.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");await rJ.x.switchConnection(e)},this.deleteConnection=e=>{if(!this.remoteFeatures.multiWallet)return void r3.h.open(rq.o.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");r6.i.deleteAddressFromConnection(e),rJ.x.syncStorageConnections()},this.setConnectedWalletInfo=(e,t)=>{let r=r4.G.getProviderId(t),n=e?{...e,type:r}:void 0;r1.U.setConnectedWalletInfo(n,t)},this.getIsConnectedState=()=>!!r2.W.state.activeCaipAddress,this.addAddressLabel=(e,t,r)=>{r1.U.addAddressLabel(e,t,r)},this.removeAddressLabel=(e,t)=>{r1.U.removeAddressLabel(e,t)},this.getAddress=e=>r2.W.state.activeChain!==e&&e?r2.W.state.chains.get(e)?.accountState?.address:r1.U.state.address,this.setApprovedCaipNetworksData=e=>r2.W.setApprovedCaipNetworksData(e),this.resetNetwork=e=>{r2.W.resetNetwork(e)},this.addConnector=e=>{r$.a.addConnector(e)},this.resetWcConnection=()=>{rJ.x.resetWcConnection()},this.setAddressExplorerUrl=(e,t)=>{r1.U.setAddressExplorerUrl(e,t)},this.setSmartAccountDeployed=(e,t)=>{r1.U.setSmartAccountDeployed(e,t)},this.setPreferredAccountType=(e,t)=>{r2.W.setAccountProp("preferredAccountType",e,t)},this.setEIP6963Enabled=e=>{r0.H.setEIP6963Enabled(e)},this.handleUnsafeRPCRequest=()=>{this.isOpen()?this.isTransactionStackEmpty()||this.redirect("ApproveTransaction"):this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e),nv.checkSDKVersion(e.sdkVersion)}getChainNamespacesSet(e,t){let r=e?.map(e=>e.namespace).filter(e=>!!e);return r?.length?[...new Set(r)]:[...new Set(t?.map(e=>e.chainNamespace))]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),r0.H.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await nq.fetchRemoteFeatures(e),r0.H.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&nh.aG.setOnrampProviders(this.remoteFeatures.onramp),(r0.H.state.remoteFeatures?.email||Array.isArray(r0.H.state.remoteFeatures?.socials)&&r0.H.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),r0.H.state.features?.reownAuthentication||r0.H.state.remoteFeatures?.reownAuthentication){let{ReownAuthentication:e}=await r.e(5803).then(r.bind(r,95803)),t=r0.H.state.siwx;t instanceof e||(t&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),r0.H.setSIWX(new e))}}async openSend(e){let t=e.namespace||r2.W.state.activeChain,r=this.getCaipAddress(t),n=this.getCaipNetwork(t)?.id;if(!r)throw Error("openSend: caipAddress not found");if(n?.toString()!==e.chainId.toString()){let r=r2.W.getCaipNetworkById(e.chainId,t);if(!r)throw Error(`openSend: caipNetwork with chainId ${e.chainId} not found`);await this.switchNetwork(r,{throwOnFailure:!0})}try{let t=nE.getTokenSymbolByAddress(e.assetAddress);t&&await rY.N.fetchTokenImages([t])}catch{}return await nu.W.open({view:"WalletSend",data:{send:e}}),new Promise((e,t)=>{let r=np.R.subscribeKey("hash",t=>{t&&(i(),e({hash:t}))}),n=nu.W.subscribe(e=>{e.open||(i(),t(Error("Modal closed")))}),i=this.createCleanupHandler([r,n])})}toModalOptions(){return{isSwap:function(e){return e?.view==="Swap"},isSend:function(e){return e?.view==="WalletSend"}}}async checkAllowedOrigins(){try{let e=await rY.N.fetchAllowedOrigins();if(!rF.w.isClient())return;let t=window.location.origin;nD.isOriginAllowed(t,e,nM.DEFAULT_ALLOWED_ANCESTORS)||r3.h.open(r7.R.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":r3.h.open(r7.R.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{let t=e.cause instanceof Error?e.cause:e;r3.h.open({displayMessage:r7.R.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:r7.R.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(t.message)},"error")}}}}createCleanupHandler(e){return()=>{e.forEach(e=>{try{e()}catch{}})}}sendInitializeEvent(e){let{...t}=e;delete t.adapters,delete t.universalProvider,rG.E.sendEvent({type:"track",event:"INITIALIZE",properties:{...t,networks:e.networks.map(e=>e.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&r5.W.setThemeMode(e.themeMode),e.themeVariables&&r5.W.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw Error("ConnectionControllerClient and NetworkControllerClient must be set");r2.W.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});let t=this.getDefaultNetwork();t&&r2.W.setActiveCaipNetwork(t)}initializeConnectionController(e){rJ.x.initialize(e.adapters??[]),rJ.x.setWcBasic(e.basic??!1)}initializeConnectorController(){r$.a.initialize(this.chainNamespaces)}initializeProjectSettings(e){r0.H.setProjectId(e.projectId),r0.H.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){r0.H.setDebug(!1!==e.debug),r0.H.setEnableWalletConnect(!1!==e.enableWalletConnect),r0.H.setEnableWalletGuide(!1!==e.enableWalletGuide),r0.H.setEnableWallets(!1!==e.enableWallets),r0.H.setEIP6963Enabled(!1!==e.enableEIP6963),r0.H.setEnableNetworkSwitch(!1!==e.enableNetworkSwitch),r0.H.setEnableReconnect(!1!==e.enableReconnect),r0.H.setEnableAuthLogger(!1!==e.enableAuthLogger),r0.H.setCustomRpcUrls(e.customRpcUrls),r0.H.setEnableEmbedded(e.enableEmbedded),r0.H.setAllWallets(e.allWallets),r0.H.setIncludeWalletIds(e.includeWalletIds),r0.H.setExcludeWalletIds(e.excludeWalletIds),r0.H.setFeaturedWalletIds(e.featuredWalletIds),r0.H.setTokens(e.tokens),r0.H.setTermsConditionsUrl(e.termsConditionsUrl),r0.H.setPrivacyPolicyUrl(e.privacyPolicyUrl),r0.H.setCustomWallets(e.customWallets),r0.H.setFeatures(e.features),r0.H.setAllowUnsupportedChain(e.allowUnsupportedChain),r0.H.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),r0.H.setPreferUniversalLinks(e.experimental_preferUniversalLinks),r0.H.setDefaultAccountTypes(e.defaultAccountTypes);let t=this.getDefaultMetaData();if(!e.metadata&&t&&(e.metadata=t),r0.H.setMetadata(e.metadata),r0.H.setDisableAppend(e.disableAppend),r0.H.setEnableEmbedded(e.enableEmbedded),r0.H.setSIWX(e.siwx),this.features=r0.H.state.features??{},!e.projectId)return void r3.h.open(r7.R.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");if(e.adapters?.find(e=>e.namespace===rq.o.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw Error("Cannot set both `siweConfig` and `siwx` options");r0.H.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return rF.w.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){let t=this.getActiveChainNamespace();if(t){let r=nC.R.getUnsupportedNetwork(`${t}:${e}`);r2.W.setActiveCaipNetwork(r)}}getDefaultNetwork(){return nC.R.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return nC.R.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return nC.R.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){let t=e.networks.find(t=>t.id===e.defaultNetwork?.id);return t?nC.R.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,t){try{this.setLoading(!0,e);let r={connections:[]},n=this.getAdapter(e);return(r2.W.state.chains.get(e)?.accountState?.caipAddress||!r0.H.state.enableReconnect)&&n?.disconnect&&(r=await n.disconnect({id:t})),this.setLoading(!1,e),r}catch(t){throw this.setLoading(!1,e),Error(`Failed to disconnect chains: ${t.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{let e=r2.W.state.activeChain,t=this.getAdapter(e),r=this.getCaipNetwork(e)?.id,n=rJ.x.getConnections(e),i=this.remoteFeatures.multiWallet,s=n.length>0;if(!t)throw Error("Adapter not found");let o=await t.connectWalletConnect(r);s&&i||this.close(),this.setClientId(o?.clientId||null),r6.i.setConnectedNamespaces([...r2.W.state.chains.keys()]),await this.syncWalletConnectAccount(),await rV.U.initializeIfEnabled()},connectExternal:async e=>{let t=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,t),t?{address:t.address}:void 0},reconnectExternal:async({id:e,info:t,type:r,provider:n})=>{let i=r2.W.state.activeChain,s=this.getAdapter(i);if(!i)throw Error("reconnectExternal: namespace not found");if(!s)throw Error("reconnectExternal: adapter not found");s?.reconnect&&(await s?.reconnect({id:e,info:t,type:r,provider:n,chainId:this.getCaipNetwork()?.id}),r6.i.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async e=>{let{id:t,chainNamespace:r,initialDisconnect:n}=e||{},i=r||r2.W.state.activeChain,s=r$.a.getConnectorId(i),o=t===rq.o.CONNECTOR_ID.AUTH||s===rq.o.CONNECTOR_ID.AUTH,a=t===rq.o.CONNECTOR_ID.WALLET_CONNECT||s===rq.o.CONNECTOR_ID.WALLET_CONNECT;try{let e=Array.from(r2.W.state.chains.keys()),i=r?[r]:e;(a||o)&&(i=e);let s=i.map(async e=>{let r=r$.a.getConnectorId(e),i=await this.disconnectNamespace(e,t||r);i&&(o&&r6.i.deleteConnectedSocialProvider(),i.connections.forEach(t=>{r6.i.addDisconnectedConnectorId(t.connectorId,e)})),n&&this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}),c=await Promise.allSettled(s);np.R.resetSend(),rJ.x.resetWcConnection(),rV.U.getSIWX()?.signOutOnDisconnect&&await rV.U.clearSessions(),r$.a.setFilterByNamespace(void 0),rJ.x.syncStorageConnections();let l=c.filter(e=>"rejected"===e.status);if(l.length>0)throw Error(l.map(e=>e.reason.message).join(", "));rG.E.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(e){throw Error(`Failed to disconnect chains: ${e.message}`)}},checkInstalled:e=>e?e.some(e=>!!window.ethereum?.[String(e)]):!!window.ethereum,signMessage:async e=>{let t=r2.W.state.activeChain,r=this.getAdapter(r2.W.state.activeChain);if(!t)throw Error("signMessage: namespace not found");if(!r)throw Error("signMessage: adapter not found");let n=await r?.signMessage({message:e,address:r1.U.state.address,provider:r4.G.getProvider(t)});return n?.signature||""},sendTransaction:async e=>{let t=e.chainNamespace;if(!t)throw Error("sendTransaction: namespace not found");if(rQ.oU.SEND_SUPPORTED_NAMESPACES.includes(t)){let r=this.getAdapter(t);if(!r)throw Error("sendTransaction: adapter not found");let n=r4.G.getProvider(t),i=await r?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n});return i?.hash||""}return""},estimateGas:async e=>{let t=e.chainNamespace;if(t===rq.o.CHAIN.EVM){let r=this.getAdapter(t);if(!r)throw Error("estimateGas: adapter is required but got undefined");let n=r4.G.getProvider(t),i=this.getCaipNetwork();if(!i)throw Error("estimateGas: caipNetwork is required but got undefined");let s=await r?.estimateGas({...e,provider:n,caipNetwork:i});return s?.gas||0n}return 0n},getEnsAvatar:async()=>{let e=r2.W.state.activeChain;if(!e)throw Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:r1.U.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),r1.U.state.profileImage||!1},getEnsAddress:async e=>await nD.resolveReownName(e),writeContract:async e=>{let t=r2.W.state.activeChain,r=this.getAdapter(t);if(!t)throw Error("writeContract: namespace is required but got undefined");if(!r)throw Error("writeContract: adapter is required but got undefined");let n=this.getCaipNetwork(),i=this.getCaipAddress(),s=r4.G.getProvider(t);if(!n||!i)throw Error("writeContract: caipNetwork or caipAddress is required but got undefined");let o=await r?.writeContract({...e,caipNetwork:n,provider:s,caipAddress:i});return o?.hash},parseUnits:(e,t)=>{let r=this.getAdapter(r2.W.state.activeChain);if(!r)throw Error("parseUnits: adapter is required but got undefined");return r?.parseUnits({value:e,decimals:t})??0n},formatUnits:(e,t)=>{let r=this.getAdapter(r2.W.state.activeChain);if(!r)throw Error("formatUnits: adapter is required but got undefined");return r?.formatUnits({value:e,decimals:t})??"0"},getCapabilities:async e=>{let t=this.getAdapter(r2.W.state.activeChain);if(!t)throw Error("getCapabilities: adapter is required but got undefined");return await t?.getCapabilities(e)},grantPermissions:async e=>{let t=this.getAdapter(r2.W.state.activeChain);if(!t)throw Error("grantPermissions: adapter is required but got undefined");return await t?.grantPermissions(e)},revokePermissions:async e=>{let t=this.getAdapter(r2.W.state.activeChain);if(!t)throw Error("revokePermissions: adapter is required but got undefined");return t?.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>{let t=this.getAdapter(r2.W.state.activeChain);if(!t)throw Error("walletGetAssets: adapter is required but got undefined");return await t?.walletGetAssets(e)??{}},updateBalance:e=>{let t=this.getCaipNetwork(e);t&&r1.U.state.address&&this.updateNativeBalance(r1.U.state.address,t?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},rJ.x.setClient(this.connectionControllerClient)}async onConnectExternal(e){let t=r2.W.state.activeChain,r=e.chain||t,n=this.getAdapter(r),i=!0;if(e.type===r9.o.CONNECTOR_TYPE_AUTH&&rq.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(e=>r$.a.getConnectorId(e)===rq.o.CONNECTOR_ID.AUTH)&&e.chain!==t&&(i=!1),e.chain&&e.chain!==t&&!e.caipNetwork){let t=this.getCaipNetworks().find(t=>t.chainNamespace===e.chain);t&&i&&this.setCaipNetwork(t)}if(!r)throw Error("connectExternal: namespace not found");if(!n)throw Error("connectExternal: adapter not found");let s=this.getCaipNetwork(r),o=e.caipNetwork||s,a=await n.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||s?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||s?.rpcUrls?.default?.http?.[0]});if(a)return r6.i.addConnectedNamespace(r),this.syncProvider({...a,chainNamespace:r}),this.setStatus("connected",r),this.syncConnectedWalletInfo(r),r6.i.removeDisconnectedConnectorId(e.id,r),{address:a.address,connectedCaipNetwork:o}}async connectInactiveNamespaces(e,t){let r=e.type===r9.o.CONNECTOR_TYPE_AUTH,n=r8.y.getOtherAuthNamespaces(t?.connectedCaipNetwork?.chainNamespace),i=r2.W.state.activeCaipNetwork,s=this.getAdapter(i?.chainNamespace),o=r4.G.getProvider(i?.chainNamespace);r&&(await Promise.all(n.map(async t=>{try{let r=r4.G.getProvider(t),n=this.getCaipNetwork(t),i=this.getAdapter(t);await i?.connect({...e,provider:r,socialUri:void 0,chainId:n?.id,rpcUrl:n?.rpcUrls?.default?.http?.[0]})&&(r6.i.addConnectedNamespace(t),r6.i.removeDisconnectedConnectorId(e.id,t),this.setStatus("connected",t),this.syncConnectedWalletInfo(t))}catch(e){r3.h.warn(r7.R.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,r7.R.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(t,e instanceof Error?e.message:void 0),r7.R.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),i&&await s?.switchNetwork({caipNetwork:i,provider:o,providerType:e.type}))}getApprovedCaipNetworksData(){if(r4.G.getProviderId(r2.W.state.activeChain)===r9.o.CONNECTOR_TYPE_WALLET_CONNECT){let e=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(e)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;let t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){let r=r4.G.getProvider(t),n=r4.G.getProviderId(t);if(e.chainNamespace===r2.W.state.activeChain){let i=this.getAdapter(t);await i?.switchNetwork({caipNetwork:e,provider:r,providerType:n})}else if(this.setCaipNetwork(e),n===r9.o.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{let r=this.getAddressByChainNamespace(t);r&&this.syncAccount({address:r,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(e=>Array.from(new Set([...e.chains||[],...e.accounts.map(e=>{let{chainId:t,chainNamespace:r}=ns.C.parseCaipAddress(e);return`${r}:${t}`})])))}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,r)=>{let n=e?.find(e=>e.namespace===r);return n?(n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),t[r]=n):t[r]=new nK({namespace:r,networks:this.getCaipNetworks()}),t},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){let t=this.getAdapter(e);t?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){let t=this.getAdapter(e);if(!t)return;let r=r6.i.getConnectionStatus();!1===r0.H.state.enableReconnect?this.setStatus("disconnected",e):"connected"===r?this.setStatus("connecting",e):("disconnected"===r&&r6.i.clearAddressCache(),this.setStatus(r,e)),t.on("switchNetwork",({address:t,chainId:r})=>{let n=this.getCaipNetworks().find(e=>e.id.toString()===r.toString()||e.caipNetworkId.toString()===r.toString()),i=r2.W.state.activeChain===e,s=r2.W.state.chains.get(e)?.accountState?.address;if(n){let r=i&&t?t:s;r&&this.syncAccount({address:r,chainId:n.id,chainNamespace:e})}else this.setUnsupportedNetwork(r)}),t.on("disconnect",()=>{let t=this.remoteFeatures.multiWallet,r=Array.from(rJ.x.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!t||0===r.length})}),t.on("connections",t=>{this.setConnections(t,e)}),t.on("pendingTransactions",()=>{let e=r1.U.state.address,t=r2.W.state.activeCaipNetwork;e&&t?.id&&this.updateNativeBalance(e,t.id,t.chainNamespace)}),t.on("accountChanged",({address:t,chainId:r,connector:n})=>{let i=r2.W.state.activeChain===e;n?.provider&&(this.syncProvider({id:n.id,type:n.type,provider:n.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));let s=r2.W.getNetworkData(e)?.caipNetwork?.id,o=r||s;i&&o?this.syncAccount({address:t,chainId:o,chainNamespace:e}):!i&&o?(this.syncAccountInfo(t,o,e),this.syncBalance({address:t,chainId:o,chainNamespace:e})):this.syncAccountInfo(t,r,e),r6.i.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>rJ.x.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();let e=this.getAddress();rG.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:rF.w.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===rq.o.CHAIN.EVM&&rF.w.isSafeApp()&&r$.a.setConnectorId(rq.o.CONNECTOR_ID.SAFE,e);let t=r$.a.getConnectorId(e);switch(this.setStatus("connecting",e),t){case rq.o.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case rq.o.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){let{chainNamespace:t,closeModal:r}=e||{};r2.W.resetAccount(t),r2.W.resetNetwork(t),r6.i.removeConnectedNamespace(t);let n=Array.from(r2.W.state.chains.keys());(t?[t]:n).forEach(e=>r6.i.addDisconnectedConnectorId(r$.a.getConnectorId(e)||"",e)),r$.a.removeConnectorId(t),r4.G.resetChain(t),this.setUser(void 0,t),this.setStatus("disconnected",t),this.setConnectedWalletInfo(void 0,t),!1!==r&&nu.W.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{let t=this.getAdapter(e),r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return t?.syncConnections({connectToFirstConnector:!r,caipNetwork:n})}))}async syncAdapterConnection(e){let t=this.getAdapter(e),r=this.getCaipNetwork(e),n=r$.a.getConnectorId(e),i=r$.a.getConnectors(e).find(e=>e.id===n);try{if(!t||!i)throw Error(`Adapter or connector not found for namespace ${e}`);if(!r?.id)throw Error("CaipNetwork not found");let n=await t?.syncConnection({namespace:e,id:i.id,chainId:r.id,rpcUrl:r?.rpcUrls?.default?.http?.[0]});n?(this.syncProvider({...n,chainNamespace:e}),await this.syncAccount({...n,chainNamespace:e}),this.setStatus("connected",e),rG.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:n.address,properties:{method:"browser",name:i.info?.name||i.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch(t){this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){let e=Object.keys(this.universalProvider?.session?.namespaces||{}),t=this.chainNamespaces.map(async t=>{let r=this.getAdapter(t);if(!r)return;let n=this.universalProvider?.session?.namespaces?.[t]?.accounts||[],i=r2.W.state.activeCaipNetwork?.id,s=n.find(e=>{let{chainId:t}=ns.C.parseCaipAddress(e);return t===i?.toString()})||n[0];if(s){let e=ns.C.validateCaipAddress(s),{chainId:n,address:i}=ns.C.parseCaipAddress(e);if(r4.G.setProviderId(t,r9.o.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&r2.W.state.activeCaipNetwork&&r.namespace!==rq.o.CHAIN.EVM){let e=r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:r2.W.state.activeCaipNetwork});r4.G.setProvider(t,e)}else r4.G.setProvider(t,this.universalProvider);r$.a.setConnectorId(rq.o.CONNECTOR_ID.WALLET_CONNECT,t),r6.i.addConnectedNamespace(t),await this.syncAccount({address:i,chainId:n,chainNamespace:t})}else e.includes(t)&&this.setStatus("disconnected",t);this.syncConnectedWalletInfo(t),await r2.W.setApprovedCaipNetworksData(t)});await Promise.all(t)}syncProvider({type:e,provider:t,id:r,chainNamespace:n}){r4.G.setProviderId(n,e),r4.G.setProvider(n,t),r$.a.setConnectorId(r,n)}async syncAccount(e){let t=e.chainNamespace===r2.W.state.activeChain,r=r2.W.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:n,chainId:i,chainNamespace:s}=e,{chainId:o}=r6.i.getActiveNetworkProps(),a=i||o,c=r2.W.state.activeCaipNetwork?.name===rq.o.UNSUPPORTED_NETWORK_NAME,l=r2.W.getNetworkProp("supportsAllNetworks",s);if(this.setStatus("connected",s),(!c||l)&&a){let e=this.getCaipNetworks().find(e=>e.id.toString()===a.toString()),o=this.getCaipNetworks().find(e=>e.chainNamespace===s);if(!l&&!e&&!o){let t=this.getApprovedCaipNetworkIds()||[],r=t.find(e=>ns.C.parseCaipNetworkId(e)?.chainId===a.toString()),n=t.find(e=>ns.C.parseCaipNetworkId(e)?.chainNamespace===s);e=this.getCaipNetworks().find(e=>e.caipNetworkId===r),o=this.getCaipNetworks().find(e=>e.caipNetworkId===n||"deprecatedCaipNetworkId"in e&&e.deprecatedCaipNetworkId===n)}let c=e||o;c?.chainNamespace===r2.W.state.activeChain?r0.H.state.enableNetworkSwitch&&!r0.H.state.allowUnsupportedChain&&r2.W.state.activeCaipNetwork?.name===rq.o.UNSUPPORTED_NETWORK_NAME?r2.W.showUnsupportedChainUI():this.setCaipNetwork(c):!t&&r&&this.setCaipNetworkOfNamespace(r,s),this.syncConnectedWalletInfo(s),r8.y.isLowerCaseMatch(n,r1.U.state.address)||this.syncAccountInfo(n,c?.id,s),t?await this.syncBalance({address:n,chainId:c?.id,chainNamespace:s}):await this.syncBalance({address:n,chainId:r?.id,chainNamespace:s}),this.syncIdentity({address:n,chainId:i,chainNamespace:s})}}async syncAccountInfo(e,t,r){let n=this.getCaipAddress(r),i=t||n?.split(":")[1];if(!i)return;let s=`${r}:${i}:${e}`;this.setCaipAddress(s,r),await this.syncIdentity({address:e,chainId:i,chainNamespace:r})}async syncReownName(e,t){try{let r=await this.getReownName(e);if(r[0]){let e=r[0];this.setProfileName(e.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}syncConnectedWalletInfo(e){let t=r$.a.getConnectorId(e),r=r4.G.getProviderId(e);if(r===r9.o.CONNECTOR_TYPE_ANNOUNCED||r===r9.o.CONNECTOR_TYPE_INJECTED){if(t){let r=this.getConnectors().find(e=>{let r=e.id===t,n=e.info?.rdns===t,i=e.connectors?.some(e=>e.id===t||e.info?.rdns===t);return r||n||!!i});if(r){let{info:t,name:n,imageUrl:i}=r,s=i||this.getConnectorImage(r);this.setConnectedWalletInfo({name:n,icon:s,...t},e)}}}else if(r===r9.o.CONNECTOR_TYPE_WALLET_CONNECT){let t=r4.G.getProvider(e);t?.session&&this.setConnectedWalletInfo({...t.session.peer.metadata,name:t.session.peer.metadata.name,icon:t.session.peer.metadata.icons?.[0]},e)}else if(t&&(t===rq.o.CONNECTOR_ID.COINBASE_SDK||t===rq.o.CONNECTOR_ID.COINBASE)){let r=this.getConnectors().find(e=>e.id===t),n=r?.name||"Coinbase Wallet",i=r?.imageUrl||this.getConnectorImage(r),s=r?.info;this.setConnectedWalletInfo({...s,name:n,icon:i},e)}}async syncBalance(e){no.L.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(t=>t.id.toString()===e.chainId?.toString())&&e.chainId&&await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,r){let n=this.getAdapter(r),i=r2.W.getCaipNetworkByNamespace(r,t);if(n){let s=await n.getBalance({address:e,chainId:t,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(s.balance,s.symbol,r),s}}async initializeUniversalAdapter(){let e=nO.createLogger((e,...t)=>{e&&this.handleAlertError(e),console.error(...t)}),t={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};r0.H.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await ni.A.init(t),!1===r0.H.state.enableReconnect&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{nD.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:e=>{rJ.x.setUri(e)},onConnect:e=>{let{address:t}=rF.w.getAccount(e[0]);rJ.x.finalizeWcConnection(t)},onDisconnect:()=>{r2.W.state.noAdapters&&this.resetAccount(e),rJ.x.resetWcConnection()},onChainChanged:t=>{let r=r2.W.state.activeChain,n=r&&r$.a.state.activeConnectorIds[r]===rq.o.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(r2.W.state.noAdapters||n)){let e=this.getCaipNetworks().find(e=>e.id.toString()===t.toString()||e.caipNetworkId.toString()===t.toString()),r=this.getCaipNetwork();if(!e)return void this.setUnsupportedNetwork(t);r?.id.toString()!==e?.id.toString()&&r?.chainNamespace===e?.chainNamespace&&this.setCaipNetwork(e)}},onAccountsChanged:t=>{let r=r2.W.state.activeChain,n=r&&r$.a.state.activeConnectorIds[r]===rq.o.CONNECTOR_ID.WALLET_CONNECT;if(r===e&&(r2.W.state.noAdapters||n)){let e=t?.[0];e&&this.syncAccount({address:e.address,chainId:e.chainId,chainNamespace:e.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&rF.w.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){rG.E.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){let[t,r]=Object.entries(r7.R.UniversalProviderErrors).find(([,{message:t}])=>e.message.includes(t))??[],{message:n,alertErrorKey:i}=r??{};if(t&&n&&!this.reportedAlertErrors[t]){let e=r7.R.ALERT_ERRORS[i];e&&(r3.h.open(e,"error"),this.reportedAlertErrors[t]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;let t=e.namespace;t&&(this.createClients(),e.namespace=t,e.construct({namespace:t,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(t)||this.chainNamespaces.push(t),this.chainAdapters&&(this.chainAdapters[t]=e))}async open(e){await this.injectModalUi(),e?.uri&&rJ.x.setUri(e.uri);let{isSwap:t,isSend:r}=this.toModalOptions();return t(e)?nu.W.open({...e,data:{swap:e.arguments}}):r(e)&&e.arguments?this.openSend(e.arguments):nu.W.open(e)}async close(){await this.injectModalUi(),nu.W.close()}setLoading(e,t){nu.W.setLoading(e,t)}async disconnect(e){await rJ.x.disconnect({namespace:e})}getSIWX(){return r0.H.state.siwx}getError(){return""}getChainId(){return r2.W.state.activeCaipNetwork?.id}async switchNetwork(e,{throwOnFailure:t=!1}={}){let r=this.getCaipNetworks().find(t=>t.id===e.id);if(!r)return void r3.h.open(r7.R.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");await r2.W.switchActiveNetwork(r,{throwOnFailure:t})}getWalletProvider(){return r2.W.state.activeChain?r4.G.state.providers[r2.W.state.activeChain]:null}getWalletProviderType(){return r4.G.getProviderId(r2.W.state.activeChain)}subscribeProviders(e){return r4.G.subscribeProviders(e)}getThemeMode(){return r5.W.state.themeMode}getThemeVariables(){return r5.W.state.themeVariables}setThemeMode(e){r5.W.setThemeMode(e),(0,nb.JX)(r5.W.state.themeMode)}setTermsConditionsUrl(e){r0.H.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){r0.H.setPrivacyPolicyUrl(e)}setThemeVariables(e){r5.W.setThemeVariables(e),(0,nb.ds)(r5.W.state.themeVariables)}subscribeTheme(e){return r5.W.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?rJ.x.subscribe(e):(r3.h.open(rq.o.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>void 0)}getWalletInfo(e){return e?r2.W.state.chains.get(e)?.accountState?.connectedWalletInfo:r1.U.state.connectedWalletInfo}getAccount(e){let t=e||r2.W.state.activeChain,r=r$.a.getAuthConnector(t),n=r2.W.getAccountData(t),i=r6.i.getConnectedConnectorId(r2.W.state.activeChain),s=rJ.x.getConnections(t);if(!t)throw Error("AppKit:getAccount - namespace is required");let o=s.flatMap(e=>e.accounts.map(({address:e,type:r,publicKey:n})=>rF.w.createAccount(t,e,r||"eoa",n)));if(n)return{allAccounts:o,caipAddress:n.caipAddress,address:rF.w.getPlainAddress(n.caipAddress),isConnected:!!n.caipAddress,status:n.status,embeddedWalletInfo:r&&i===rq.o.CONNECTOR_ID.AUTH?{user:n.user?{...n.user,username:r6.i.getConnectedSocialUsername()}:void 0,authProvider:n.socialProvider||"email",accountType:(0,rz.lj)(t),isSmartAccountDeployed:!!n.smartAccountDeployed}:void 0}}subscribeAccount(e,t){let r=()=>{let r=this.getAccount(t);r&&e(r)};t?r2.W.subscribeChainProp("accountState",r,t):r2.W.subscribe(r),r$.a.subscribe(r)}subscribeNetwork(e){return r2.W.subscribe(({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:t?.id,caipNetworkId:t?.caipNetworkId})})}subscribeWalletInfo(e,t){return t?r1.U.subscribeKey("connectedWalletInfo",e,t):r1.U.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){r1.U.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){r2.W.subscribeKey("activeCaipNetwork",e)}getState(){return rZ.z.state}getRemoteFeatures(){return r0.H.state.remoteFeatures}subscribeState(e){return rZ.z.subscribe(e)}subscribeRemoteFeatures(e){return r0.H.subscribeKey("remoteFeatures",e)}showErrorMessage(e){nf.P.showError(e)}showSuccessMessage(e){nf.P.showSuccess(e)}getEvent(){return{...rG.E.state}}subscribeEvents(e){return rG.E.subscribe(e)}replace(e){ng.I.replace(e)}redirect(e){ng.I.push(e)}popTransactionStack(e){ng.I.popTransactionStack(e)}isOpen(){return nu.W.state.open}isTransactionStackEmpty(){return 0===ng.I.state.transactionStack.length}static getInstance(){return this.instance}updateFeatures(e){r0.H.setFeatures(e)}updateRemoteFeatures(e){r0.H.setRemoteFeatures(e)}updateOptions(e){let t={...r0.H.state||{},...e};r0.H.setOptions(t)}setConnectMethodsOrder(e){r0.H.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){r0.H.setWalletFeaturesOrder(e)}setCollapseWallets(e){r0.H.setCollapseWallets(e)}setSocialsOrder(e){r0.H.setSocialsOrder(e)}getConnectMethodsOrder(){return ny.A.getConnectOrderMethod(r0.H.state.features,r$.a.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw Error(`Adapter for namespace ${e} doesn't exist`);let r=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find(e=>e.id===r.id)||r2.W.addNetwork(r)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(e=>e.id===t)&&r2.W.removeNetwork(e,t)}}let nV=!1;class nz extends nX{async onAuthProviderConnected(e){let t=r8.y.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await rV.U.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!t)throw Error("AppKit:onAuthProviderConnected - namespace is required");let r=t===rq.o.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,n=r0.H.state.defaultAccountTypes[t],i=(0,rz.lj)(t),s=e.preferredAccountType||i||n;this.setCaipAddress(r,t);let{signature:o,siwxMessage:a,message:c,...l}=e;this.setUser({...r1.U.state.user||{},...l},t),this.setSmartAccountDeployed(!!e.smartAccountDeployed,t),this.setPreferredAccountType(s,t),this.setLoading(!1,t)}setupAuthConnectorListeners(e){e.onRpcRequest(t=>{ne.Q.checkIfRequestExists(t)?ne.Q.checkIfRequestIsSafe(t)||this.handleUnsafeRPCRequest():(this.open(),console.error(nt.Vl.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:t.method}),setTimeout(()=>{this.showErrorMessage(nt.Vl.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((e,t)=>{let r=ne.Q.checkIfRequestIsSafe(t),n=r1.U.state.address,i=r2.W.state.activeCaipNetwork;r||(n&&i?.id&&this.updateNativeBalance(n,i.id,i.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{let e=r2.W.state.activeChain;if(!e)throw Error("AppKit:onNotConnected - namespace is required");r$.a.getConnectorId(e)===rq.o.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,e),this.setLoading(!1,e))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:e,type:t})=>{let r=r2.W.state.activeChain;if(!r)throw Error("AppKit:onSetPreferredAccount - namespace is required");e&&this.setPreferredAccountType(t,r)})}async syncAuthConnectorTheme(e){if(!e)return;let t=r5.W.getSnapshot(),r=r0.H.getSnapshot();await Promise.all([e.syncDappData({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e.syncTheme({themeMode:t.themeMode,themeVariables:t.themeVariables,w3mThemeVariables:(0,rX.o)(t.themeVariables,t.themeMode)})])}async syncAuthConnector(e,t){let r=rq.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(t),n=t===r2.W.state.activeChain;if(!r)return;this.setLoading(!0,t);let i=e.getLoginEmailUsed();this.setLoading(i,t),i&&this.setStatus("connecting",t);let s=e.getEmail(),o=e.getUsername();this.setUser({...r1.U.state?.user||{},username:o,email:s},t),this.setupAuthConnectorListeners(e);let{isConnected:a}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),t&&r&&n){let r=await e.getSmartAccountEnabledNetworks();if(r2.W.setSmartAccountEnabledNetworks(r?.smartAccountEnabledNetworks||[],t),a&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:rq.o.CONNECTOR_ID.AUTH,info:{name:rq.o.CONNECTOR_ID.AUTH},type:r9.o.CONNECTOR_TYPE_AUTH,provider:e,chainId:r2.W.getNetworkData(t)?.caipNetwork?.id,chain:t}),this.setStatus("connected",t);let r=r6.i.getConnectedSocialProvider();r?rG.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:r1.U.state.address,properties:{provider:r,reconnect:!0}}):rG.E.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:r1.U.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else r$.a.getConnectorId(t)===rq.o.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",t),r6.i.removeConnectedNamespace(t))}this.setLoading(!1,t)}async checkExistingTelegramSocialConnection(e){try{if(!rF.w.isTelegram())return;let t=r6.i.getTelegramSocialProvider();if(!t||!rF.w.isClient())return;let r=new URL(window.location.href).searchParams.get("result_uri");if(!r)return;r1.U.setSocialProvider(t,e),await this.authProvider?.init();let n=r$.a.getAuthConnector();t&&n&&(this.setLoading(!0,e),await rJ.x.connectExternal({id:n.id,type:n.type,socialUri:r},n.chain),r6.i.setConnectedSocialProvider(t),r6.i.removeTelegramSocialProvider(),rG.E.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:t}}))}catch(t){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",t)}try{let e=new URL(window.location.href);e.searchParams.delete("result_uri"),window.history.replaceState({},document.title,e.toString())}catch(e){console.error("tma social login failed",e)}}createAuthProvider(e){if(!rq.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;let t=this.remoteFeatures?.email,r=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,n=r8.y.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&(t||r)&&(this.authProvider=nn.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(n)?.caipNetworkId,abortController:r7.R.EmbeddedWalletAbortController,onTimeout:e=>{"iframe_load_failed"===e?r3.h.open(r7.R.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):"iframe_request_timeout"===e?r3.h.open(r7.R.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):"unverified_domain"===e&&r3.h.open(r7.R.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:e=>(0,rz.kg)(e),getCaipNetworks:e=>r2.W.getCaipNetworks(e)}),rZ.z.subscribeOpen(e=>{!e&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));let i=e===r2.W.state.activeChain&&r0.H.state.enableReconnect;!1===r0.H.state.enableReconnect?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&i&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&rY.N.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;let t=r2.W.state.activeChain,r=e.chainNamespace,n=this.getAddressByChainNamespace(r);if(r===t&&n){let t=this.getAdapter(r),n=r4.G.getProvider(r),i=r4.G.getProviderId(r);await t?.switchNetwork({caipNetwork:e,provider:n,providerType:i}),this.setCaipNetwork(e)}else{let i=r4.G.getProviderId(t)===r9.o.CONNECTOR_TYPE_AUTH,s=r4.G.getProviderId(r),o=s===r9.o.CONNECTOR_TYPE_AUTH,a=rq.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if(!r)throw Error("AppKit:switchCaipNetwork - networkNamespace is required");if((i&&void 0===s||o)&&a)try{if(r2.W.state.activeChain=e.chainNamespace,n){let t=this.getAdapter(r);await t?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:s})}else await this.connectionControllerClient?.connectExternal?.({id:rq.o.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:r9.o.CONNECTOR_TYPE_AUTH,caipNetwork:e});this.setCaipNetwork(e)}catch(n){let t=this.getAdapter(r);await t?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:s})}else if(s===r9.o.CONNECTOR_TYPE_WALLET_CONNECT){if(!r2.W.state.noAdapters){let t=this.getAdapter(r),n=r4.G.getProvider(r),i=r4.G.getProviderId(r);await t?.switchNetwork({caipNetwork:e,provider:n,providerType:i})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),n&&this.syncAccount({address:n,chainId:e.id,chainNamespace:r})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(e=>{this.createAuthProviderForAdapter(e)}),await this.injectModalUi(),rZ.z.set({initialized:!0})}async syncIdentity({address:e,chainId:t,chainNamespace:r}){let n=`${r}:${t}`,i=this.caipNetworks?.find(e=>e.caipNetworkId===n);if(i?.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}let s=r$.a.getConnectorId(r)===rq.o.CONNECTOR_ID.AUTH;try{let{name:t,avatar:n}=await this.fetchIdentity({address:e});!t&&s?await this.syncReownName(e,r):(this.setProfileName(t,r),this.setProfileImage(n,r))}catch{1!==t&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){let t=r4.G.getProviderId(e);if(t===r9.o.CONNECTOR_TYPE_AUTH){let r=this.authProvider;if(r){let n=r6.i.getConnectedSocialProvider()??"email",i=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:t,identifier:i,social:n},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(rF.w.isClient()&&!nV)try{let e={...rQ.oU.DEFAULT_FEATURES,...this.options.features},t=this.remoteFeatures;if(await this.loadModalComponents(e,t),rF.w.isClient()&&!document.querySelector("w3m-modal")){let e=document.createElement("w3m-modal");r0.H.state.disableAppend||r0.H.state.enableEmbedded||document.body.insertAdjacentElement("beforeend",e)}nV=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,t){if(!rF.w.isClient())return;let n=[];(t.email||t.socials&&t.socials.length>0)&&n.push(Promise.all([r.e(456),r.e(8558)]).then(r.bind(r,68558))),t.email&&n.push(Promise.all([r.e(456),r.e(4883),r.e(5744)]).then(r.bind(r,45744))),t.socials&&n.push(Promise.all([r.e(4563),r.e(2170)]).then(r.bind(r,92170))),t.swaps&&t.swaps.length>0&&n.push(Promise.all([r.e(456),r.e(1470),r.e(1745)]).then(r.bind(r,51745))),e.send&&n.push(Promise.all([r.e(456),r.e(1470),r.e(4890)]).then(r.bind(r,84890))),e.receive&&n.push(Promise.all([r.e(4563),r.e(9872)]).then(r.bind(r,19872))),t.onramp&&t.onramp.length>0&&n.push(Promise.all([r.e(456),r.e(4842),r.e(7838)]).then(r.bind(r,17838))),t.payWithExchange&&n.push(Promise.all([r.e(456),r.e(7448)]).then(r.bind(r,7448))),t.activity&&n.push(Promise.all([r.e(943),r.e(3513)]).then(r.bind(r,20840))),(e.pay||t.payments)&&n.push(r.e(5920).then(r.bind(r,15920))),t.emailCapture&&n.push(Promise.all([r.e(4883),r.e(9858)]).then(r.bind(r,16226))),await Promise.all([...n,Promise.all([r.e(456),r.e(4563),r.e(4842),r.e(943),r.e(113),r.e(8477)]).then(r.bind(r,18477)),Promise.all([r.e(1470),r.e(113),r.e(5589)]).then(r.bind(r,10338))])}}var n$=r(16323),nG=r(12661),nJ=r(98866),nZ=r(32464),nY=r(87358);let nQ={SECURE_SITE_ORIGIN:(void 0!==nY&&void 0!==nY.env?nY.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Socials:["google","github","apple","facebook","x","discord","farcaster"],Email:"email",WalletButtonsIds:{coinbase:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",metamask:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",trust:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",okx:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",bitget:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",binance:"8a0ee50d1f22f6651afcae7eb4253e52a3310b90af5daef78a8c4929a9bb99d4",uniswap:"c03dfee351b6fcc421b4494ea33b9d4b92a984f87aa76d1663bb28705e95034a",safepal:"0b415a746fb9ee99cce155c2ceca0c6f6061b1dbca2d722b3ba16381d0562150",rainbow:"1ae92b26df02f0abca6304df07debccd18262fdf5fe82daa81593582dac9a369",bybit:"15c8b91ade1a4e58f3ce4e7a0dd7f42b47db0c8df7e0d84f63eb39bcb96c4e0f",tokenpocket:"20459438007b75f4f4acb98bf29aa3b800550309646d375da5fd4aac6c2a2c66",ledger:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927","timeless-x":"344d0e58b139eb1b6da0c29ea71d52a8eace8b57897c6098cb9b46012665c193",safe:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",zerion:"ecc4036f814562b41a5268adc86270fba1365471402006302e70169465b7ac18",oneinch:"c286eebc742a537cd1d6818363e9dc53b21759a1e8e5d9b263d0c03ec7703576","crypto-com":"f2436c67184f158d1beda5df53298ee84abfc367581e4505134b5bcf5f46697d",imtoken:"ef333840daf915aafdc4a004525502d6d49d77bd9c65e0642dbaefb3c2893bef",kraken:"18450873727504ae9315a084fa7624b5297d2fe5880f0982979c17345a138277",ronin:"541d5dcd4ede02f3afaf75bf8e3e4c4f1fb09edb5fa6c4377ebf31c2785d9adf",robinhood:"8837dd9413b1d9b585ee937d27a816590248386d9dbf59f5cd3422dbbb65683e",exodus:"e9ff15be73584489ca4a66f64d32c4537711797e30b6660dbcb71ea72a42b1f4",argent:"bc949c5d968ae81310268bf9193f9c9fb7bb4e1283e1284af8f2bd4992535fd6",jupiter:"0ef262ca2a56b88d179c93a21383fee4e135bd7bc6680e5c2356ff8e38301037",solflare:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",phantom:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",coin98:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01","magic-eden":"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",backpack:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",frontier:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",xverse:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",leather:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",haha:"719bd888109f5e8dd23419b20e749900ce4d2fc6858cf588395f19c82fd036b3","ambire-wallet":"2c81da3add65899baeac53758a07e652eea46dbb5195b8074772c62a77bbf568",bitpay:"b4678fefcc469583ed4ef58a5bd90ce86208b82803f3c45f2de3e0973d268835","blade-wallet":"a9104b630bac1929ad9ac2a73a17ed4beead1889341f307bff502f89b46c8501",brave:"163d2cf19babf05eb8962e9748f9ebe613ed52ebf9c8107c9a0f104bfcf161b3",coinstats:"bcaec16e531fb5f6dc690d7b70d570421e0209af9a0fe77c6419d516fe0098c2","kresus-superapp":"56bec983b47c8b6eb774890c1c8ae9d95334e10bdb126ab6c11dfaf56fb2b31c","plena-app":"9654c004e02e492c30904a820154e239886edbf4d66bc5d372060809ef4c9111",status:"af9a6dfff9e63977bbde28fb23518834f08b696fe8bff6dd6827acad1814c6be","tomo-wallet":"5e4a8cc31d062b78a7ad9e017135574809b01c4dbbf30e4dbb467ddd43025618",valora:"d01c7758d741b363e637a817a09bcf579feae4db9f5bb16f599fdd1f66e2f974","zengo-wallet":"9414d5a85c8f4eabc1b5b15ebe0cd399e1a2a9d35643ab0ad22a6e4a32f596f0"}},n0=rF.w.getApiUrl(),n1=new nZ.Z({baseUrl:n0,clientId:null}),n2=(0,nG.BX)({walletButtons:[],fetching:!1}),n5={state:n2,subscribeKey:(e,t)=>(0,nJ.u$)(n2,e,t),async fetchWalletButtons(){if(n2.fetching)return;n2.fetching=!0;let e=Object.values(nQ.WalletButtonsIds),{data:t}=await n1.get({path:"/getWallets",params:{...rY.N._getSdkProperties(),page:"1",entries:String(e.length),include:e?.join(",")}}),r=t.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(r.map(e=>rY.N._fetchWalletImage(e))),n2.walletButtons=t}},n6=(0,nG.BX)({ready:!1,pending:!1}),n3={state:n6,setReady(e){n6.ready=e},setPending(e){n6.pending=e},setError(e){n6.error=e},setData(e){n6.data=e}},n4={getWalletButton(e){let t=nQ.WalletButtonsIds;if(e in t)return n5.state.walletButtons.find(r=>r.id===t[e])},isWalletButtonReady:e=>!(e in nQ.WalletButtonsIds)||!!n4.getWalletButton(e)};class n8{constructor({namespace:e}={}){this.namespace=e,this.isReady()||n5.fetchWalletButtons().then(()=>{n5.state.walletButtons.length&&n3.setReady(!0)})}isReady(){return n3.state.ready}subscribeIsReady(e){n5.subscribeKey("walletButtons",t=>{t.length?(n3.setReady(!0),e({isReady:!0})):e({isReady:!1})})}async connect(e){let t=r$.a.state.connectors;if(e===nQ.Email)return n$.g.connectEmail({namespace:this.namespace,onOpen(){nu.W.open().then(()=>ng.I.push("EmailLogin"))},onConnect(){ng.I.push("Connect")}});if(nQ.Socials.some(t=>t===e))return n$.g.connectSocial({social:e,namespace:this.namespace,onOpenFarcaster(){nu.W.open({view:"ConnectingFarcaster"})},onConnect(){ng.I.push("Connect")}});let r=n4.getWalletButton(e),n=r?r$.a.getConnector({id:r.id,rdns:r.rdns,namespace:this.namespace}):void 0;return n&&"AUTH"!==n.type?n$.g.connectExternal(n):n$.g.connectWalletConnect({walletConnect:"walletConnect"===e,connector:t.find(e=>"walletConnect"===e.id),onOpen(e){nu.W.open().then(()=>{e?ng.I.push("AllWallets"):ng.I.push("ConnectingWalletConnect",{wallet:r})})},onConnect(){ng.I.replace("Connect")}})}async updateEmail(){return n$.g.updateEmail()}}var n9=r(83138),n7=r(98410),ie=r(78964);r(99691),r(45166),r(21129),r(24772);var it=r(71084),ir=r(47327),ii=r(20296);let is=(0,ii.AH)`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  :host > button {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: ${({tokens:e})=>e.theme.backgroundInvert};
    gap: ${({spacing:e})=>e[1]};
    border: none;
    transition: border-radius ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: border-radius;
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  :host > button > wui-text {
    text-transform: capitalize;
  }

  :host > button > wui-image {
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  :host([data-error='true']) > button > wui-icon {
    color: ${({tokens:e})=>e.core.textError};
  }

  :host([data-error='true']) > button {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  /* -- Size states ----------------------------------------------------------- */
  :host > button[data-size='lg'] {
    padding-top: ${({spacing:e})=>e[4]};
    padding-bottom: ${({spacing:e})=>e[4]};
    padding-left: ${({spacing:e})=>e[5]};
    padding-right: ${({spacing:e})=>e[5]};
    border-radius: ${({borderRadius:e})=>e[4]};
    height: 52px;

    wui-image {
      height: 20px;
      width: 20px;
    }
  }

  :host > button[data-size='md'] {
    padding-top: ${({spacing:e})=>e[3]};
    padding-bottom: ${({spacing:e})=>e[3]};
    padding-left: ${({spacing:e})=>e[4]};
    padding-right: ${({spacing:e})=>e[4]};
    border-radius: ${({borderRadius:e})=>e[3]};
    height: 40px;

    wui-image {
      height: 16px;
      width: 16px;
    }
  }

  :host > button[data-size='sm'] {
    padding-top: ${({spacing:e})=>e[2]};
    padding-bottom: ${({spacing:e})=>e[2]};
    padding-left: ${({spacing:e})=>e[3]};
    padding-right: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[2]};
    height: 30px;

    wui-image {
      height: 12px;
      width: 12px;
    }
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      border-radius: ${({borderRadius:e})=>e[16]};
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  :host > button:disabled {
    cursor: default;
  }

  :host > button:disabled wui-image,
  :host > button:disabled wui-icon,
  :host > button:disabled wui-text {
    opacity: 0.5;
  }
`;var io=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let ia={lg:"lg-medium",md:"md-medium",sm:"sm-medium"},ic={lg:"xl",md:"lg",sm:"md"},il=class extends n9.WF{constructor(){super(...arguments),this.imageSrc="",this.name="",this.size="md",this.walletConnect=!1,this.loading=!1,this.error=!1,this.disabled=!1}render(){return this.dataset.error=`${this.error}`,(0,n9.qy)`
      <button ?disabled=${this.disabled} data-size=${this.size} data-error=${this.error}>
        ${this.leftViewTemplate()} ${this.rightViewTemplate()}
      </button>
    `}leftViewTemplate(){return this.error?(0,n9.qy)`<wui-icon name="warningCircle" iconColor="inherit" size="md"></wui-icon>`:this.loading?(0,n9.qy)`<wui-loading-spinner size="lg" color="inherit"></wui-loading-spinner>`:this.imageSrc?(0,n9.qy)`<wui-image src=${this.imageSrc} alt=${(0,ie.J)(this.name)}></wui-image>`:this.icon?(0,n9.qy)`<wui-icon
        size=${ic[this.size]}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}rightViewTemplate(){return(0,n9.qy)`
      <wui-text variant=${ia[this.size]} color="inherit"
        >${this.name||"Unknown"}
      </wui-text>
    `}};il.styles=[it.W5,it.fD,is],io([(0,n7.MZ)()],il.prototype,"imageSrc",void 0),io([(0,n7.MZ)()],il.prototype,"name",void 0),io([(0,n7.MZ)()],il.prototype,"size",void 0),io([(0,n7.MZ)({type:Boolean})],il.prototype,"walletConnect",void 0),io([(0,n7.MZ)()],il.prototype,"icon",void 0),io([(0,n7.MZ)({type:Boolean})],il.prototype,"loading",void 0),io([(0,n7.MZ)({type:Boolean})],il.prototype,"error",void 0),io([(0,n7.MZ)({type:Boolean})],il.prototype,"disabled",void 0),il=io([(0,ir.E)("wui-wallet-button")],il);var id=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let ih=class extends n9.WF{constructor(){super(),this.unsubscribe=[],this.wallet="metamask",this.connectors=r$.a.state.connectors,this.loading=!1,this.error=!1,this.ready=n4.isWalletButtonReady(this.wallet),this.modalLoading=nu.W.state.loading,this.unsubscribe.push(nu.W.subscribeKey("loading",e=>this.modalLoading=e),r$.a.subscribeKey("connectors",e=>this.connectors=e),n5.subscribeKey("walletButtons",()=>{this.ready=n4.isWalletButtonReady(this.wallet)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}connectedCallback(){super.connectedCallback(),this.caipAddress=this.namespace?r2.W.state.chains.get(this.namespace)?.accountState?.caipAddress:r2.W.state.activeCaipAddress}firstUpdated(){n4.isWalletButtonReady(this.wallet)||n5.fetchWalletButtons(),this.namespace?this.unsubscribe.push(r2.W.subscribeChainProp("accountState",e=>{this.caipAddress=e?.caipAddress},this.namespace)):this.unsubscribe.push(r2.W.subscribeKey("activeCaipAddress",e=>this.caipAddress=e))}render(){if("email"===this.wallet)return this.emailTemplate();if(nQ.Socials.some(e=>e===this.wallet))return this.socialTemplate();let e=n4.getWalletButton(this.wallet),t=e?r$.a.getConnector({id:e.id,rdns:e.rdns,namespace:this.namespace}):void 0;return t?this.externalTemplate(t):this.walletButtonTemplate()}walletButtonTemplate(){let e="walletConnect"===this.wallet,t=e?this.loading:this.loading||!this.ready,r=n4.getWalletButton(this.wallet),n=nl.$.getWalletImageById(r?.image_id),i="walletConnect"===this.wallet?"WalletConnect":r?.name;return(0,n9.qy)`
      <wui-wallet-button
        data-testid="apkt-wallet-button"
        name=${!this.ready&&!e||this.modalLoading?"Loading...":(0,ie.J)(i)}
        @click=${async()=>{this.loading=!0,await n$.g.connectWalletConnect({walletConnect:"walletConnect"===this.wallet,connector:this.connectors.find(e=>"walletConnect"===e.id),onOpen(e){nu.W.open({view:e?"AllWallets":"ConnectingWalletConnect",data:e?void 0:{wallet:r}})},onConnect(){ng.I.replace("Connect")}}).catch(()=>{}).finally(()=>this.loading=!1)}}
        .icon=${(0,ie.J)("walletConnect"===this.wallet?"walletConnectInvert":void 0)}
        .imageSrc=${(0,ie.J)(n)}
        ?disabled=${!!this.caipAddress||t||this.modalLoading}
        ?loading=${t||this.modalLoading}
      ></wui-wallet-button>
    `}externalTemplate(e){let t=n4.getWalletButton(this.wallet),r=nl.$.getWalletImageById(t?.image_id),n=nl.$.getConnectorImage(e);return(0,n9.qy)`
      <wui-wallet-button
        data-testid="apkt-wallet-button-external"
        name=${this.modalLoading?"Loading...":(0,ie.J)(e.name)}
        @click=${async()=>{this.loading=!0,this.error=!1,await n$.g.connectExternal(e).catch(()=>this.error=!0).finally(()=>this.loading=!1)}}
        .imageSrc=${(0,ie.J)(r??n)}
        ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
        ?loading=${this.loading||this.modalLoading}
        ?error=${this.error}
      ></wui-wallet-button>
    `}socialTemplate(){return(0,n9.qy)`<wui-wallet-button
      data-testid="apkt-wallet-button-social"
      name=${this.modalLoading?"Loading...":this.wallet}
      @click=${async()=>(this.loading=!0,this.error=!1,n$.g.connectSocial({social:this.wallet,namespace:this.namespace,onOpenFarcaster(){nu.W.open({view:"ConnectingFarcaster"})},onConnect(){ng.I.push("Connect")}}).catch(()=>this.error=!0).finally(()=>this.loading=!1))}
      .icon=${this.wallet}
      ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
      ?loading=${this.loading||this.modalLoading}
      ?error=${this.error}
    ></wui-wallet-button>`}emailTemplate(){return(0,n9.qy)`<wui-wallet-button
      data-testid="apkt-wallet-button-email"
      name=${this.modalLoading?"Loading...":"Email"}
      @click=${async()=>{this.loading=!0,this.error=!1,await n$.g.connectEmail({namespace:this.namespace,onOpen(){nu.W.open({view:"EmailLogin"})},onConnect(){ng.I.push("Connect")}}).catch(()=>this.error=!0).finally(()=>this.loading=!1)}}
      .icon=${"mail"}
      .iconSize=${"lg"}
      ?disabled=${!!this.caipAddress||this.loading||this.modalLoading}
      ?loading=${this.loading||this.modalLoading}
      ?error=${this.error}
    ></wui-wallet-button>`}};id([(0,n7.MZ)()],ih.prototype,"wallet",void 0),id([(0,n7.MZ)()],ih.prototype,"namespace",void 0),id([(0,n7.wk)()],ih.prototype,"connectors",void 0),id([(0,n7.wk)()],ih.prototype,"caipAddress",void 0),id([(0,n7.wk)()],ih.prototype,"loading",void 0),id([(0,n7.wk)()],ih.prototype,"error",void 0),id([(0,n7.wk)()],ih.prototype,"ready",void 0),id([(0,n7.wk)()],ih.prototype,"modalLoading",void 0),ih=id([(0,nb.EM)("appkit-wallet-button")],ih);var iu=r(91053);let ip=(0,iu.x)({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x75aca81}},testnet:!0}),ig=(0,iu.x)({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0x5b8e16f}}});function im(e){return!!e&&"string"==typeof e&&/(?:^|\s|\/)Line(?:\/|$|\s)/i.test(e)}function iy(e){return!!e&&"string"==typeof e&&/\((iPhone|iPad|iPod)(?:[0-9,.]*)?(?:\s|;)|CPU iPhone OS|CPU OS/i.test(e)&&!/IPhoneSimulator|iPhone look-alike/i.test(e)}function ib(e){return!!e&&"string"==typeof e&&/iPhone|iPad|iPod|Android|webOS|BlackBerry|IEMobile|Opera Mini|Mobile/i.test(e)}function iv(e){return!!e&&"string"==typeof e&&/Klutch|Kaikas|Kaia/i.test(e)}function iw(e){return e===a.Google||e===a.Line||e===a.Naver||e===a.Kakao||e===a.Apple||e===a.Wechat}function iE(e){switch(e){case a.Google:case a.Kakao:case a.Line:case a.Apple:case a.Naver:case a.Wechat:return im(navigator.userAgent)?c.Liff:c.Web;case a.OKX:return c.OKX;case a.Kaia:return ib(navigator.userAgent)?c.Mobile:c.Extension;case a.BITGET:return c.BITGET}}!function(e){e.Google="GOOGLE",e.Line="LINE",e.Naver="NAVER",e.Kakao="KAKAO",e.Apple="APPLE",e.Wechat="WECHAT",e.Kaia="KAIA",e.OKX="OKX",e.BITGET="BITGET"}(a||(a={})),function(e){e.Web="Web",e.Liff="Liff",e.Extension="Extension",e.KaiaMobileIab="KaiaMobileIab",e.Mobile="Mobile",e.OKX="OKX",e.BITGET="BITGET"}(c||(c={}));class iC extends Error{constructor(e){super(e.message),this.name="RpcException",this.code=e.code,this.data=e.data,Object.setPrototypeOf(this,iC.prototype)}}!function(e){e.invalidRequest="-32600",e.methodNotFound="-32601",e.invalidParams="-32602",e.internal="-32603",e.parse="-32700"}(l||(l={}));let i_={"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}};class iO extends Error{constructor(e,t,r){let n=Number.parseInt(e);if(isNaN(n))throw Error('"code" must be an integer.');super(t??i_[l.invalidRequest].message),this.code=n,r&&(this.data=r),Object.setPrototypeOf(this,iO.prototype)}}class ix extends iO{constructor(e,t){super(l.internal,e,t)}}function iN(e){return e instanceof m.OKXConnectError&&300===e.code&&e.message.includes("user rejects error")?{code:-32001,message:"User canceled"}:e instanceof m.OKXConnectError&&(e.message.includes("Request params address error")||e.message.includes("must provide an Ethereum address"))?{code:-32004,message:"Invalid from address"}:"string"==typeof e?{code:Number.parseInt(l.internal),message:e}:e instanceof iO||e instanceof iC?{code:e.code,message:e.message,data:e.data}:{code:Number.parseInt(l.internal),message:i_[l.internal].message}}!function(e){e.POPUP_BLOCKED="POPUP_BLOCKED",e.PAYMENT_HISTORY_SIGN="PAYMENT_HISTORY_SIGN",e.PAYMENT_HISTORY_OPEN="PAYMENT_HISTORY_OPEN",e.ERC20_APPROVE="ERC20_APPROVE",e.ERC20_APPROVE_RESULT="ERC20_APPROVE_RESULT"}(d||(d={}));let iA={ko:{payment_reqeust_verification_title:"본인 인증",payment_reqeust_verification_desc:"거래내역을 확인하려면 본인 인증이 필요합니다. 아래 버튼을 눌러 서명을 진행해주세요.",payment_reqeust_verification_cancel:"취소",payment_reqeust_verification_submit:"진행하기"},en:{payment_reqeust_verification_title:"Identity verification",payment_reqeust_verification_desc:"Identity verification is required to view your transaction history. Click the button below to sign.",payment_reqeust_verification_cancel:"Cancel",payment_reqeust_verification_submit:"Proceed"},ja:{payment_reqeust_verification_title:"本人認証",payment_reqeust_verification_desc:"取引履歴を確認するには本人認証が必要です。以下のボタンを押して署名を行ってください。",payment_reqeust_verification_cancel:"キャンセル",payment_reqeust_verification_submit:"次に進む"},zh:{payment_reqeust_verification_title:"本人驗證",payment_reqeust_verification_desc:"若要查看交易記錄，需進行本人驗證。請點擊下方按鍵進行簽名。",payment_reqeust_verification_cancel:"取消",payment_reqeust_verification_submit:"進行"},th:{payment_reqeust_verification_title:"ยืนยันตัวตน",payment_reqeust_verification_desc:"จำเป็นต้องยืนยันตัวตนเพื่อดูประวัติธุรกรรมของคุณ คลิกปุ่มด้านล่างเพื่อลงลายมือชื่อ",payment_reqeust_verification_cancel:"ยกเลิก",payment_reqeust_verification_submit:"ดำเนินการ"}},iS={ko:{payment_complete_verification_title:"인증 완료",payment_complete_verification_desc:"본인 인증이 완료되었습니다. 아래 버튼을 눌러 거래내역을 확인하세요.",payment_complete_verification_cancel:"취소",payment_complete_verification_submit:"진행하기"},en:{payment_complete_verification_title:"Verification complete",payment_complete_verification_desc:"Identity verification complete. Click the button below to view your transaction history.",payment_complete_verification_cancel:"Cancel",payment_complete_verification_submit:"Proceed"},ja:{payment_complete_verification_title:"認証完了",payment_complete_verification_desc:"本人認証が完了しました。以下のボタンを押して取引履歴をご確認ください。",payment_complete_verification_cancel:"キャンセル",payment_complete_verification_submit:"次に進む"},zh:{payment_complete_verification_title:"驗證完成",payment_complete_verification_desc:"已完成本人驗證。請點擊下方按鍵查看交易記錄。",payment_complete_verification_cancel:"取消",payment_complete_verification_submit:"進行"},th:{payment_complete_verification_title:"ยืนยันสำเร็จ",payment_complete_verification_desc:"ยืนยันตัวตนสำเร็จ คลิกที่ปุ่มด้านล่างเพื่อดูประวัติธุรกรรมของคุณ",payment_complete_verification_cancel:"ยกเลิก",payment_complete_verification_submit:"ดำเนินการ"}},iT={ko:{wallet_block_popup_title:"팝업 차단",wallet_block_popup_desc:"팝업이 차단되었습니다. 계속 진행하시겠습니까?",wallet_block_popup_cancel:"취소",wallet_block_popup_submit:"진행하기"},en:{wallet_block_popup_title:"Block pop-ups",wallet_block_popup_desc:"Pop-ups have been blocked. Do you want to continue?",wallet_block_popup_cancel:"Cancel",wallet_block_popup_submit:"Proceed"},ja:{wallet_block_popup_title:"ポップアップブロック",wallet_block_popup_desc:"ポップアップがブロックされました。続行しますか？",wallet_block_popup_cancel:"キャンセル",wallet_block_popup_submit:"次に進む"},zh:{wallet_block_popup_title:"封鎖彈出視窗",wallet_block_popup_desc:"已封鎖彈出視窗。要繼續進行嗎？",wallet_block_popup_cancel:"取消",wallet_block_popup_submit:"進行"},th:{wallet_block_popup_title:"บล็อกป็อบอัป",wallet_block_popup_desc:"ป็อบอัปถูกบล็อกแล้ว ต้องการดำเนินการต่อหรือไม่?",wallet_block_popup_cancel:"ยกเลิก",wallet_block_popup_submit:"ดำเนินการ"}};class iR{constructor(e){this.chainRpcUrl=e.chainNodeRpcEndpoint}async requestRpc(e){let t={id:0,jsonrpc:"2.0",...e},r=await fetch(this.chainRpcUrl,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),{result:n,error:i}=await r.json();if(i)throw console.error("Error in RPC request",i),i;return n}}let iI=(e,t,r,n,i,s)=>{if(e!==d.ERC20_APPROVE&&e!==d.ERC20_APPROVE_RESULT)throw Error(`[Internal Error] - ${e} is not supported in this context.`);let o=e===d.ERC20_APPROVE?iP:ik,a=e===d.ERC20_APPROVE?"payment_approve_permission_popup_title":"payment_proceed_payment_popup_title",c=e===d.ERC20_APPROVE?"payment_approve_permission_popup_desc":"payment_proceed_payment_popup_desc",l=e===d.ERC20_APPROVE?"payment_approve_permission_popup_submit":"payment_proceed_payment_popup_submit",h=e===d.ERC20_APPROVE?"payment_approve_permission_popup_cancel":"payment_proceed_payment_popup_cancel",u=`
    <div class="row">
      <div class="row1" id="dappportalsdk_tokenApproveTokenNameTitle"></div>
      <div class="row2Wrapper">
        <img class="imageToken" src="${i}" alt="img"/>
        <div class="row2">
          ${n}
        </div>
      </div>
    </div>  
    <div class="sizedBox"></div>
    <div class="row">
      <div class="row1" id="dappportalsdk_tokenApproveScopeTitle"></div>
      <div class="row2">
        ${s}
      </div>
    </div>  
  `;return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <style>
        body {
          margin: 0;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
            sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
        .bottomSheetContainer {
          position: absolute;
          display: flex;
          flex-direction: column;
          align-items: center;
          bottom: 0;
          left: 0;
          right: 0;
          width: 100%;
          height: 480px;
          z-index: 999999999999999;
          border-top-left-radius: 16px;
          border-top-right-radius: 16px;
          overflow-y: auto;
          background-color: #ffffff;
          box-shadow: 0px -8px 12px 0px rgba(16, 24, 64, 0.1);
        }
        .dialogContainer {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background-color: #ffffff;
          z-index: 999999999999999;
          border-radius: 26px;
          width: 420px;
          height: ${e===d.ERC20_APPROVE?"437px":"355px"};
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
        }
        .headerContainer {
          width: 100%;
          height: ${t?"50px":"24px"};
          display: flex;
          flex-direction: row;
          justify-content: flex-end;
        }
        .closeBtn {
          width: 24px;
          height: 24px;
          margin: 16px;
          cursor: pointer;
        }
        .imageCheck {
          width: 72px;
          height: 72px;
          margin-top: 16px;
        }
        .title {
          font-size: 28px;
          font-weight: 700;
          color: #000000;
          margin-top: 18px;
        }
        .desc {
          font-size: ${t?"14px":"16px"};
          font-weight: 400;
          color: #666666;
          margin-top: 8px;
          padding: 0 24px;
          text-align: center;
        }
        .flexBox {
          flex: 1;        
        }
        .sizedBox {
          height: 12px;
        }
        .buttonWrapper {
          box-sizing: border-box;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          width: 100%;
          padding: ${t?"36px 24px":"40px 40px"};
        }
        .cancelBtn {
          background-color: #FFFFFF;
          color: #000000;
          font-size: 16px;
          font-weight: 700;
          border-radius: 8px;
          border: 1px solid #EFEFEF;
          padding: 12px 0;
          width: 100%;
          text-align: center;
          cursor: pointer;
        }
        .approveBtn {
          margin-left: 7px;
          background-color: #06C755;
          color: #FFFFFF;
          font-size: 16px;
          font-weight: 700;
          border-radius: 8px;
          padding: 12px 0;
          width: 100%;
          text-align: center;
          cursor: pointer;
        }
        .row {
          width: 100%;
          box-sizing: border-box;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          align-items: center;
          padding: 0 ${t?"24px":"40px"}; 
        }
        .row1 {
          font-size: ${t?"14px":"16px"};
          font-weight: 400;
          color: #666666;
        }
        .row2 {
          font-size: ${t?"14px":"16px"};
          font-weight: 400;
          color: #000000;
        }
        .imageToken {
          width: 16px;
          height: 16px;
          margin-right: 2px;        
        }
        .row2Wrapper {
          display: flex;
          flex-direction: row;
          align-items: center;
        }
      </style>
    </head>
    <body>
    <script>
      const browserLang = window.navigator.language.slice(0, 2);
      const xlt = ${JSON.stringify(o)};
      const translations = xlt[browserLang] || xlt['en'];
      console.log(translations);
      
      window.onload = function() {
        const tokenNameElement = document.getElementById('dappportalsdk_tokenApproveTokenNameTitle');
        if (tokenNameElement) {
          tokenNameElement.innerHTML = translations.payment_approve_permission_popup_token_name;
        }
        const scopeElement = document.getElementById('dappportalsdk_tokenApproveScopeTitle');
        if (scopeElement) {
          scopeElement.innerHTML = translations.payment_approve_permission_popup_scope;
        }
        document.getElementById('dappportalsdk_title').innerHTML = translations.${a};
        document.getElementById('dappportalsdk_desc').innerHTML = translations.${c};
        document.getElementById('dappportalsdk_cancelBtn').innerHTML = translations.${h};
        document.getElementById('dappportalsdk_approveBtn').innerHTML = translations.${l};
        
        document.getElementById('dappportalsdk_closeBtn').addEventListener('click', function() {
          window.parent.postMessage({event: 'Canceled'}, '*');
        });
        document.getElementById('dappportalsdk_cancelBtn').addEventListener('click', function() {
          window.parent.postMessage({event: 'Canceled'}, '*');
        });
        document.getElementById('dappportalsdk_approveBtn').addEventListener('click', function() {
          window.parent.postMessage({event: 'Clicked'}, '*');
        });
      }
    </script>
    <div class=${t?"bottomSheetContainer":"dialogContainer"}>
      <div class="headerContainer">
        <img id="dappportalsdk_closeBtn" class="closeBtn" src="https://static.kaiawallet.io/assets/sdk/ic_close.svg" alt="img"/>
      </div>
      <img class="imageCheck" src=${r} alt="tokenImage"/>
      <div class="title" id="dappportalsdk_title"/></div>
      <div class="desc" id="dappportalsdk_desc"/></div>
      <div class="flexBox"></div>
      ${e===d.ERC20_APPROVE?u:"\n    <div>\n    </div>\n  "}
      <div class="buttonWrapper">
        <div id="dappportalsdk_cancelBtn" class="cancelBtn"></div>
        <div id="dappportalsdk_approveBtn" class="approveBtn"></div>
      </div>
    </div>
    </body>
    </html>
    `},iP={ko:{payment_approve_permission_popup_title:"접근권한 승인",payment_approve_permission_popup_desc:"결제를 위해 최초 1회의<br/>접근 권한 승인이 필요합니다.",payment_approve_permission_popup_token_name:"토큰 이름",payment_approve_permission_popup_token_usdt:"USDT",payment_approve_permission_popup_scope:"권한 범위",payment_approve_permission_popup_scope_desc:"approve",payment_approve_permission_popup_cancel:"취소",payment_approve_permission_popup_submit:"승인"},en:{payment_approve_permission_popup_title:"Grant access permission",payment_approve_permission_popup_desc:"Access permission must be<br/>granted once for the payment.",payment_approve_permission_popup_token_name:"Token Name",payment_approve_permission_popup_token_usdt:"USDT",payment_approve_permission_popup_scope:"Scope of permission",payment_approve_permission_popup_scope_desc:"approve",payment_approve_permission_popup_cancel:"Cancel",payment_approve_permission_popup_submit:"Grant"},ja:{payment_approve_permission_popup_title:"アクセス権限の許可",payment_approve_permission_popup_desc:"決済のために、初回のみ<br/>アクセス権限の許可が必要です。",payment_approve_permission_popup_token_name:"トークン名",payment_approve_permission_popup_token_usdt:"USDT",payment_approve_permission_popup_scope:"アクセス範囲",payment_approve_permission_popup_scope_desc:"approve",payment_approve_permission_popup_cancel:"キャンセル",payment_approve_permission_popup_submit:"許可"},zh:{payment_approve_permission_popup_title:"同意存取權限",payment_approve_permission_popup_desc:"首次付款需取得<br/>存取權限同意。",payment_approve_permission_popup_token_name:"代幣名稱",payment_approve_permission_popup_token_usdt:"USDT",payment_approve_permission_popup_scope:"權限範圍",payment_approve_permission_popup_scope_desc:"approve",payment_approve_permission_popup_cancel:"取消",payment_approve_permission_popup_submit:"同意"},th:{payment_approve_permission_popup_title:"อนุญาตสิทธิ์การเข้าถึง",payment_approve_permission_popup_desc:"จำเป็นต้องให้สิทธิ์การเข้าถึง<br/>เพียงครั้งเดียวสำหรับการชำระเงิน",payment_approve_permission_popup_token_name:"ชื่อโทเค็น",payment_approve_permission_popup_token_usdt:"USDT",payment_approve_permission_popup_scope:"ขอบเขตการอนุญาต",payment_approve_permission_popup_scope_desc:"approve",payment_approve_permission_popup_cancel:"ยกเลิก",payment_approve_permission_popup_submit:"ให้สิทธิ์"}},ik={ko:{payment_proceed_payment_popup_title:"접근권한 승인 완료",payment_proceed_payment_popup_desc:"접근권한 승인이 완료되었습니다. 아래 버튼을 눌러 결제를 진행하세요.",payment_proceed_payment_popup_cancel:"취소",payment_proceed_payment_popup_submit:"결제"},en:{payment_proceed_payment_popup_title:"Access permission granted",payment_proceed_payment_popup_desc:"Access permission has been granted. Press the button below to proceed with payment.",payment_proceed_payment_popup_cancel:"Cancel",payment_proceed_payment_popup_submit:"Pay"},ja:{payment_proceed_payment_popup_title:"アクセス許可済み",payment_proceed_payment_popup_desc:"アクセス権限が許可されました。下のボタンを押して、決済へお進みください。",payment_proceed_payment_popup_cancel:"キャンセル",payment_proceed_payment_popup_submit:"決済"},zh:{payment_proceed_payment_popup_title:"已同意存取權限",payment_proceed_payment_popup_desc:"已同意存取權限，請點選下方按鈕進行付款。",payment_proceed_payment_popup_cancel:"取消",payment_proceed_payment_popup_submit:"付款"},th:{payment_proceed_payment_popup_title:"ได้รับสิทธิ์การเข้าถึงแล้ว",payment_proceed_payment_popup_desc:"สิทธิ์การเข้าถึงได้ถูกอนุมัติแล้ว กดปุ่มด้านล่างเพื่อดำเนินการชำระเงิน",payment_proceed_payment_popup_cancel:"ยกเลิก",payment_proceed_payment_popup_submit:"ชำระเงิน"}};function iD(e,t,r){let n=document.createElement("div");n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100dvh",n.style.backgroundColor="rgba(0, 0, 0, 0.35)",n.style.zIndex="9999999",n.id="iframeDiv";let i=document.createElement("iframe");i.srcdoc=e,i.width=t,i.height=r,i.style.border="none",i.style.zIndex="99999999";let s=n.appendChild(i);return document.body.appendChild(n),s}function iU(){let e=document.getElementById("iframeDiv");e?.remove()}class iM{constructor(e){this.resolvePromise=()=>{},this.rejectPromise=()=>{},this.config=e}setupListeners(e){let t,r;switch(e){case d.POPUP_BLOCKED:case d.PAYMENT_HISTORY_SIGN:case d.PAYMENT_HISTORY_OPEN:case d.ERC20_APPROVE:case d.ERC20_APPROVE_RESULT:t="Clicked",r="Canceled";break;default:throw Error("[Internal Error] Unsupported ClickEventEmitterUiType: "+e)}let n=n=>{let i=this.iframe;if(!i||n.source!==i.contentWindow)return;let s=n.data;if(!s||"object"!=typeof s)return;let o=s.event;if(o)switch(o){case t:this.resolvePromise&&this.resolvePromise();break;case r:this.rejectPromise&&(this.rejectPromise(Error("User canceled")),this.reset());break;default:throw Error("[Internal Error] Unsupported ClickEventEmitterUiType: "+e)}};window.addEventListener("message",n),this.eventListener=n}clearListeners(){let e=this.eventListener;e&&(window.removeEventListener("message",e),this.eventListener=void 0)}reset(){this.resolvePromise=void 0,this.rejectPromise=void 0,iU(),this.clearListeners()}async awaitUserClick(e,t={}){let r=ib(navigator.userAgent),n=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t});switch(this.setupListeners(e),e){case d.POPUP_BLOCKED:case d.PAYMENT_HISTORY_SIGN:case d.PAYMENT_HISTORY_OPEN:this.iframe=iD((e=>{if(e===d.ERC20_APPROVE||e===d.ERC20_APPROVE_RESULT)throw Error(`[Internal Error] - ${e} is not supported in this context.`);let t=e===d.POPUP_BLOCKED?iT:e===d.PAYMENT_HISTORY_SIGN?iA:iS,r=e===d.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_title":e===d.PAYMENT_HISTORY_OPEN?"payment_complete_verification_title":"wallet_block_popup_title",n=e===d.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_desc":e===d.PAYMENT_HISTORY_OPEN?"payment_complete_verification_desc":"wallet_block_popup_desc",i=e===d.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_submit":e===d.PAYMENT_HISTORY_OPEN?"payment_complete_verification_submit":"wallet_block_popup_submit",s=e===d.PAYMENT_HISTORY_SIGN?"payment_reqeust_verification_cancel":e===d.PAYMENT_HISTORY_OPEN?"payment_complete_verification_cancel":"wallet_block_popup_cancel";return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <style>
        .popupContainer {
          background-color: white;
          display: flex;
          flex-direction: column;
          border-radius: 20px;
          padding: 30px 24px;
          align-items: center;
        }
        .title {
          font-size: 18px;
          font-weight: 700;
          text-align: center;
        }
        .desc {
          margin-top: 12px;
          font-size: 16px;
          font-weight: 400;
          text-align: center;
        }
        .btnContainer {
          display: flex;
          flex-direction: column;
          width: 100%;
        }
        .okBtn {
          background-color: #000000;
          color: #ffffff;
          font-size: 16px;
          font-weight: 700;
          padding: 15px 24px;
          cursor: pointer;
          border-radius: 100px;
          margin-top: 24px;
          border: none;
          width: 100%;
        }
        .cancelBtn {
          background-color: #FFFFFF;
          color: #7B7F81;
          font-size: 15px;
          font-weight: 700;
          cursor: pointer;
          border: none;
          margin-top: 15px;
        }
      </style>
    </head>
    <body>
    <script>
      const browserLang = window.navigator.language.slice(0, 2);
      const xlt = ${JSON.stringify(t)};
      const translations = xlt[browserLang] || xlt['en'];
      console.log(translations);
    
      window.onload = function() {
        document.getElementById('dappportalsdk_popup_title').innerHTML = translations.${r};
        document.getElementById('dappportalsdk_popup_desc').innerHTML = translations.${n};
        document.getElementById('dappportalsdk_popup_cancel').textContent = translations.${s};
        document.getElementById('dappportalsdk_popup_proceed').textContent = translations.${i};
    
        document.getElementById('dappportalsdk_popup_cancel').addEventListener('click', function() {
          window.parent.postMessage({event: 'Canceled'}, '*');
        });
        document.getElementById('dappportalsdk_popup_proceed').addEventListener('click', function() {
          window.parent.postMessage({event: 'Clicked'}, '*');
        });
      }
    </script>
    <div class="popupContainer">
      <div id="dappportalsdk_popup_title" class="title"></div>
      <div id="dappportalsdk_popup_desc" class="desc"></div>
      <div class="btnContainer">
        <button id="dappportalsdk_popup_proceed" class="okBtn"></button>
        <button id="dappportalsdk_popup_cancel" class="cancelBtn"></button>
      </div>
    </div>
    </body>
    </html>
    `})(e),"300px","400px");break;case d.ERC20_APPROVE:{let e=t.contractAddress,n=t.scope;if(!e||!n)throw Error("[Internal Error] - Failed to get erc20 token info");let i=this.config.erc20Tokens[e];if(!i)throw Error("[Internal Error] - Failed to get erc20 token info");let s=i.name,o=i.imageUrl;this.iframe=iD(iI(d.ERC20_APPROVE,r,"https://static.kaiawallet.io/assets/sdk/3d_circle_check_mint.png",s,o,n),r?"100%":"420px","100%");break}case d.ERC20_APPROVE_RESULT:this.iframe=iD(iI(d.ERC20_APPROVE_RESULT,r,"https://static.kaiawallet.io/assets/sdk/3d_check_blue.png",null,null,null),r?"100%":"420px","100%")}await n.catch(()=>{throw new iC({code:-32001,message:"User canceled popup"})}),this.reset(),window.focus()}}function iL(e){let t=(new TextEncoder).encode(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return"0x"+r}class ij{constructor(e){this.getPayment=async e=>{let t=`${this.baseUrl}/api/payment-v1/payment/info`;try{return(await rD.get(t,{params:{id:e},headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get payment info - ",e),e}},this.getCryptoApproveTxInfo=async e=>{let t=`${this.baseUrl}/api/payment-v1/payment/crypto/approveTx/${e}`;try{return(await rD.get(t,{headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get crypto approve tx info - ",e),e}},this.waitForConfirm=async e=>{let t=1;for(;t<this.maxRetryCount;)try{switch((await this.getPaymentStatus(e)).status){case"CONFIRMED":case"FINALIZED":return;case"CANCELED":throw new iC({code:-31001,message:"Payment is canceled"});case"CONFIRM_FAILED":throw new iC({code:-31002,message:"Payment is failed"})}await this.delayPolling(1e3)}catch(e){if(e instanceof iC)throw console.error(e),e}finally{t++}throw Error("Fail to wait for response")},this.delayPolling=async e=>{await new Promise(t=>setTimeout(t,e))},this.getPaymentStatus=async e=>{let t=`${this.baseUrl}/api/payment-v1/payment/status`;try{return(await rD.get(t,{params:{id:e},headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get payment info - ",e),e}},this.register=async(e,t)=>{let r=`${this.baseUrl}/api/payment-v1/payment/register`;try{await rD.post(r,{id:e,txHash:t},{headers:{"Content-Type":"application/json"}})}catch(e){throw console.error("Fail to register - ",e),e}},this.cancelCryptoPayment=async e=>{let t=`${this.baseUrl}/api/payment-v1/payment/cancel/crypto/${e}`;try{return(await rD.post(t,null,{headers:{"Content-Type":"application/json","x-client-id":this.clientId}})).data}catch(e){throw console.error("Fail to cancel crypto payment - ",e),e}},this.startPayment=async(e,t,r)=>{let n=`${this.baseUrl}/api/payment-v1/payment/start`;try{return(await rD.post(n,{id:e,userAgent:t,isLiff:r},{headers:{"Content-Type":"application/json","X-Sdk-Version":"1.4.4"}})).data}catch(e){throw console.error("Fail to startPayment - ",e),e}},this.getNonceForPaymentHistory=async e=>{let t=`${this.baseUrl}/api/payment-v1/auth/nonce`;try{return(await rD.get(t,{params:{walletAddress:e},headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get nonce for payment history - ",e),e}},this.getSessionTokenForPaymentHistory=async(e,t)=>{let r=`${this.baseUrl}/api/payment-v1/auth/verify`;try{return(await rD.post(r,{walletAddress:e,signature:t,isLegacy:!1},{headers:{"Content-Type":"application/json","x-client-id":this.clientId}})).data}catch(e){throw console.error("Fail to get session token for payment history - ",e),e}},this.signTransactionAsFeePayer=async(e,t)=>{let r=`${this.baseUrl}/api/payment-v1/payment/signTransactionAsFeePayer`;try{return(await rD.post(r,{paymentId:e,userSignedRawTransaction:t},{headers:{"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to sign transaction as fee payer - ",e),e}},this.baseUrl=e.paymentServerConfig.baseUrl,this.maxRetryCount=e.relayServerConfig.maxRetryCount,this.clientId=e.clientId}}class iB{constructor(e){this.paymentClient=new ij(e)}async getPayment(e){return await this.paymentClient.getPayment(e)}async getCryptoApproveTxInfo(e){return await this.paymentClient.getCryptoApproveTxInfo(e)}async cancelCryptoPayment(e){return await this.paymentClient.cancelCryptoPayment(e)}async startPayment(e){let t=navigator.userAgent,r=g.M.isInClient();return await this.paymentClient.startPayment(e,t,r)}async waitForConfirm(e){try{await this.paymentClient.waitForConfirm(e)}catch(e){throw iN(e)}}async registerTxHash(e,t){await this.paymentClient.register(e,t)}openStripePaymentPage(e,t,r){return window.open(e,"stripePayment",`width=${t},height=${r}`)}async getNonceForPaymentHistory(e){return await this.paymentClient.getNonceForPaymentHistory(e)}async getSessionTokenForPaymentHistory(e,t){return await this.paymentClient.getSessionTokenForPaymentHistory(e,t)}async signTransactionAsFeePayer(e,t){return this.paymentClient.signTransactionAsFeePayer(e,t)}}class iW{constructor(e,t,r){this.config=e,this.walletProvider=t,this.handler=new iB(e),this.clickEventListener=new iM(e),this.trackingService=r,this.chainNodeRpcClient=new iR(e)}async startPayment(e){this.trackingService.sendWalletActivity("START_PAYMENT",{paymentId:e});let t=(await this.walletProvider.request({method:"kaia_accounts"}))[0];if(!t)throw Error("Wallet is not connected");let r=await this.handler.getPayment(e);"CRYPTO"===r.pgType?await this.handleCryptoPayment(e,r,t):await this.handleStripePayment(e),await this.handler.waitForConfirm(e)}async handleCryptoPayment(e,t,r){let n=await this.walletProvider.request({method:"kaia_gasPrice",params:[]}),i="KAIA"!==t.currencyCode,s=!1;if(i){let i=await this.handler.getCryptoApproveTxInfo(e);await this.isApproveRequired(i.allowanceTxDTO,t.price,t.decimal)&&(await this.requestApprove(i.enableCryptoFeeDelegation,e,r,n,i.approveTxDTO),s=!0)}let o=await this.handler.startPayment(e),a=o.paymentTxDTO,c=await this.requestPayment(o.enableCryptoFeeDelegation,i&&s,e,r,n,a);await this.handler.registerTxHash(e,c)}async handleStripePayment(e){let t=(await this.handler.startPayment(e)).redirectUrl;this.handler.openStripePaymentPage(t,this.config.stripePopupSize.width,this.config.stripePopupSize.height)||g.M.isInClient()||(await this.clickEventListener.awaitUserClick(d.POPUP_BLOCKED),this.handler.openStripePaymentPage(t,this.config.stripePopupSize.width,this.config.stripePopupSize.height))}async openPaymentHistory(){let e=(await this.walletProvider.request({method:"kaia_accounts"}))[0];if(!e)throw Error("Wallet is not connected");let t=await this.walletProvider.getWalletType();if(!t)throw Error("Walet type is not initialized");let r=await this.handler.getNonceForPaymentHistory(e);await this.clickEventListener.awaitUserClick(d.PAYMENT_HISTORY_SIGN);let n=await this.issueSessionToken(r,e);await this.clickEventListener.awaitUserClick(d.PAYMENT_HISTORY_OPEN),await this.openPaymentHistoryPage(t,n),this.clickEventListener.reset()}async issueSessionToken(e,t){let r=iL(e),n=await this.walletProvider.request({method:"personal_sign",params:[r,t]});return await this.handler.getSessionTokenForPaymentHistory(t,n)}async openPaymentHistoryPage(e,t){let r=`${this.getPaymentPageBaseUrl()}?sessionToken=${t}`;if(g.M.isInClient())return void await g.M.subWindow.open({url:r});let n=navigator.userAgent;if(im(n)&&iy(n))return void(window.location.href=r);let i=this.config.webWalletConfig.popupSize;window.open(r,"payment",`width=${i.width},height=${i.height}`)}getPaymentPageBaseUrl(){return im(navigator.userAgent)?`${this.config.paymentHistoryPopupConfig.liffUrl}/payment-history`:`${this.config.paymentHistoryPopupConfig.webUrl}/payment-history`}async isApproveRequired(e,t,r){return BigInt(await this.chainNodeRpcClient.requestRpc({method:"eth_call",params:[{to:e.to,input:e.input},"latest"]}))<function(e,t){let r=new eV(10).pow(t);return BigInt(new eV(e).mul(r).toFixed(0))}(t,r)}async requestApprove(e,t,r,n,i){let s={typeInt:e?49:48,from:r,to:i.to,gasPrice:n,value:i.value,input:i.input},o=e?await this.estimateGasWithoutBalanceCheck(r,s):await this.estimateGas(s);try{return await this.clickEventListener.awaitUserClick(d.ERC20_APPROVE,{contractAddress:i.to,scope:"approve"}),e?await this.requestFeeDelegatedApprove(t,s,o):await this.requestNonFeeDelegatedApprove(s,o)}catch(e){throw -32001===e.code&&await this.handler.cancelCryptoPayment(t),e}}async requestNonFeeDelegatedApprove(e,t){return this.walletProvider.request({method:"kaia_sendTransaction",params:[{...e,gas:t}]})}async requestFeeDelegatedApprove(e,t,r){let n=await this.walletProvider.request({method:"kaia_signTransaction",params:[{...t,gas:`0x${(BigInt(r)*BigInt(2)).toString(16)}`}]});return this.handler.signTransactionAsFeePayer(e,n.raw)}async requestPayment(e,t,r,n,i,s){return e?this.requestFeeDelegatedTransaction(t,r,n,i,s):this.requestNonFeeDelegatedTransaction(t,n,i,s)}async requestNonFeeDelegatedTransaction(e,t,r,n){let i={typeInt:48,from:t,to:n.to,gasPrice:r,value:n.value,input:n.input},s=await this.estimateGas(i);return e&&await this.clickEventListener.awaitUserClick(d.ERC20_APPROVE_RESULT),this.walletProvider.request({method:"kaia_sendTransaction",params:[{...i,gas:s}]})}async requestFeeDelegatedTransaction(e,t,r,n,i){let s={typeInt:49,from:r,to:i.to,gasPrice:n,value:i.value,input:i.input},o=await this.estimateGasWithoutBalanceCheck(r,s);e&&await this.clickEventListener.awaitUserClick(d.ERC20_APPROVE_RESULT);let a=await this.walletProvider.request({method:"kaia_signTransaction",params:[{...s,gas:`0x${(BigInt(o)*BigInt(2)).toString(16)}`}]});return(await this.handler.signTransactionAsFeePayer(t,a.raw)).txHash}async estimateGas(e){return this.walletProvider.request({method:"kaia_estimateGas",params:[e]})}async estimateGasWithoutBalanceCheck(e,t){return this.walletProvider.request({method:"kaia_estimateGas",params:[t,"latest",{[e]:{balance:"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"}}]})}}class iK{constructor(e){this.fetchClientInfo=async()=>{let e=`${this.baseUrl}/api/v1/client-info`;try{return(await rD.get(e,{headers:{"x-client-id":this.clientId}})).data}catch(e){throw console.error("Fail to get client info - ",e),e}},this.clientId=e.clientId,this.baseUrl=e.relayServerConfig.baseUrl}}let iH="VISIT",iF="reownVerified",iq="bitgetExtensionInstalled",iX="walletType",iV="selectedWalletAddress",iz="deviceId",i$="providerType",iG="eventRead",iJ="eventFloating";class iZ{constructor(e){this.chainId=e}clear(){this.removeItem(iX),this.removeItem(iV)}setWalletType(e){this.setItem(iX,e)}getWalletType(){return this.getItem(iX)}setProviderType(e){this.setItem(i$,e)}getProviderType(){return this.getItem(i$)}setSelectedWallet(e){this.setItem(iV,e)}getConnectedWallet(){return this.getItem(iV)}getDeviceId(){return this.getItem(iz)}setDeviceId(e){this.setItem(iz,e)}getEventRead(e){let t=`${iG}:${e}`;return"true"===this.getItem(t)}setEventRead(e,t){let r=`${iG}:${e}`;this.setItem(r,t?"true":"false")}getEventFloating(e){let t=`${iJ}:${e}`;return"true"===this.getItem(t)}setEventFloating(e,t){let r=`${iJ}:${e}`;this.setItem(r,t?"true":"false")}getKeyWithPrefix(e){return`sdk.dappportal.io:${this.chainId}:${e}`}setItem(e,t){localStorage.setItem(this.getKeyWithPrefix(e),t)}getItem(e){return localStorage.getItem(this.getKeyWithPrefix(e))}removeItem(e){localStorage.removeItem(this.getKeyWithPrefix(e))}}var iY=function(e,t,r){var n;return function(t){var r,i,s;return new Worker(n=n||(i=(r=atob(e)).indexOf("\n",10)+1,s=new Blob([r.substring(i)+""],{type:"application/javascript"}),URL.createObjectURL(s)),t)}}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCh0KXtjb25zdCBpPW5ldyBBcnJheUJ1ZmZlcig4KTtyZXR1cm4gbmV3IERhdGFWaWV3KGkpLnNldEJpZ1VpbnQ2NCgwLHQpLG5ldyBVaW50OEFycmF5KGkpfWZ1bmN0aW9uIGkodCxpKXtpZih0Lmxlbmd0aCE9PWkubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0hPT1pW3JdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHIodCl7Y29uc3QgaT1hdG9iKHQpLHI9aS5sZW5ndGgsZT1uZXcgVWludDhBcnJheShyKTtmb3IobGV0IGg9MDtoPHI7aCsrKWVbaF09aS5jaGFyQ29kZUF0KGgpO3JldHVybiBlfXNlbGYub25tZXNzYWdlPWFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0e2NoYWxsZW5nZXM6aH09ZS5kYXRhLHM9QmlnSW50KDB4MTAwMDAwMDAwMDAwMDAwMDApLG49W10sbz1EYXRlLm5vdygpO2Zvcihjb25zdCBmIG9mIGgpe2lmKCFmLnNhbHR8fCFmLnRhcmdldCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgY2hhbGxlbmdlIHN0cnVjdHVyZSIpO2NvbnN0IGU9cihmLnNhbHQpLGg9cihmLnRhcmdldCk7Zm9yKGxldCByPUJpZ0ludCgwKTtyPHM7cisrKXtjb25zdCBzPW5ldyBVaW50OEFycmF5KFsuLi5lLC4uLnQocildKTtpZihpKHNoYTI1Ni5jcmVhdGUoKS51cGRhdGUocykuYXJyYXkoKSxoKSl7bi5wdXNoKHtpbmRleDpmLl9pbmRleCxhbnN3ZXI6cn0pO2JyZWFrfX19Y29uc3QgYT1EYXRlLm5vdygpLW87c2VsZi5wb3N0TWVzc2FnZSh7cmVzdWx0czpuLHRvdGFsRXhlY3V0aW9uVGltZTphfSl9LGZ1bmN0aW9uKCl7dmFyIHQ9ImlucHV0IGlzIGludmFsaWQgdHlwZSIsaT0ib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyxyPWk/d2luZG93Ont9O3IuSlNfU0hBMjU2X05PX1dJTkRPVyYmKGk9ITEpO3ZhciBlPSFpJiYib2JqZWN0Ij09dHlwZW9mIHNlbGYsaD0hci5KU19TSEEyNTZfTk9fTk9ERV9KUyYmIm9iamVjdCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLnZlcnNpb25zJiZwcm9jZXNzLnZlcnNpb25zLm5vZGU7aD9yPWdsb2JhbDplJiYocj1zZWxmKTt2YXIgcz0hci5KU19TSEEyNTZfTk9fQ09NTU9OX0pTJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMsbj0iZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kLG89IXIuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUiYmInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlcixhPSIwMTIzNDU2Nzg5YWJjZGVmIi5zcGxpdCgiIiksZj1bLTIxNDc0ODM2NDgsODM4ODYwOCwzMjc2OCwxMjhdLHU9WzI0LDE2LDgsMF0sYz1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSx5PVsiaGV4IiwiYXJyYXkiLCJkaWdlc3QiLCJhcnJheUJ1ZmZlciJdLGw9W107IXIuSlNfU0hBMjU2X05PX05PREVfSlMmJkFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9KSwhb3x8IXIuSlNfU0hBMjU2X05PX0FSUkFZX0JVRkZFUl9JU19WSUVXJiZBcnJheUJ1ZmZlci5pc1ZpZXd8fChBcnJheUJ1ZmZlci5pc1ZpZXc9ZnVuY3Rpb24odCl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiB0JiZ0LmJ1ZmZlciYmdC5idWZmZXIuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcn0pO3ZhciBwPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBuZXcgZyhpLCEwKS51cGRhdGUocilbdF0oKX19LGQ9ZnVuY3Rpb24odCl7dmFyIGk9cCgiaGV4Iix0KTtoJiYoaT13KGksdCkpLGkuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHQpfSxpLnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5jcmVhdGUoKS51cGRhdGUodCl9O2Zvcih2YXIgcj0wO3I8eS5sZW5ndGg7KytyKXt2YXIgZT15W3JdO2lbZV09cChlLHQpfXJldHVybiBpfSx3PWZ1bmN0aW9uKGkscil7dmFyIGU9cmVxdWlyZSgiY3J5cHRvIiksaD1yPyJzaGEyMjQiOiJzaGEyNTYiO3JldHVybiBmdW5jdGlvbihyKXtpZigic3RyaW5nIj09dHlwZW9mIHIpcmV0dXJuIGUuY3JlYXRlSGFzaChoKS51cGRhdGUociwidXRmOCIpLmRpZ2VzdCgiaGV4Iik7aWYobnVsbD09cil0aHJvdyBuZXcgRXJyb3IodCk7cmV0dXJuIHIuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlciYmKHI9bmV3IFVpbnQ4QXJyYXkocikpLEFycmF5LmlzQXJyYXkocil8fEFycmF5QnVmZmVyLmlzVmlldyhyKXx8ci5jb25zdHJ1Y3Rvcj09PUJ1ZmZlcj9lLmNyZWF0ZUhhc2goaCkudXBkYXRlKChuZXcgVGV4dEVuY29kZXIpLmVuY29kZShyKSkuZGlnZXN0KCJoZXgiKTppKHIpfX0sQT1mdW5jdGlvbih0LGkpe3JldHVybiBmdW5jdGlvbihyLGUpe3JldHVybiBuZXcgdihyLGksITApLnVwZGF0ZShlKVt0XSgpfX0sYj1mdW5jdGlvbih0KXt2YXIgaT1BKCJoZXgiLHQpO2kuY3JlYXRlPWZ1bmN0aW9uKGkpe3JldHVybiBuZXcgdihpLHQpfSxpLnVwZGF0ZT1mdW5jdGlvbih0LHIpe3JldHVybiBpLmNyZWF0ZSh0KS51cGRhdGUocil9O2Zvcih2YXIgcj0wO3I8eS5sZW5ndGg7KytyKXt2YXIgZT15W3JdO2lbZV09QShlLHQpfXJldHVybiBpfTtmdW5jdGlvbiBnKHQsaSl7aT8obFswXT1sWzE2XT1sWzFdPWxbMl09bFszXT1sWzRdPWxbNV09bFs2XT1sWzddPWxbOF09bFs5XT1sWzEwXT1sWzExXT1sWzEyXT1sWzEzXT1sWzE0XT1sWzE1XT0wLHRoaXMuYmxvY2tzPWwpOnRoaXMuYmxvY2tzPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdLHQ/KHRoaXMuaDA9MzIzODM3MTAzMix0aGlzLmgxPTkxNDE1MDY2Myx0aGlzLmgyPTgxMjcwMjk5OSx0aGlzLmgzPTQxNDQ5MTI2OTcsdGhpcy5oND00MjkwNzc1ODU3LHRoaXMuaDU9MTc1MDYwMzAyNSx0aGlzLmg2PTE2OTQwNzY4MzksdGhpcy5oNz0zMjA0MDc1NDI4KToodGhpcy5oMD0xNzc5MDMzNzAzLHRoaXMuaDE9MzE0NDEzNDI3Nyx0aGlzLmgyPTEwMTM5MDQyNDIsdGhpcy5oMz0yNzczNDgwNzYyLHRoaXMuaDQ9MTM1OTg5MzExOSx0aGlzLmg1PTI2MDA4MjI5MjQsdGhpcy5oNj01Mjg3MzQ2MzUsdGhpcy5oNz0xNTQxNDU5MjI1KSx0aGlzLmJsb2NrPXRoaXMuc3RhcnQ9dGhpcy5ieXRlcz10aGlzLmhCeXRlcz0wLHRoaXMuZmluYWxpemVkPXRoaXMuaGFzaGVkPSExLHRoaXMuZmlyc3Q9ITAsdGhpcy5pczIyND10fWZ1bmN0aW9uIHYoaSxyLGUpe3ZhciBoLHM9dHlwZW9mIGk7aWYoInN0cmluZyI9PT1zKXt2YXIgbixhPVtdLGY9aS5sZW5ndGgsdT0wO2ZvcihoPTA7aDxmOysraCkobj1pLmNoYXJDb2RlQXQoaCkpPDEyOD9hW3UrK109bjpuPDIwNDg/KGFbdSsrXT0xOTJ8bj4+PjYsYVt1KytdPTEyOHw2MyZuKTpuPDU1Mjk2fHxuPj01NzM0ND8oYVt1KytdPTIyNHxuPj4+MTIsYVt1KytdPTEyOHxuPj4+NiY2MyxhW3UrK109MTI4fDYzJm4pOihuPTY1NTM2KygoMTAyMyZuKTw8MTB8MTAyMyZpLmNoYXJDb2RlQXQoKytoKSksYVt1KytdPTI0MHxuPj4+MTgsYVt1KytdPTEyOHxuPj4+MTImNjMsYVt1KytdPTEyOHxuPj4+NiY2MyxhW3UrK109MTI4fDYzJm4pO2k9YX1lbHNle2lmKCJvYmplY3QiIT09cyl0aHJvdyBuZXcgRXJyb3IodCk7aWYobnVsbD09PWkpdGhyb3cgbmV3IEVycm9yKHQpO2lmKG8mJmkuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcilpPW5ldyBVaW50OEFycmF5KGkpO2Vsc2UgaWYoIShBcnJheS5pc0FycmF5KGkpfHxvJiZBcnJheUJ1ZmZlci5pc1ZpZXcoaSkpKXRocm93IG5ldyBFcnJvcih0KX1pLmxlbmd0aD42NCYmKGk9bmV3IGcociwhMCkudXBkYXRlKGkpLmFycmF5KCkpO3ZhciBjPVtdLHk9W107Zm9yKGg9MDtoPDY0OysraCl7dmFyIGw9aVtoXXx8MDtjW2hdPTkyXmwseVtoXT01NF5sfWcuY2FsbCh0aGlzLHIsZSksdGhpcy51cGRhdGUoeSksdGhpcy5vS2V5UGFkPWMsdGhpcy5pbm5lcj0hMCx0aGlzLnNoYXJlZE1lbW9yeT1lfWcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihpKXtpZighdGhpcy5maW5hbGl6ZWQpe3ZhciByLGU9dHlwZW9mIGk7aWYoInN0cmluZyIhPT1lKXtpZigib2JqZWN0IiE9PWUpdGhyb3cgbmV3IEVycm9yKHQpO2lmKG51bGw9PT1pKXRocm93IG5ldyBFcnJvcih0KTtpZihvJiZpLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXIpaT1uZXcgVWludDhBcnJheShpKTtlbHNlIGlmKCEoQXJyYXkuaXNBcnJheShpKXx8byYmQXJyYXlCdWZmZXIuaXNWaWV3KGkpKSl0aHJvdyBuZXcgRXJyb3IodCk7cj0hMH1mb3IodmFyIGgscyxuPTAsYT1pLmxlbmd0aCxmPXRoaXMuYmxvY2tzO248YTspe2lmKHRoaXMuaGFzaGVkJiYodGhpcy5oYXNoZWQ9ITEsZlswXT10aGlzLmJsb2NrLHRoaXMuYmxvY2s9ZlsxNl09ZlsxXT1mWzJdPWZbM109Zls0XT1mWzVdPWZbNl09Zls3XT1mWzhdPWZbOV09ZlsxMF09ZlsxMV09ZlsxMl09ZlsxM109ZlsxNF09ZlsxNV09MCkscilmb3Iocz10aGlzLnN0YXJ0O248YSYmczw2NDsrK24pZltzPj4+Ml18PWlbbl08PHVbMyZzKytdO2Vsc2UgZm9yKHM9dGhpcy5zdGFydDtuPGEmJnM8NjQ7KytuKShoPWkuY2hhckNvZGVBdChuKSk8MTI4P2Zbcz4+PjJdfD1oPDx1WzMmcysrXTpoPDIwNDg/KGZbcz4+PjJdfD0oMTkyfGg+Pj42KTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8NjMmaCk8PHVbMyZzKytdKTpoPDU1Mjk2fHxoPj01NzM0ND8oZltzPj4+Ml18PSgyMjR8aD4+PjEyKTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjYmNjMpPDx1WzMmcysrXSxmW3M+Pj4yXXw9KDEyOHw2MyZoKTw8dVszJnMrK10pOihoPTY1NTM2KygoMTAyMyZoKTw8MTB8MTAyMyZpLmNoYXJDb2RlQXQoKytuKSksZltzPj4+Ml18PSgyNDB8aD4+PjE4KTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjEyJjYzKTw8dVszJnMrK10sZltzPj4+Ml18PSgxMjh8aD4+PjYmNjMpPDx1WzMmcysrXSxmW3M+Pj4yXXw9KDEyOHw2MyZoKTw8dVszJnMrK10pO3RoaXMubGFzdEJ5dGVJbmRleD1zLHRoaXMuYnl0ZXMrPXMtdGhpcy5zdGFydCxzPj02ND8odGhpcy5ibG9jaz1mWzE2XSx0aGlzLnN0YXJ0PXMtNjQsdGhpcy5oYXNoKCksdGhpcy5oYXNoZWQ9ITApOnRoaXMuc3RhcnQ9c31yZXR1cm4gdGhpcy5ieXRlcz40Mjk0OTY3Mjk1JiYodGhpcy5oQnl0ZXMrPXRoaXMuYnl0ZXMvNDI5NDk2NzI5NnwwLHRoaXMuYnl0ZXM9dGhpcy5ieXRlcyU0Mjk0OTY3Mjk2KSx0aGlzfX0sZy5wcm90b3R5cGUuZmluYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5maW5hbGl6ZWQpe3RoaXMuZmluYWxpemVkPSEwO3ZhciB0PXRoaXMuYmxvY2tzLGk9dGhpcy5sYXN0Qnl0ZUluZGV4O3RbMTZdPXRoaXMuYmxvY2ssdFtpPj4+Ml18PWZbMyZpXSx0aGlzLmJsb2NrPXRbMTZdLGk+PTU2JiYodGhpcy5oYXNoZWR8fHRoaXMuaGFzaCgpLHRbMF09dGhpcy5ibG9jayx0WzE2XT10WzFdPXRbMl09dFszXT10WzRdPXRbNV09dFs2XT10WzddPXRbOF09dFs5XT10WzEwXT10WzExXT10WzEyXT10WzEzXT10WzE0XT10WzE1XT0wKSx0WzE0XT10aGlzLmhCeXRlczw8M3x0aGlzLmJ5dGVzPj4+MjksdFsxNV09dGhpcy5ieXRlczw8Myx0aGlzLmhhc2goKX19LGcucHJvdG90eXBlLmhhc2g9ZnVuY3Rpb24oKXt2YXIgdCxpLHIsZSxoLHMsbixvLGEsZj10aGlzLmgwLHU9dGhpcy5oMSx5PXRoaXMuaDIsbD10aGlzLmgzLHA9dGhpcy5oNCxkPXRoaXMuaDUsdz10aGlzLmg2LEE9dGhpcy5oNyxiPXRoaXMuYmxvY2tzO2Zvcih0PTE2O3Q8NjQ7Kyt0KWk9KChoPWJbdC0xNV0pPj4+N3xoPDwyNSleKGg+Pj4xOHxoPDwxNCleaD4+PjMscj0oKGg9Ylt0LTJdKT4+PjE3fGg8PDE1KV4oaD4+PjE5fGg8PDEzKV5oPj4+MTAsYlt0XT1iW3QtMTZdK2krYlt0LTddK3J8MDtmb3IoYT11JnksdD0wO3Q8NjQ7dCs9NCl0aGlzLmZpcnN0Pyh0aGlzLmlzMjI0PyhzPTMwMDAzMixBPShoPWJbMF0tMTQxMzI1NzgxOSktMTUwMDU0NTk5fDAsbD1oKzI0MTc3MDc3fDApOihzPTcwNDc1MTEwOSxBPShoPWJbMF0tMjEwMjQ0MjQ4KS0xNTIxNDg2NTM0fDAsbD1oKzE0MzY5NDU2NXwwKSx0aGlzLmZpcnN0PSExKTooaT0oZj4+PjJ8Zjw8MzApXihmPj4+MTN8Zjw8MTkpXihmPj4+MjJ8Zjw8MTApLGU9KHM9ZiZ1KV5mJnleYSxBPWwrKGg9QSsocj0ocD4+PjZ8cDw8MjYpXihwPj4+MTF8cDw8MjEpXihwPj4+MjV8cDw8NykpKyhwJmRefnAmdykrY1t0XStiW3RdKXwwLGw9aCsoaStlKXwwKSxpPShsPj4+MnxsPDwzMCleKGw+Pj4xM3xsPDwxOSleKGw+Pj4yMnxsPDwxMCksZT0obj1sJmYpXmwmdV5zLHc9eSsoaD13KyhyPShBPj4+NnxBPDwyNileKEE+Pj4xMXxBPDwyMSleKEE+Pj4yNXxBPDw3KSkrKEEmcF5+QSZkKStjW3QrMV0rYlt0KzFdKXwwLGk9KCh5PWgrKGkrZSl8MCk+Pj4yfHk8PDMwKV4oeT4+PjEzfHk8PDE5KV4oeT4+PjIyfHk8PDEwKSxlPShvPXkmbCleeSZmXm4sZD11KyhoPWQrKHI9KHc+Pj42fHc8PDI2KV4odz4+PjExfHc8PDIxKV4odz4+PjI1fHc8PDcpKSsodyZBXn53JnApK2NbdCsyXStiW3QrMl0pfDAsaT0oKHU9aCsoaStlKXwwKT4+PjJ8dTw8MzApXih1Pj4+MTN8dTw8MTkpXih1Pj4+MjJ8dTw8MTApLGU9KGE9dSZ5KV51JmxebyxwPWYrKGg9cCsocj0oZD4+PjZ8ZDw8MjYpXihkPj4+MTF8ZDw8MjEpXihkPj4+MjV8ZDw8NykpKyhkJndefmQmQSkrY1t0KzNdK2JbdCszXSl8MCxmPWgrKGkrZSl8MCx0aGlzLmNocm9tZUJ1Z1dvcmtBcm91bmQ9ITA7dGhpcy5oMD10aGlzLmgwK2Z8MCx0aGlzLmgxPXRoaXMuaDErdXwwLHRoaXMuaDI9dGhpcy5oMit5fDAsdGhpcy5oMz10aGlzLmgzK2x8MCx0aGlzLmg0PXRoaXMuaDQrcHwwLHRoaXMuaDU9dGhpcy5oNStkfDAsdGhpcy5oNj10aGlzLmg2K3d8MCx0aGlzLmg3PXRoaXMuaDcrQXwwfSxnLnByb3RvdHlwZS5oZXg9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9dGhpcy5oMCxpPXRoaXMuaDEscj10aGlzLmgyLGU9dGhpcy5oMyxoPXRoaXMuaDQscz10aGlzLmg1LG49dGhpcy5oNixvPXRoaXMuaDcsZj1hW3Q+Pj4yOCYxNV0rYVt0Pj4+MjQmMTVdK2FbdD4+PjIwJjE1XSthW3Q+Pj4xNiYxNV0rYVt0Pj4+MTImMTVdK2FbdD4+PjgmMTVdK2FbdD4+PjQmMTVdK2FbMTUmdF0rYVtpPj4+MjgmMTVdK2FbaT4+PjI0JjE1XSthW2k+Pj4yMCYxNV0rYVtpPj4+MTYmMTVdK2FbaT4+PjEyJjE1XSthW2k+Pj44JjE1XSthW2k+Pj40JjE1XSthWzE1JmldK2Fbcj4+PjI4JjE1XSthW3I+Pj4yNCYxNV0rYVtyPj4+MjAmMTVdK2Fbcj4+PjE2JjE1XSthW3I+Pj4xMiYxNV0rYVtyPj4+OCYxNV0rYVtyPj4+NCYxNV0rYVsxNSZyXSthW2U+Pj4yOCYxNV0rYVtlPj4+MjQmMTVdK2FbZT4+PjIwJjE1XSthW2U+Pj4xNiYxNV0rYVtlPj4+MTImMTVdK2FbZT4+PjgmMTVdK2FbZT4+PjQmMTVdK2FbMTUmZV0rYVtoPj4+MjgmMTVdK2FbaD4+PjI0JjE1XSthW2g+Pj4yMCYxNV0rYVtoPj4+MTYmMTVdK2FbaD4+PjEyJjE1XSthW2g+Pj44JjE1XSthW2g+Pj40JjE1XSthWzE1JmhdK2Fbcz4+PjI4JjE1XSthW3M+Pj4yNCYxNV0rYVtzPj4+MjAmMTVdK2Fbcz4+PjE2JjE1XSthW3M+Pj4xMiYxNV0rYVtzPj4+OCYxNV0rYVtzPj4+NCYxNV0rYVsxNSZzXSthW24+Pj4yOCYxNV0rYVtuPj4+MjQmMTVdK2Fbbj4+PjIwJjE1XSthW24+Pj4xNiYxNV0rYVtuPj4+MTImMTVdK2Fbbj4+PjgmMTVdK2Fbbj4+PjQmMTVdK2FbMTUmbl07cmV0dXJuIHRoaXMuaXMyMjR8fChmKz1hW28+Pj4yOCYxNV0rYVtvPj4+MjQmMTVdK2Fbbz4+PjIwJjE1XSthW28+Pj4xNiYxNV0rYVtvPj4+MTImMTVdK2Fbbz4+PjgmMTVdK2Fbbz4+PjQmMTVdK2FbMTUmb10pLGZ9LGcucHJvdG90eXBlLnRvU3RyaW5nPWcucHJvdG90eXBlLmhleCxnLnByb3RvdHlwZS5kaWdlc3Q9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9dGhpcy5oMCxpPXRoaXMuaDEscj10aGlzLmgyLGU9dGhpcy5oMyxoPXRoaXMuaDQscz10aGlzLmg1LG49dGhpcy5oNixvPXRoaXMuaDcsYT1bdD4+PjI0JjI1NSx0Pj4+MTYmMjU1LHQ+Pj44JjI1NSwyNTUmdCxpPj4+MjQmMjU1LGk+Pj4xNiYyNTUsaT4+PjgmMjU1LDI1NSZpLHI+Pj4yNCYyNTUscj4+PjE2JjI1NSxyPj4+OCYyNTUsMjU1JnIsZT4+PjI0JjI1NSxlPj4+MTYmMjU1LGU+Pj44JjI1NSwyNTUmZSxoPj4+MjQmMjU1LGg+Pj4xNiYyNTUsaD4+PjgmMjU1LDI1NSZoLHM+Pj4yNCYyNTUscz4+PjE2JjI1NSxzPj4+OCYyNTUsMjU1JnMsbj4+PjI0JjI1NSxuPj4+MTYmMjU1LG4+Pj44JjI1NSwyNTUmbl07cmV0dXJuIHRoaXMuaXMyMjR8fGEucHVzaChvPj4+MjQmMjU1LG8+Pj4xNiYyNTUsbz4+PjgmMjU1LDI1NSZvKSxhfSxnLnByb3RvdHlwZS5hcnJheT1nLnByb3RvdHlwZS5kaWdlc3QsZy5wcm90b3R5cGUuYXJyYXlCdWZmZXI9ZnVuY3Rpb24oKXt0aGlzLmZpbmFsaXplKCk7dmFyIHQ9bmV3IEFycmF5QnVmZmVyKHRoaXMuaXMyMjQ/Mjg6MzIpLGk9bmV3IERhdGFWaWV3KHQpO3JldHVybiBpLnNldFVpbnQzMigwLHRoaXMuaDApLGkuc2V0VWludDMyKDQsdGhpcy5oMSksaS5zZXRVaW50MzIoOCx0aGlzLmgyKSxpLnNldFVpbnQzMigxMix0aGlzLmgzKSxpLnNldFVpbnQzMigxNix0aGlzLmg0KSxpLnNldFVpbnQzMigyMCx0aGlzLmg1KSxpLnNldFVpbnQzMigyNCx0aGlzLmg2KSx0aGlzLmlzMjI0fHxpLnNldFVpbnQzMigyOCx0aGlzLmg3KSx0fSx2LnByb3RvdHlwZT1uZXcgZyx2LnByb3RvdHlwZS5maW5hbGl6ZT1mdW5jdGlvbigpe2lmKGcucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyksdGhpcy5pbm5lcil7dGhpcy5pbm5lcj0hMTt2YXIgdD10aGlzLmFycmF5KCk7Zy5jYWxsKHRoaXMsdGhpcy5pczIyNCx0aGlzLnNoYXJlZE1lbW9yeSksdGhpcy51cGRhdGUodGhpcy5vS2V5UGFkKSx0aGlzLnVwZGF0ZSh0KSxnLnByb3RvdHlwZS5maW5hbGl6ZS5jYWxsKHRoaXMpfX07dmFyIEI9ZCgpO0Iuc2hhMjU2PUIsQi5zaGEyMjQ9ZCghMCksQi5zaGEyNTYuaG1hYz1iKCksQi5zaGEyMjQuaG1hYz1iKCEwKSxzP21vZHVsZS5leHBvcnRzPUI6KHIuc2hhMjU2PUIuc2hhMjU2LHIuc2hhMjI0PUIuc2hhMjI0LG4mJmRlZmluZSgoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSl9KCl9KCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1cmVhdWNyYWN5V29ya2VyLmpzLm1hcAoK");class iQ{constructor(e,t){this.review=e,this.totalCalculationTime=t}}class i0{constructor(e,t){this.sendSdkInitializeMetric=async e=>{let t=this.sdkLocalStorage.getWalletType(),r=await e.request({method:"kaia_accounts"});this.sendWalletMetric("SDK_INIT",r[0]??null,t),this.sendWalletMetric(iH,r[0]??null,t)},this.sendWalletMetric=async(e,t,r)=>{let n=this.sdkLocalStorage.getDeviceId(),i=`${this.baseUrl}/api/v2/metric/wallet-activity`,s={uuid:n,tracking_id:this.trackingId,address:t,wallet_type:r,action:e,data:{sdkVersion:"1.4.4",clientId:this.clientId}},o=await this.getReviewAndSolve(i,s);if(!o)return;let a={uuid:n,tracking_id:this.trackingId,address:t,wallet_type:r,action:e,data:{sdkVersion:"1.4.4",clientId:this.clientId,totalCalculationTime:o.totalCalculationTime},review:o.review};await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch(e=>console.error(e))},this.getReviewAndSolve=async(e,t)=>{let r;try{await rD.post(e,t)}catch(e){if(!rD.isAxiosError(e)||303!==e.status)return void console.error(e);r=e.response}if(r)try{return await async function(e,t){let r=await rD.get(e,{params:{review:t}});e=r.data.url;let n=r.data.ticket,i=function(e,t){let r;if("string"!=typeof e)throw new rM("Invalid token specified: must be a string");t||(t={});let n=+(!0!==t.header),i=e.split(".")[n];if("string"!=typeof i)throw new rM(`Invalid token specified: missing part #${n+1}`);try{r=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var r;return r=t,decodeURIComponent(atob(r).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(e){return atob(t)}}(i)}catch(e){throw new rM(`Invalid token specified: invalid base64 for part #${n+1} (${e.message})`)}try{return JSON.parse(r)}catch(e){throw new rM(`Invalid token specified: invalid json for part #${n+1} (${e.message})`)}}(n)["com.linecorp.bureaucracy"].challenges;if(!Array.isArray(i)||0===i.length)throw Error("Invalid JWT structure");let s=navigator.hardwareConcurrency,o=Math.ceil(i.length/s),a=i.map((e,t)=>({...e,_index:t})),c=[];for(let e=0;e<s;e++){let t=a.slice(e*o,(e+1)*o);if(0===t.length)continue;let r=new Promise((e,r)=>{let n=new iY;n.onmessage=function(t){e(t.data),n.terminate()},n.onerror=function(e){r(e),n.terminate()},n.postMessage({challenges:t})});c.push(r)}let l=await Promise.all(c),d=l.flatMap(e=>e.results);d.sort((e,t)=>e.index-t.index);let h=d.map(e=>e.answer),u=l.reduce((e,t)=>e+t.totalExecutionTime,0);return t=(await rD.post(e,{ticket:n,answers:h.map(e=>e.toString())})).data.review,new iQ(t,u)}(r?.data?.url,r?.data?.review)}catch(e){return void console.error(e)}},this.baseUrl=e.metricServerConfig.baseUrl,this.clientId=e.clientId,this.sdkLocalStorage=new iZ(e.chainId),this.trackingId=t}}let i1="dp_tracking_id";class i2{constructor(e){this.domains=e}getTrackingId(){return this.getItem(i1)}setTrackingId(e){this.setItem(i1,e,3650)}setItem(e,t,r){let n=[e+"="+(t||"")];if(r){let e=new Date;e.setTime(e.getTime()+24*r*36e5),n.push("expires="+e.toUTCString())}for(let e of(n.push("path=/"),this.domains))if(window.location.hostname.endsWith(e)){n.push(`domain=.${e}`);break}document.cookie=n.join("; ")}getItem(e){let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null}removeItem(e){document.cookie=e+"=; Max-Age=-99999999; path=/"}}let i5="dp_tracking_id";class i6{constructor(e){this.baseUrl=e.baseUrl,this.clientId=e.clientId,this.utmParamKeys=e.utmParamKeys,this.sdkCookieStorage=e.sdkCookieStorage,this.sdkLocalStorage=e.sdkLocalStorage,this.trackingId=e.trackingId}static init(e){let t=new i2(e.trackingModuleConfig.cookieDomains),r=i6.initTrackingId(t),n=new i6({baseUrl:e.metricServerConfig.baseUrl,clientId:e.clientId,sdkCookieStorage:t,utmParamKeys:e.metricServerConfig.utmParamKeys,sdkLocalStorage:new iZ(e.chainId),trackingId:r});return n.updateTrackingId(r),n.initUtmParams(),n}static initTrackingId(e){if(window.dpTrackingId)return window.dpTrackingId;let t=i6.getTrackingIdFromUrl(location.href);return t||e.getTrackingId()||function(){let e="";for(let t=0;t<16;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())];return e}()}updateTrackingId(e){let t=this.sdkCookieStorage.getTrackingId();t!==e&&(this.sdkCookieStorage.setTrackingId(e),t&&this.sendWalletActivity("TRACKING_ID_SYNC",{oldTrackingId:t}))}static getTrackingIdFromUrl(e){return new URLSearchParams(new URL(e).search).get(i5)}initUtmParams(){let e=new URLSearchParams(new URL(location.href).search),t={};for(let r of this.utmParamKeys){let n=e.get(r);n&&(t[r]=n)}Object.keys(t).length>0&&this.sendWalletActivity("FROM_AD",t)}getTrackingId(){return this.trackingId}sendWalletActivity(e,t={}){let r=this.sdkLocalStorage.getDeviceId(),n=this.sdkLocalStorage.getConnectedWallet(),i=this.sdkLocalStorage.getWalletType(),s={uuid:r,tracking_id:this.trackingId,address:n,wallet_type:i,action:e,data:{sdkVersion:"1.4.4",clientId:this.clientId,url:window.location.href,...t}};navigator.sendBeacon(`${this.baseUrl}/api/v1/metric/wallet-activity`,new Blob([JSON.stringify(s)],{type:"application/json"}))}}class i3 extends Error{constructor(e){super(e),this.name="LongPollingTimeoutException",Object.setPrototypeOf(this,i3.prototype)}}class i4{constructor(e){this.request=async(e,t)=>{let r=`${this.baseUrl}/api/v1/request-session/request/${t}`;try{await rD.post(r,e,{headers:{"x-client-id":this.clientId,"Content-Type":"application/json"},timeout:this.relaySessionTimeout})}catch(e){throw console.error("Fail to request - ",e),e}},this.waitForResponse=async e=>{let t=1;for(;t<this.maxRetryCount;)try{return await this.fetchWithTimeout(e)}catch(e){if(e instanceof iC)throw e;t++}throw Error("Fail to wait for response")},this.fetchWithTimeout=async e=>{let t=`${this.baseUrl}/api/v2/request-session/response/${e}/wait`;try{let e=await rD.get(t,{headers:{"x-client-id":this.clientId,"Content-Type":"application/json"},timeout:this.relaySessionTimeout});if(202===e.status&&2012===e.data.code)throw new i3;return e.data}catch(e){throw rD.isAxiosError(e)&&403===e.status&&2011===e.response?.data?.code?new iC({code:-32001,data:null,message:"User closed popup"}):(e instanceof i3||console.error("Unexpected Error - ",e),e)}},this.clientId=e.clientId,this.baseUrl=e.relayServerConfig.baseUrl,this.relaySessionTimeout=e.relayServerConfig.relaySessionTimeout,this.maxRetryCount=e.relayServerConfig.maxRetryCount}}class i8{constructor(e){this.config=e,this.relayRequestClient=new i4(e)}handleRpcResponse(e){if(void 0!==e.error)throw new iC(e.error);return e.result}createRequestKey(){return rW()}}class i9 extends i8{constructor(e,t){super(e),this.trackingId=t}async postRequestAndWaitForResponse(e){let t=this.createRequestKey();await this.relayRequestClient.request(e,t),this.openWallet(t);let r=await this.relayRequestClient.waitForResponse(t);return this.handleRpcResponse(r)}openWallet(e){let t=new URL(this.config.sdkUIUrls.mobileWalletBridge);t.pathname=t.pathname+e,t.searchParams.append("chainId",this.config.chainId),t.searchParams.append(i5,this.trackingId);let r=`/browser?url=${encodeURIComponent(t.toString())}`;iy(navigator.userAgent)?this.openIosWallet(r):this.openAndroidWallet(r)}openAndroidWallet(e){let t=this.config.kaiaWalletMobileConfig;window.location.href=`intent://wallet${e}#Intent;scheme=kaiawallet;package=${t.androidPackageName};end`}openIosWallet(e){let t=this.config.kaiaWalletMobileConfig;window.location.href=`${t.urlScheme}://wallet${e}`}}function i7(e,t){switch(e.liffTypeByRequestMethod[t]??e.defaultLiffType){case"compact":return e.baseUrl.compact;case"tall":return e.baseUrl.tall;case"full":return e.baseUrl.full;default:return e.baseUrl[e.defaultLiffType]}}class se extends i8{constructor(e,t){super(e),this.postRequestAndWaitForResponse=async e=>{let t=this.createRequestKey();await this.relayRequestClient.request(e,t),await this.openWallet(t,e.method);let r=await this.waitForResponse(t);return this.handleRpcResponse(r)},this.waitForResponse=async e=>{let t=1,r=!1,n=0,i=()=>{g.M.subWindow.off("close",i),r=!0};for(g.M.subWindow.on("close",i);t<this.config.relayServerConfig.maxRetryCount;)try{if(r){if(!(n<=0))throw new iC({code:-32001,message:"User canceled"});n++}return await this.relayRequestClient.fetchWithTimeout(e)}catch(e){if(e instanceof iC)throw e;t++}throw Error("Fail to wait for response")},this.openWallet=async(e,t)=>{let r=new URL(i7(this.config.liffWalletConfig,t));r.pathname=r.pathname+`/r/${e}`,r.searchParams.set("chainId",this.config.chainId),r.searchParams.set(i5,this.trackingId),await g.M.subWindow.open({url:r.toString()})},this.trackingId=t}}class st extends i8{constructor(e,t){super(e),this.postRequestAndWaitForResponse=async(e,t)=>{let r=this.createRequestKey();await this.openWallet(r,e.method,this.isMethodNeedProviderTypeSync(e.method)?t:null);try{await this.postRequestWithProviderType(e,r)}catch(e){throw this.closeWallet(),e}let n=await this.relayRequestClient.waitForResponse(r);this.closeWallet();let i=this.handleRpcResponse(n);return this.handleResponseWithProviderType(e,i)},this.postRequestWithProviderType=async(e,t)=>{let{method:r,params:n}=e;return this.isMethodNeedProviderTypeSync(r)?await this.relayRequestClient.request({method:"internal_rpcCalls",params:[{method:r,params:n},{method:"internal_getSnsType",params:[]}]},t):await this.relayRequestClient.request(e,t)},this.handleResponseWithProviderType=async(e,t)=>{let{method:r}=e;if(this.isMethodNeedProviderTypeSync(r)){let e=t[0],r=t[1];return this.sdkLocalStorage.setProviderType(r),e}return t},this.isMethodNeedProviderTypeSync=e=>"kaia_requestAccounts"===e||"klay_requestAccounts"===e||"eth_requestAccounts"===e||"kaia_connectAndSign"===e,this.clickEventListener=new iM(e),this.sdkLocalStorage=new iZ(e.chainId),this.trackingId=t}async openWallet(e,t,r){let n=new URL(this.getRequestBaseUrl(t));n.pathname.endsWith("/")?n.pathname+=`r/${e}`:n.pathname+=`/r/${e}`,n.searchParams.append("chainId",this.config.chainId),n.searchParams.append(i5,this.trackingId),r&&n.searchParams.append("snsType",r);let i=navigator.userAgent;if(im(i)&&iy(i))return void(window.location.href=n.toString());if(window.kaiaPopUpWindow&&!window.kaiaPopUpWindow.closed)return window.kaiaPopUpWindow.focus(),void(window.kaiaPopUpWindow.location.href=n.toString());let s=this.config.webWalletConfig.popupSize;window.kaiaPopUpWindow=window.open(n.toString(),"webWallet",`width=${s.width},height=${s.height}`),window.kaiaPopUpWindow||(await this.clickEventListener.awaitUserClick(d.POPUP_BLOCKED),window.kaiaPopUpWindow=window.open(n.toString(),"webWallet",`width=${s.width},height=${s.height}`))}closeWallet(){window.kaiaPopUpWindow&&window.kaiaPopUpWindow.close(),window.kaiaPopUpWindow=null}getRequestBaseUrl(e){return im(navigator.userAgent)?i7(this.config.liffWalletConfig,e):this.config.webWalletConfig.baseUrl}}function sr(){return void 0!==globalThis.bitkeep}function sn(){let e=globalThis.bitkeep;if(!e)throw new ix("Extension is not installed");let t=e.ethereum;if(!t)throw new ix("Extension is not installed");return t}function si(e){return"object"==typeof e&&null!==e&&"number"==typeof e.code&&"string"==typeof e.message}function ss(){let e=globalThis.klaytn;if(!e)throw new ix("Extension is not installed");return e}function so(e,t){return"klay_signTransaction"!==e?t:{raw:t.rawTransaction}}let sa=e=>-1!==["kaia_accounts","klay_accounts","eth_accounts"].indexOf(e),sc=e=>-1!==["kaia_requestAccounts","klay_requestAccounts","eth_requestAccounts"].indexOf(e),sl=e=>-1!==["kaia_connectAndSign"].indexOf(e);class sd{constructor(e){this.resolveProviderType=()=>{},this.rejectProviderType=()=>{},this.walletSelectUIUrl=e.sdkUIUrls.miniDappConnectWebV3,this.sdkLocalStorage=new iZ(e.chainId),this.connectPageOptions=e.connectPageOptions}setupListeners(){let e=e=>{let t=this.iframe;if(!t||e.source!==t.contentWindow)return;let r=e.data;if(!r||"object"!=typeof r)return;let n=r.event;if(n)switch(n){case"Loaded":break;case"ProviderTypeSelected":this.onProviderTypeSelected(r.providerType);break;case"Canceled":this.cancel()}};window.addEventListener("message",e),this.eventListener=e}clearListeners(){let e=this.eventListener;e&&(window.removeEventListener("message",e),this.eventListener=void 0)}onProviderTypeSelected(e){this.resolveProviderType&&this.resolveProviderType(e)}reset(){this.resolveProviderType=void 0,this.rejectProviderType=void 0,iU(),this.clearListeners()}async selectType(e,t,r){let n=new Promise((e,t)=>{this.resolveProviderType=e,this.rejectProviderType=t});this.setupListeners();let i=new URL(this.walletSelectUIUrl);i.searchParams.append("dappName",e),r&&i.searchParams.append("providerType",r),i.searchParams.set(iF,t?"true":"false"),i.searchParams.set(iq,sr()?"true":"false"),this.connectPageOptions&&Object.entries(this.connectPageOptions).forEach(([e,t])=>{i.searchParams.set(e,t)}),this.iframe=function(e,t,r){let n=document.createElement("div");n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.35)",n.style.zIndex="9999999",n.id="iframeDiv";let i=document.createElement("iframe");i.src=e,i.width=t,i.height=r,i.style.border="none",i.style.zIndex="99999999";let s=n.appendChild(i);return document.body.appendChild(n),s}(i.toString(),"100%","100%");let s=await n;return this.reset(),s}cancel(){this.rejectProviderType&&this.rejectProviderType(new iC({code:-32001,message:"User canceled"})),this.reset()}}class sh{constructor(e){this.resolveProviderType=()=>{},this.rejectProviderType=()=>{},this.walletSelectUIUrl=e.sdkUIUrls.miniDappConnectLiffV3,this.connectPageOptions=e.connectPageOptions}onProviderTypeSelected(e){this.resolveProviderType&&this.resolveProviderType(e)}async selectType(e,t,r,n){let i=new Promise((e,t)=>{this.resolveProviderType=e,this.rejectProviderType=t}),s=new URL(this.walletSelectUIUrl);s.searchParams.append("dappName",e),this.connectPageOptions&&Object.entries(this.connectPageOptions).forEach(([e,t])=>{s.searchParams.set(e,t)}),s.searchParams.set(iF,t?"true":"false"),s.searchParams.set(iq,sr()?"true":"false"),n&&s.searchParams.set("eventType","connect"),await g.M.subWindow.open({url:s.toString()});let o=()=>{g.M.subWindow.off("close",o),this.cancel()},a=e=>{g.M.subWindow.off("submit",a),g.M.subWindow.off("close",o);let t=e.providerType;this.onProviderTypeSelected(t)};return g.M.subWindow.on("close",o),g.M.subWindow.on("submit",a),await i}cancel(){this.rejectProviderType&&this.rejectProviderType(new iC({code:-32001,message:"User canceled"}))}}function su(e){return e.replace(/^klay_/,"kaia_")}function sp(e){return e.replace(/^(klay_|kaia_)/,"eth_")}class sf{request(e){let{method:t}=e;if(!this.isValidRequestParams(e))throw new iC({code:Number(l.invalidRequest),message:`[Internal Error] Invalid request : ${t}`});return this.requestSign(e)}isValidRequestParams(e){let{method:t}=e;return!sa(t)&&!sc(t)&&!sl(t)}}class sg extends sf{constructor(e,t){super(),this.eventBus=e,this.config=t,this.setExtensionEventProxy()}async getConnectedAddresses(){return this.requestWithConverter({method:"eth_accounts"})}async connect(){return this.requestWithConverter({method:"eth_requestAccounts"})}async connectAndSign(e){if(!Array.isArray(e)||1!==e.length)throw new iC({code:Number(l.invalidParams),message:"Invalid params"});let t=e[0],r=(await this.requestWithConverter({method:"eth_requestAccounts",params:[]}))[0];return[r,await this.requestWithConverter({method:"personal_sign",params:[t,r]})]}async requestSign(e){let{method:t,params:r}=e;if(-1!==this.config.kaiaOnlyMethods.indexOf(t))throw new iC({code:Number(l.methodNotFound),message:"This method is not supported on Bitget wallet."});let n=r?this.convertToLegacyParam(t,r):r,i=sp(t),s=await this.requestWithConverter({method:i,params:n});return this.convertLegacyResponse(i,s)}shouldStoreConnectedAddressToStorage(){return!1}async requestWithConverter(e){try{let t=await sn().request(e);return so(e.method,t)}catch(e){throw this.convertBitgetRpcError(e)}}async switchChain(e){let t=sn(),r=`0x${parseInt(this.config.chainId,10).toString(16)}`;if(t.chainId.toString().toLowerCase()!==r.toLowerCase()&&(await this.requestWithConverter({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),t.chainId.toString().toLowerCase()!==r))throw Error("Invalid chain id")}async disconnect(){let e=sn();await e.disconnect(),this.eventBus.removeAllListeners(),e.removeAllListeners()}setExtensionEventProxy(){let e=sn();e.removeAllListeners(),e.on("accountsChanged",e=>{this.eventBus.emit("accountsChanged",e)}),e.on("chainChanged",e=>{this.eventBus.emit("chainChanged",e)})}convertToLegacyParam(e,t){return -1===this.config.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(e)?t:Array.isArray(t)&&t.every(e=>"object"==typeof e)?t.map(e=>this.convertInputFieldToDataField(e)):t}convertInputFieldToDataField(e){if(!("input"in e))return e;let{input:t,...r}=e;return{...r,data:t}}convertLegacyResponse(e,t){return"eth_signTransaction"!==e?t:{raw:t}}convertBitgetRpcError(e){if(!si(e))return e;let t=e.code,r=e.message;return new iC(-32603===t&&r.includes("user reject")||4001===t&&r.includes("User reject")?{code:-32001,message:r}:{code:Number.parseInt(l.internal),message:e.message})}}class sm extends sf{constructor(e,t){super(),this.eventBus=e,this.config=t,this.setExtensionEventProxy()}async getConnectedAddresses(){return await this.requestWithConverter({method:"klay_accounts"})}async connect(){return await this.requestWithConverter({method:"klay_requestAccounts"})}async requestSign(e){let{method:t,params:r}=e,n="kaia_signLegacy"===t?"klay_sign":t.replace(/^kaia_/,"klay_"),i=r?this.appendTxTypeParam(n,r):r,s=i?this.convertToLegacyParam(n,i):i;return await this.requestWithConverter({method:n,params:s})}async connectAndSign(e){if(!Array.isArray(e)||1!==e.length)throw new iC({code:-32602,message:"Invalid params"});let t=e[0],r=(await this.requestWithConverter({method:"klay_requestAccounts",params:[]}))[0];return[r,await this.requestWithConverter({method:"personal_sign",params:[t,r]})]}shouldStoreConnectedAddressToStorage(){return!1}async switchChain(e){let t=ss(),r=t.networkVersion.toString().toLowerCase(),n=this.config.chainId.toString().toLowerCase();if(r===n)return;let i=`0x${parseInt(n,10).toString(16)}`,s=this.awaitNetworkChange(t,n);await t.request({method:"wallet_switchKlaytnChain",params:[{chainId:i}]}),await s}async disconnect(){}async awaitNetworkChange(e,t){return new Promise((e,r)=>{let n=i=>{"loading"!==i&&(i.toString().toLowerCase()===t.toString().toLowerCase()&&(this.eventBus.removeListener("chainChanged",n),e(null)),this.eventBus.removeListener("chainChanged",n),r("Invalid chain id"))};this.eventBus.on("chainChanged",n)})}async requestWithConverter(e){try{let t=await ss().request(e);return so(e.method,t)}catch(e){throw function(e){if(!si(e))return e;let t=e.code,r=e.message;return new iC(-32603===t&&r.includes("User denied")?{code:-32001,message:r}:-32603===t&&r.includes('Invalid "from" address')?{code:-32004,message:r}:{code:e.code,message:e.message})}(e)}}setExtensionEventProxy(){let e=ss();e.removeAllListeners(),e.on("accountsChanged",e=>{this.eventBus.emit("accountsChanged",e)}),e.on("networkChanged",e=>{this.eventBus.emit("chainChanged",e)}),e.on("disconnected",()=>{this.eventBus.emit("disconnect")})}appendTxTypeParam(e,t){return -1===this.config.methodsShouldAttachTxTypeParamsWhenRequestToExtension.indexOf(e)?t:Array.isArray(t)&&t.every(e=>"object"==typeof e)?t.map(e=>this.appendTxTypeToObj(e)):t}convertToLegacyParam(e,t){return -1===this.config.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(e)?t:Array.isArray(t)&&t.every(e=>"object"==typeof e)?t.map(e=>this.convertInputFieldToDataField(e)):t}appendTxTypeToObj(e){return"typeInt"in e?{...e,type:e.typeInt}:e}convertInputFieldToDataField(e){let t;if("typeInt"in e&&(t=e.typeInt),!t||-1===this.config.txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension.indexOf(t)||!("input"in e))return e;let{input:r,...n}=e;return{...n,data:r}}}let sy=new(rH());class sb extends sf{constructor(e,t){super(),this.sdkLocalStorage=new iZ(e.chainId),this.chainNodeRpcClient=t}async getConnectedAddresses(){let e=this.sdkLocalStorage.getConnectedWallet();return e?[e]:[]}async connect(){return[(await this.requestEnable()).address]}async connectAndSign(e,t){let r=await this.requestConnectAndSign({params:e,method:"personal_sign"});return[r.address,r.signed_data]}shouldStoreConnectedAddressToStorage(){return!0}async requestSign(e){let{method:t,params:r}=e,n={method:su(t),params:r||[]};switch(n.method){case"eth_requestAccounts":case"klay_requestAccounts":case"kaia_requestAccounts":case"eth_accounts":case"klay_accounts":case"kaia_accounts":return[(await this.requestEnable()).address];case"kaia_signLegacy":return(await this.requestSignLegacy({...n,method:"klay_sign"})).signed_data;case"personal_sign":return(await this.requestPersonalSign({...n,method:"personal_sign"})).signed_data;case"kaia_connectAndSign":{let e=await this.requestConnectAndSign({...n,method:"personal_sign"});return[e.address,e.signed_data]}case"eth_sendTransaction":case"klay_sendTransaction":case"kaia_sendTransaction":return(await this.requestSendTransaction(n)).tx_hash;case"eth_signTransaction":case"klay_signTransaction":case"kaia_signTransaction":return{raw:(await this.requestSignTransaction(n)).signed_tx};case"eth_signTypedData_v4":case"klay_signTypedData_v4":case"kaia_signTypedData_v4":return(await this.requestSignTypedDataV4(n)).result}throw Error("Method not supported"+n.method)}async switchChain(e){let t={params:[{chainId:`0x${(e.startsWith("0x")?parseInt(e,16):parseInt(e,10)).toString(16)}`}]};await this.callIabHandler("switchNetwork",t)}async disconnect(){}async requestEnable(){let e=await this.callIabHandler("enable");if(!e.success)throw Error(e.message);return e}async requestSignLegacy(e){await this.requestEnable();let t=e.params,r=t[0],n=t[1],i=e;if(!n.startsWith("0x")){let t=iL(n);i={method:e.method,params:[r,t]}}let s=await this.callIabHandler("sign",i);if(!s.success)throw Error(s.message);return s}async requestConnectAndSign(e){let t=await this.requestEnable(),r=e.params[0];r.startsWith("0x")||(r=iL(r));let n=await this.callIabHandler("personalSign",{method:e.method,params:[r,t.address]});if(!n.success)throw Error(n.message);return n}async requestSignTypedDataV4(e){await this.requestEnable();let t=await this.callIabHandler("rpc_call",e);if(!t.success)throw Error(t.message);return t}async requestPersonalSign(e){await this.requestEnable();let t=e.params,r=t[0],n=t[1],i=e;if(!r.startsWith("0x")){let t=iL(r);i={method:e.method,params:[t,n]}}let s=await this.callIabHandler("personalSign",i);if(!s.success)throw Error(s.message);return s}async requestSendTransaction(e){let t,r;await this.requestEnable();let n=e.params[0];t=n.gasPrice?n.gasPrice:await this.chainNodeRpcClient.requestRpc({method:"kaia_gasPrice",params:[]}),r=n.gas?n.gas:await this.chainNodeRpcClient.requestRpc({method:"kaia_estimateGas",params:[{...n,gasPrice:t}]});let i={...n,gasPrice:t,gas:r},s=this.convertTxData(i),o=e.method;"kaia_sendTransaction"===o&&(o="klay_sendTransaction");let a={method:o,params:[s]},c=await this.callIabHandler("sendTransaction",a);if(!c.success)throw Error(c.message);return c}async requestSignTransaction(e){let t,r;await this.requestEnable();let n=e.params[0];t=n.gasPrice?n.gasPrice:await this.chainNodeRpcClient.requestRpc({method:"kaia_gasPrice",params:[]}),r=n.gas?n.gas:await this.chainNodeRpcClient.requestRpc({method:"kaia_estimateGas",params:[{...n,gasPrice:t}]});let i={...n,gasPrice:t,gas:r},s=this.convertTxData(i),o=e.method;"kaia_signTransaction"===o&&(o="klay_signTransaction");let a={method:o,params:[s]},c=await this.callIabHandler("signTransaction",a);if(!c.success)throw Error(c.message);return c}convertTxData(e){let t={0:"LEGACY",8:"VALUE_TRANSFER",9:"FEE_DELEGATED_VALUE_TRANSFER",16:"VALUE_TRANSFER_MEMO",17:"FEE_DELEGATED_VALUE_TRANSFER_MEMO",32:"ACCOUNT_UPDATE",33:"FEE_DELEGATED_ACCOUNT_UPDATE",40:"SMART_CONTRACT_DEPLOY",41:"FEE_DELEGATED_SMART_CONTRACT_DEPLOY",48:"SMART_CONTRACT_EXECUTION",49:"FEE_DELEGATED_SMART_CONTRACT_EXECUTION",56:"CANCEL",57:"FEE_DELEGATED_CANCEL"}[e.typeInt??0]??"LEGACY";return{from:e.from,to:e.to,value:e.value,data:e.data??e.input,input:e.input,gas:e.gas,gasPrice:e.gasPrice,type:t,feePayer:e.feePayer}}async callIabHandler(e,...t){return sy.acquire("KaiaMobileIabHandler.callIabHandler",async()=>{let r=function(){let e=globalThis;if(!e.flutter_inappwebview)throw Error("flutter_inappwebview is not installed");return e.flutter_inappwebview}();return await r.callHandler(e,...t)})}}let sv=["en_US","ru_RU","zh_CN","zh","ar_AE","cs_CZ","de_DE","es_ES","es_LAT","fr_FR","id_ID","it_IT","nl_NL","pl_PL","pt_BR","pt_PT","ro_RO","tr_TR","uk_UA","vi_VN","zh_TW"],sw=["kaia_signTransaction","klay_signTransaction"];class sE extends sf{constructor(e,t,r){super(),this.eventBus=e,this.config=t,this.universalUi=r,this.setOkxEventProxy()}static async init(e,t){let r,n=new iK(t),i=sv.filter(e=>e.includes(window.navigator.language?.replace("-","_"))),s=i.length>0?i[0]:"en_US",o=await n.fetchClientInfo();return(im(navigator.userAgent)||g.M.isInClient())&&(r="https://line.me/R/run"),new sE(e,t,await m.OKXUniversalConnectUI.init({dappMetaData:{icon:o.image_url,name:o.name},actionsConfiguration:{returnStrategy:r},language:s,uiPreferences:{theme:m.THEME.LIGHT}}))}async getConnectedAddresses(){return this.universalUi.session?.namespaces?.eip155?.accounts?.map(e=>this.stripOkxAccountPrefix(e))??[]}async connect(){return this.universalUi.connected()||await this.universalUi.openModal({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}}),this.getConnectedAddresses()}async requestSign(e){let{method:t,params:r}=e;if(-1!==this.config.kaiaOnlyMethods.indexOf(t))throw new iC({code:Number(l.methodNotFound),message:"This method is not supported on OKX wallet."});let n=sw.includes(t)?t:sp(t),i=r?this.convertToEthParam(n,r):r;return this.universalUi.request({method:n,params:i},"eip155:8217")}async connectAndSign(e){if(!Array.isArray(e)||1!==e.length)throw new iC({code:-32602,message:"Invalid params"});let t=e[0];if(this.universalUi.connected()){let e=this.universalUi.getUniversalProvider();if(!e||!e.session)throw new iC({code:-32603,message:"Internal JSON-RPC error"});let r=this.stripOkxAccountPrefix(e.session.namespaces.eip155.accounts[0]);return[r,await this.universalUi.request({method:"personal_sign",params:[t,r]},"eip155:8217")]}if(window.okxwallet){await this.universalUi.openModal({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}});let e=this.universalUi.getUniversalProvider();if(!e||!e.session)throw new iC({code:-32603,message:"Internal JSON-RPC error"});let r=this.stripOkxAccountPrefix(e.session.namespaces.eip155.accounts[0]);return[r,await this.universalUi.request({method:"personal_sign",params:[t,r]},"eip155:8217")]}let r=await this.universalUi.openModalAndSign({namespaces:{eip155:{chains:["eip155:8217"],defaultChain:"8217"}}},[{method:"personal_sign",chainId:"eip155:8217",params:[t]}]);try{let e=r.namespaces.eip155.accounts[0],t=this.stripOkxAccountPrefix(e),n=r.signResponse[0],i=n?.result;return[t,i]}catch{throw new iC({code:-32603,message:"Internal JSON-RPC error"})}}shouldStoreConnectedAddressToStorage(){return!1}async switchChain(e){}async disconnect(){try{await this.universalUi.disconnect()}catch(e){console.error("Error in disconnecting OKX wallet",e)}}setOkxEventProxy(){this.universalUi.on("display_uri",e=>{this.eventBus.emit("display_uri",e)}),this.universalUi.on("session_update",e=>{this.eventBus.emit("session_update",e)}),this.universalUi.on("session_delete",({topic:e})=>{this.eventBus.emit("disconnect")}),this.universalUi.on("connect",()=>{this.eventBus.emit("connect",{chainId:"8217"})}),this.universalUi.on("accountChanged",e=>{this.eventBus.emit("accountChanged",{chainId:"8217"})})}convertToEthParam(e,t){if(-1!==["eth_signTypedData_v4"].indexOf(e)&&Array.isArray(t)&&2===t.length){let e=this.convertSignTypedDataV4Field(t[1]);return[t[0],e]}return -1===["eth_sendTransaction","eth_signTransaction"].indexOf(e)?t:Array.isArray(t)&&t.every(e=>"object"==typeof e)?t.map(e=>this.convertInputFieldToDataField(e)):t}convertSignTypedDataV4Field(e){try{return JSON.parse(e)}catch(t){return console.error(t),e}}convertInputFieldToDataField(e){if(!("input"in e))return e;let{input:t,...r}=e;return{...r,data:t}}stripOkxAccountPrefix(e){return e.split(":")[2]}}class sC extends sf{constructor(e,t){super(),this.communicator=t,this.sdkLocalStorage=new iZ(e.chainId)}async getConnectedAddresses(){let e=this.sdkLocalStorage.getConnectedWallet();return e?[e]:[]}async connect(e){return this.communicator.postRequestAndWaitForResponse({method:"kaia_requestAccounts"},e)}async connectAndSign(e,t){return this.communicator.postRequestAndWaitForResponse({method:"kaia_connectAndSign",params:e},t)}shouldStoreConnectedAddressToStorage(){return!0}async requestSign(e){return this.communicator.postRequestAndWaitForResponse({method:su(e.method),params:e.params},null)}async switchChain(e){}async disconnect(){}}class s_{constructor(e){this.appKit=function(e){return new nz({...e,sdkVersion:rF.w.generateSdkVersion(e.adapters??[],"html","1.8.2")})}({networks:[ip,ig],metadata:{name:e.name,icons:[e.image_url],description:"",url:""},projectId:e.reown_project_id}),this.walletButton=function({namespace:e}={}){return i||(i=new n8({namespace:e})),i}()}static getInstance(e){return s_.instance||(s_.instance=new s_(e)),s_.instance}async awaitAppKitReady(){this.walletButton.isReady()||await new Promise(e=>{this.walletButton.subscribeIsReady(t=>{t&&e()})})}async connect(e){return await this.walletButton.connect(e)}async getAddress(e){let t=await this.appKit.getUniversalProvider();if(!t)throw Error("Failed to initialize wallet connect - not found universalProvider");return(t.session?.namespaces?.eip155?.accounts??[]).filter(t=>e===this.getWalletConnectAccountChain(t)).map(e=>this.stripWalletConnectAccountPrefix(e))[0]}async request(e){let t=await this.appKit.getUniversalProvider();if(!t)throw Error("Failed to initialize wallet connect - not found universalProvider");return await t.request(e)}async disconnect(){let e=await this.appKit.getUniversalProvider();if(!e)throw Error("Failed to initialize wallet connect - not found universalProvider");await e.disconnect(),await this.appKit.disconnect()}getWalletConnectAccountChain(e){return e.split(":")[1]}stripWalletConnectAccountPrefix(e){return e.split(":")[2]}}s_.instance=null;class sO extends sf{constructor(e,t,r,n){super(),this.walletName=r,this.eventBus=e,this.config=t,this.walletConnectClient=s_.getInstance(n)}static async init(e,t,r){let n=new iK(t),i=await n.fetchClientInfo();if(!i.reown_project_id||""===i.reown_project_id)throw Error("Dapp is not registered to reown dashboard.");let s=new sO(e,t,r,i);return await s.walletConnectClient.awaitAppKitReady(),s}async getConnectedAddresses(){await this.walletConnectClient.awaitAppKitReady();let e=await this.walletConnectClient.getAddress(this.config.chainId);return e?[e]:[]}async connect(){await this.walletConnectClient.awaitAppKitReady();let e=await this.getConnectedAddresses();if(e.length>=1)return e;try{await this.walletConnectClient.connect(this.walletName)}catch(e){throw this.convertWalletConnectError(e)}return this.getConnectedAddresses()}async requestSign(e){let{method:t,params:r}=e;if(-1!==this.config.kaiaOnlyMethods.indexOf(t))throw new iC({code:Number(l.methodNotFound),message:"This method is not supported on Bitget wallet."});await this.walletConnectClient.awaitAppKitReady();let n=sp(t),i=r?this.convertToEthParam(n,r):r,s=await this.requestWithConverter({method:n,params:i});return this.convertLegacyResponse(n,s)}async connectAndSign(e){if(!e)throw Error("Invalid params - params is not given");await this.walletConnectClient.awaitAppKitReady();let t=await this.walletConnectClient.getAddress(this.config.chainId);if(t||(await this.connect(),t=await this.walletConnectClient.getAddress(this.config.chainId)),!t)throw Error("Wallet is not connected");return[t,await this.requestWithConverter({method:"personal_sign",params:[...e,t]})]}shouldStoreConnectedAddressToStorage(){return!1}async switchChain(e){let t=await this.getCurrentChainId();this.config.chainId!==t.toString()&&await this.requestWithConverter({method:"wallet_switchEthereumChain",params:[{chainId:`0x${parseInt(this.config.chainId,10).toString(16)}`}]})}async getCurrentChainId(){return await this.requestWithConverter({method:"eth_chainId"})}async disconnect(){await this.walletConnectClient.disconnect()}convertToEthParam(e,t){return -1===["eth_sendTransaction","eth_signTransaction"].indexOf(e)?t:Array.isArray(t)&&t.every(e=>"object"==typeof e)?t.map(e=>this.convertInputFieldToDataField(e)):t}convertInputFieldToDataField(e){if(!("input"in e))return e;let{input:t,...r}=e;return{...r,data:t}}convertLegacyResponse(e,t){return"eth_signTransaction"!==e?t:{raw:t}}async requestWithConverter(e){try{return await this.walletConnectClient.request(e)}catch(e){throw this.convertBitgetRpcError(e)}}convertBitgetRpcError(e){return si(e)?new iC(5001===e.code?{code:-32001,message:"User canceled sign request"}:{code:e.code,message:e.message}):e}convertWalletConnectError(e){return new iC(e&&("object"==typeof e||"string"==typeof e)?e.toString().includes("Modal closed")?{code:-32001,message:"User canceled wallet connect popup"}:{code:Number.parseInt(l.internal),message:e.toString()}:{code:Number.parseInt(l.internal),message:"Unknown error"})}}class sx extends rU{constructor(e,t,r){super(),this.handler=null,this.isProcessingRequestToWallet=!1,this.initializeWalletType=()=>{let e=navigator.userAgent,t=im(e),r=ib(e),n=null!=globalThis.klaytn,i=iv(e),s=this.getLatestWalletTypeFromStorage();switch(s){case c.Extension:if(t||r||!n)return null;break;case c.KaiaMobileIab:if(!i)return null;break;case c.Mobile:if(!t&&!r)return null;break;case c.Web:if(t)return null;break;case c.Liff:if(!t)return null}return s},this.config=e,this.trackingId=t,this.chainNodeRpcClient=new iR(e),this.metricApiClient=new i0(e,t),this.sdkLocalStorage=new iZ(e.chainId),this.eventProvider=r,this.host=this.config.chainNodeRpcEndpoint,this.connected=!0,this.timeout=6e4,this.initializePromise=this.initialize()}async initialize(){let e=this.initializeWalletType();return this.initializeHandler(e)}async initializeHandler(e){if(e)switch(e){case c.OKX:this.handler=await sE.init(this,this.config);break;case c.Extension:this.handler=new sm(this,this.config);break;case c.Liff:{let e;e=g.M.isInClient()?new se(this.config,this.trackingId):new st(this.config,this.trackingId),this.handler=new sC(this.config,e);break}case c.Web:this.handler=new sC(this.config,new st(this.config,this.trackingId));break;case c.KaiaMobileIab:this.handler=new sb(this.config,this.chainNodeRpcClient);break;case c.Mobile:this.handler=new sC(this.config,new i9(this.config,this.trackingId));break;case c.BITGET:sr()?this.handler=new sg(this,this.config):this.handler=await sO.init(this,this.config,"bitget")}}getWalletType(){return this.getLatestWalletTypeFromStorage()}async disconnectWallet(){await this.initializePromise,await this.handler?.disconnect(),this.sdkLocalStorage.clear()}async request(e){try{await this.initializePromise;let{method:t}=e;if(-1===this.config.walletHandledMethods.indexOf(t))return this.chainNodeRpcClient.requestRpc(e);if(this.isProcessingRequestToWallet)throw Error("Already processing request to wallet");return this.isProcessingRequestToWallet=!0,await this.requestToWallet(e)}catch(e){throw console.error("Error in WalletProvider request",e),iN(e)}finally{this.isProcessingRequestToWallet=!1}}async getErc20TokenBalance(e,t){let r=t.toLowerCase().replace(/^0x/,"").padStart(64,"0");try{return await this.chainNodeRpcClient.requestRpc({method:"eth_call",params:[{to:e,input:`0x70a08231${r}`},"latest"]})}catch(e){throw iN(e)}}async requestToWallet(e){let{method:t,params:r}=e,n=this.getLatestWalletTypeFromStorage(),i=n?await this.handler.getConnectedAddresses():[];return sa(t)?i:sc(t)?await this.connectWallet():sl(t)?await this.connectAndSign(r):(this.validateTxType(e),n&&0!==i.length||await this.connectWallet(),-1!==this.config.methodsShouldSyncChain.indexOf(t)&&await this.handler.switchChain(this.config.chainId),await this.handler.request(e))}async connectWallet(){let e=this.getLatestWalletTypeFromStorage(),t=e,r=null;t||(t=iE(r=await this.selectProviderType()),await this.initializeHandler(t));let n=await this.handler.getConnectedAddresses();if(1===n.length)return e||this.sdkLocalStorage.setWalletType(t),this.sendWalletConnectMetric("kaia_requestAccounts",n,t),n;let i=await this.handler.connect(r);if(1!==i.length)throw Error("Error while processing kaia_requestAccounts - invalid length of result");return e||this.sdkLocalStorage.setWalletType(t),0===n.length&&this.handler.shouldStoreConnectedAddressToStorage()&&this.sdkLocalStorage.setSelectedWallet(i[0]),r&&!iw(r)&&this.sdkLocalStorage.setProviderType(r),this.sendWalletConnectMetric("kaia_requestAccounts",i,t),this.eventProvider.openEventBannerWhenConnect(i[0]),i}async connectAndSign(e){let t=this.getLatestWalletTypeFromStorage(),r=t,n=null;r||(r=iE(n=await this.selectProviderType()),await this.initializeHandler(r));let i=await this.handler.getConnectedAddresses(),s=await this.handler.connectAndSign(e,n);if(2!==s.length)throw Error("Error while processing kaia_connectAndSign - invalid length of result");let o=s[0];return t||this.sdkLocalStorage.setWalletType(r),0===i.length&&this.handler.shouldStoreConnectedAddressToStorage()&&this.sdkLocalStorage.setSelectedWallet(s[0]),n&&!iw(n)&&this.sdkLocalStorage.setProviderType(n),this.sendWalletConnectMetric("kaia_connectAndSign",[o],r),this.eventProvider.openEventBannerWhenConnect(o),s}async selectProviderType(){let e=g.M.isInClient()?new sh(this.config):new sd(this.config),t=new iK(this.config),r=await t.fetchClientInfo(),n=this.getLatestProviderTypeFromStorage(),i=await e.selectType(r.name,null!==r.reown_project_id&&""!==r.reown_project_id,n,this.eventProvider.isFromEvent());return await new Promise(e=>setTimeout(e,700)),i}getLatestWalletTypeFromStorage(){return iv(navigator.userAgent)?c.KaiaMobileIab:this.sdkLocalStorage.getWalletType()}getLatestProviderTypeFromStorage(){return this.sdkLocalStorage.getProviderType()}validateTxType(e){"kaia_signTransaction"!==e.method&&"klay_signTransaction"!==e.method||this.validateSignTransaction(e)}validateSignTransaction(e){let t=e.params.map(e=>new Map(Object.entries(e)));if(1!==t.length)throw new ix("Invalid params");let r=t[0].get("typeInt");if(void 0===r||"number"!=typeof r||-1===this.config.feeDelegatedTxTypes.indexOf(r))throw new ix("Only fee delegated transaction can be signed with signTransaction request. Use 'sendTransaction' to sign transaction and send to network.")}async send(e,t){try{let r=await this.request(e);t&&t(null,{jsonrpc:"2.0",id:"",result:r})}catch(e){t&&t(e,void 0)}}supportsSubscriptions(){return!1}disconnect(){return!0}async sendWalletConnectMetric(e,t,r){-1!==["kaia_connectAndSign","kaia_requestAccounts","klay_requestAccounts","eth_requestAccounts"].indexOf(e)&&(await this.metricApiClient.sendWalletMetric("CONNECT",t[0],r),await this.metricApiClient.sendWalletMetric(iH,t[0],r))}}class sN{constructor(e){this.resolveUserClose=()=>{},this.rejectUserClose=()=>{},this.browserGuideUIUrl=e.sdkUIUrls.browserGuide}setupListeners(){let e=e=>{let t=this.iframe;if(!t||e.source!==t.contentWindow)return;let r=e.data;if(!r||"object"!=typeof r)return;let n=r.event;if(n)switch(n){case"Loaded":break;case"Close":this.onSelectedClose()}};window.addEventListener("message",e),this.eventListener=e}clearListeners(){let e=this.eventListener;e&&(window.removeEventListener("message",e),this.eventListener=void 0)}onSelectedClose(){this.resolveUserClose&&this.resolveUserClose(null)}reset(){this.resolveUserClose=void 0,this.rejectUserClose=void 0,iU(),this.clearListeners()}async showBrowserGuide(e){let t=new Promise((e,t)=>{this.resolveUserClose=e,this.rejectUserClose=t});this.setupListeners(),this.iframe=function(e,t,r){let n=document.createElement("div");n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100vw",n.style.height="100vh",n.style.zIndex="9999999",n.id="iframeDiv";let i=document.createElement("iframe");i.src=e,i.width=t,i.height=r,i.style.border="none",i.style.zIndex="99999999";let s=n.appendChild(i);return document.body.appendChild(n),s}(`${this.browserGuideUIUrl}?browserName=${e}`,"100%","100%"),await t,this.reset()}cancel(){this.rejectUserClose&&this.rejectUserClose(Error("User canceled")),this.reset()}}let sA=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];(h||(h={})).EVENT_BANNER_SIMPLE="SIMPLE";class sS{constructor(e){this.clickEvent=()=>{},this.cancelEvent=()=>{},this.config=e}setupListeners(e,t){let r,n;if(e!==h.EVENT_BANNER_SIMPLE)throw Error("[Internal Error] Unsupported EventBannerType: "+e);r=`Clicked_${t}`,n=`Closed_${t}`;let i=e=>{let i=this.iframe;if(!i||e.source!==i.contentWindow)return;let s=e.data;if(!s||"object"!=typeof s)return;let o=s.event;if(o)switch(o){case r:this.clickEvent&&this.clickEvent();break;case n:this.cancelEvent&&this.cancelEvent(),this.reset(t),window.focus();break;default:throw Error("[Internal Error] Unsupported messageEvent : "+o)}};window.addEventListener("message",i),this.eventListener=i}clearListeners(){let e=this.eventListener;e&&(window.removeEventListener("message",e),this.eventListener=void 0)}reset(e){this.clickEvent=void 0,this.cancelEvent=void 0,function(e){let t=document.getElementById(`iframeDiv-${e}`);t?.remove()}(e),this.clearListeners()}async openBanner(e,t,r,n){if(this.clickEvent=r,this.cancelEvent=n,t.banner_type!==h.EVENT_BANNER_SIMPLE.toString())throw Error("[Internal Error] Unsupported EventBannerType: "+t.banner_type);this.setupListeners(h.EVENT_BANNER_SIMPLE,e),this.iframe=function(e,t){let r=document.createElement("iframe");return r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.position="fixed",r.style.top="12px",r.style.left="50%",r.style.transform="translateX(-50%)",r.style.width="100vw",r.style.height="fit-content",r.style.boxSizing="border-box",r.style.maxWidth="640px",r.style.backgroundColor="transparent",r.style.zIndex="99999999",r.style.border="none",r.id=`iframeDiv-${t}`,r.srcdoc=e,document.body.appendChild(r),r.onload=()=>{let e=r.contentDocument||r.contentWindow?.document;if(e?.body){let t=e.body.scrollHeight;r.style.height=t+4+"px"}},r}(((e,t,r,n,i)=>{if(t!==h.EVENT_BANNER_SIMPLE)throw Error(`[Internal Error] - ${t} is not supported in this context.`);let s=window.navigator.language.slice(0,2);return`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <style>
        body {
          margin: 0;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
            'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
            sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          display: flex;
          justify-content: center;
        }
        .banner-container {
          width: calc(100% - 32px);
          height: fit-content;
          padding: 12px 16px;
          border-radius: 12px;
          border: 1px solid #1596e0;
          background: #fff;
          -webkit-backdrop-filter: blur(20px);
          backdrop-filter: blur(20px);
          gap: 4px;
          z-index: 1100;
          display: flex;
          margin: 0 16px;
          box-sizing: border-box;
        }
        #dappportalsdk-banner-content {
          display: flex;
          flex-direction: row;
          align-items: center;
          box-sizing: border-box;
          width: 100%;
        }
        .banner-logo {
          flex-shrink: 0;
          width: 22px;
          height: 22px;
          border-radius: 22px;
          margin-right: 5px;
        }
        .banner-logo img {
          display: block;
          width: 100%;
          height: 100%;
          object-fit: cover;
          border: 0;
          vertical-align: top;
        }
        .banner-message {
          max-width: calc(100% - 26px);
          padding: 0; 
        }
        .banner-message p {
          font-size: 13px;
          line-height: 100%;
          font-weight: 700;
          color: #000;
          margin: 0;
        }
        .banner-message em {
          font-style: normal;
        }
        .banner-close-box {
          width: 24px;
          display: flex;
          align-items: center;
          justify-content: end;
        }
        .banner-close-btn {
          display: flex;
          width: 12px;
        }
      </style>
    </head>
    <body>
      <script>
        window.onload = function() {
          document.getElementById('dappportalsdk-banner-content').addEventListener('click', function() {
            window.parent.postMessage({event: 'Clicked_${e}'}, '*');
          });
          document.getElementById('dappportalsdk-banner-close-btn').addEventListener('click', function() {
            window.parent.postMessage({event: 'Closed_${e}'}, '*');
          });
        }
      </script>
      
    <div class="banner-container">
      <div id="dappportalsdk-banner-content">
        <div class="banner-logo">
          <img src="${i}" alt="logo">
        </div>
        <div class="banner-message">
          <p class="banner-message-text">${n[(e=>{switch(e){case"ko":return"ko_KR";case"ja":return"ja_JP";case"zh":return"zh_TW";case"th":return"th_TH";default:return"en_US"}})(s)]||n.en_US}</p>
        </div>
      </div>
      <div class="banner-close-box" id="dappportalsdk-banner-close-btn" >
        <img src="https://static.kaiawallet.io/assets/sdk/ic_banner_close.svg" alt="close" class="banner-close-btn">
      </div>
    </div>
  
    </body>
    </html>
    `})(e,h.EVENT_BANNER_SIMPLE,t.banner_title,t.banner_message,t.logo_url),e)}}class sT{constructor(e){this.getEvents=async e=>{let t=`${this.baseUrl}/api/v1/events`;try{return(await rD.get(t,{params:{bannerTiming:e},headers:{"x-client-id":this.clientId,"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get event - ",e),e}},this.getEventUserConnection=async(e,t)=>{let r=`${this.baseUrl}/api/v1/events/${e}/connect`;try{return(await rD.get(r,{params:{walletAddress:t},headers:{"x-client-id":this.clientId,"Content-Type":"application/json"}})).data}catch(e){throw console.error("Fail to get event user connection - ",e),e}},this.setEventUserConnection=async(e,t,r)=>{let n=`${this.baseUrl}/api/v1/events/${e}/connect`;try{await rD.post(n,{connection_token:t,wallet_address:r},{headers:{"x-client-id":this.clientId,"Content-Type":"application/json"}})}catch(e){throw console.error("Fail to set event user connection - ",e),e}},this.clientId=e.clientId,this.baseUrl=e.relayServerConfig.baseUrl}}class sR{constructor(e){this.eventClient=new sT(e)}async getEventWhenStart(){return await this.eventClient.getEvents("START")}async getEventWhenConnect(){return await this.eventClient.getEvents("CONNECT")}async getEventUserConnection(e,t){try{return await this.eventClient.getEventUserConnection(e,t)}catch(e){return console.warn(e),!1}}async setEventUserConnection(e,t,r){try{await this.eventClient.setEventUserConnection(e,t,r)}catch(e){console.warn(e)}}}let sI="eventId";class sP{constructor(e,t){this.config=e,this.sdkLocalStorage=new iZ(e.chainId),this.trackingService=t,this.handler=new sR(e),this.bannerEventListner=new sS(e),this.getEventParamsFromUrl()}async initialize(e){this.openEventBannerWhenStart();let t=await e.request({method:"kaia_accounts"});t.length>0&&this.openEventBannerWhenConnect(t[0]),this.setLiffEventListener()}setLiffEventListener(){g.M.subWindow.on("submit",e=>{if("shareTargetPicker"===e.event){let t=e.payload.messages;t.length>0&&g.M.shareTargetPicker(t)}})}getEventParamsFromUrl(){let e=new URLSearchParams(new URL(window.location.href).search);this.eventId=e.get(sI),this.connectionToken=e.get("connectionToken")}isFromEvent(){return null!==this.eventId&&null!==this.connectionToken&&this.eventId.trim().length>0&&this.connectionToken.trim().length>0}async openEventBannerWhenStart(){if(im(navigator.userAgent)){let e=await this.handler.getEventWhenStart();if(0===e.length)return;let t=e[0];this.openBanner(t,null)}}async openEventBannerWhenConnect(e){if(im(navigator.userAgent)&&this.isFromEvent()){let t=await this.handler.getEventWhenConnect();if(0===t.length)return;let r=t[0];this.eventId===r.id&&this.openBanner(r,e)}}async openBanner(e,t){if(!this.sdkLocalStorage.getEventRead(e.id)){null!==t&&await this.handler.setEventUserConnection(e.id,this.connectionToken,t),await this.delayOpenBanner(e.banner_setting.event_banner.banner_display_delay_seconds);let r=new URL(e.banner_setting.event_banner.url);r.searchParams.set(sI,e.id),r.searchParams.set(i5,this.trackingService.getTrackingId());let n={};if(e.event_utm_codes)for(let t of Object.keys(e.event_utm_codes)){let i=e.event_utm_codes[t];i&&(r.searchParams.set(t,i),n[t]=i)}let i=()=>{if(this.trackingService.sendWalletActivity("EVENT_CLICK",{event_id:e.id,...n}),g.M.isInClient())g.M.subWindow.open({url:r.toString()});else{if(iy(navigator.userAgent))return void(window.location.href=r.toString());window.open(r.toString())}},s=()=>{this.sdkLocalStorage.setEventRead(e.id,!0)};this.bannerEventListner.openBanner(e.id,e.banner_setting.event_banner,i,s)}}async delayOpenBanner(e){return new Promise(t=>{setTimeout(()=>{t()},1e3*e)})}}class sk{constructor(e,t,r,n){this.config=e,this.browserGuideUi=new sN(e),this.walletProvider=t,this.trackingService=r,this.eventProvider=n}static async init(e){if(g.M.isInClient()&&!g.M.isLoggedIn())throw console.error("liff is not initialized"),Error("liff is not initialized");let t=await async function(e){let t=await fetch("https://wallet.dappportal.io/api/v1/sdk/config?sdkVersion=1.4.4"),r=await t.json(),n=e.chainId??r.defaultChainId,i=e.chainNodeRpcEndpoint??r.chainNodeRpcEndpoints[n];if(!i)throw Error("Please set the chainNodeRpcEndpoint");let s={...r.metricServerConfig,utmParamKeys:r.metricServerConfig.utmParamKeys??sA},o={cookieDomains:r.trackingModuleConfig?.cookieDomains??[]};return{clientId:e.clientId,chainId:n,connectPageOptions:e.connectPageOptions,chainNodeRpcEndpoint:i,sdkUIUrls:r.sdkUIUrls,relayServerConfig:r.relayServerConfig,paymentServerConfig:r.paymentServerConfig,metricServerConfig:s,stripePopupSize:r.stripePopupSize,paymentHistoryPopupConfig:r.paymentHistoryPopupConfig,tokenApprovalUIUrls:r.tokenApprovalUIUrls,trackingModuleConfig:o,kaiaWalletMobileConfig:r.kaiaWalletMobileConfig,liffWalletConfig:r.liffWalletConfig,webWalletConfig:r.webWalletConfig,walletHandledMethods:r.walletHandledMethods,kaiaOnlyMethods:r.kaiaOnlyMethods,methodsShouldSyncChain:r.methodsShouldSyncChain,methodsShouldAttachTxTypeParamsWhenRequestToExtension:r.methodsShouldAttachTxTypeParamsWhenRequestToExtension,methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension:r.methodsShouldConvertInputFieldToDataFieldWhenRequestToExtension,txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension:r.txTypesShouldConvertInputFieldToDataFieldWhenRequestToExtension,feeDelegatedTxTypes:r.feeDelegatedTxTypes,blockedMethods:r.blockedMethods,blockedBrowsersUserAgent:r.blockedBrowsersUserAgent,erc20Tokens:r.erc20Tokens,isSupportedVersion:r.isSupportedVersion}}(e);t.isSupportedVersion||console.error("This Dapp Portal SDK version is not supported anymore. Please upgrade to the latest version. \nmore information : https://www.npmjs.com/package/@linenext/dapp-portal-sdk"),await this.initializeDeviceId(t.chainId);let r=i6.init(t),n=new sP(t,r),i=new sx(t,r.getTrackingId(),n);await i.initializePromise;let s=new i0(t,r.getTrackingId());return await s.sendSdkInitializeMetric(i),await n.initialize(i),new sk(t,i,r,n)}static async initializeDeviceId(e){let t=new iZ(e);if(!g.M.isInClient()){let e=t.getDeviceId();if(!e){let r=rW();t.setDeviceId(r),e=r}return e}let r=g.M.getDecodedIDToken()?.sub;if(!r)throw console.error("liff is not initialized"),Error("liff is not initialized");let n=(new TextEncoder).encode(r),i=Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",n))).map(e=>e.toString(16).padStart(2,"0")).join("");t.setDeviceId(i)}getWalletProvider(){if(!this.walletProvider){let e=this.getEventProvider();this.walletProvider=new sx(this.config,this.trackingService.getTrackingId(),e)}return this.walletProvider}getPaymentProvider(){if(!this.paymentProvider){let e=this.getWalletProvider();this.paymentProvider=new iW(this.config,e,this.trackingService)}return this.paymentProvider}getEventProvider(){return this.eventProvider||(this.eventProvider=new sP(this.config,this.trackingService)),this.eventProvider}isSupportedBrowser(){return null===this.getBrowserNameIfUnsupported()}async showUnsupportedBrowserGuide(){let e=this.getBrowserNameIfUnsupported();if(e)return await this.browserGuideUi.showBrowserGuide(e)}getBrowserNameIfUnsupported(){let e=navigator.userAgent;for(let[t,r]of Object.entries(this.config.blockedBrowsersUserAgent))for(let n of r)if(new RegExp(n).test(e))return t;return null}getTrackingId(){return this.trackingService.getTrackingId()}sendWalletActivity(e,t={}){this.trackingService.sendWalletActivity(e,t)}}},33382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountsChains=function(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t},t.nameSpaceToConnectWalletNameSpace=function(e){var t=[];return e&&Object.keys(e).forEach(r=>{(r===n.NameSpaceKeyEip155||r===n.NameSpaceKeySOL||r===n.NameSpaceKeySui||r===n.NameSpaceKeyAptos||r==n.NameSpaceKeyBtc||r===n.NameSpaceKeyTON||r===n.NameSpaceKeyCosmos||r===n.NameSpaceKeyTron||r===n.NameSpaceKeyStarknet)&&e[r].chains&&t.push({namespace:r,chains:e[r].chains,params:e[r].params})}),t},t.fillParamsToSession=function(e,t,r,i){let s=(e,t)=>{Object.assign(e,t)},o=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&t[r].rpcMap&&(t[r].rpcMap&&(e[r].rpcMap||(e[r].rpcMap={}),s(e[r].rpcMap,t[r].rpcMap)),t[r].defaultChain&&void 0===e[r].defaultChain&&e[r].chains.some(e=>e.split(":")[1]===t[r].defaultChain)&&(e[r].defaultChain=t[r].defaultChain))};for(let n in t&&o(e.namespaces,t),r&&o(e.namespaces,r),e.namespaces){let t=e.namespaces[n];(null==t?void 0:t.accounts)&&0!==t.accounts.length||delete e.namespaces[n]}e.namespaces[n.NameSpaceKeyBtc]&&e.wallet.appName===n.OKXWalletName&&function(e){try{if(e&&e.extra){var t=e.extra;Object.keys(t).forEach(e=>{let r=t[e];6===Number(r.addressType)?r.publicKey=r.compressedPublicKey.slice(2):r.publicKey=r.compressedPublicKey})}}catch(e){(0,n.logDebug)("namespaces fixMobileBtcSession error")}}(e.namespaces[n.NameSpaceKeyBtc]),void 0==i.connectWalletType&&void 0!=e.sessionConfig.connectWalletType&&(i.connectWalletType=e.sessionConfig.connectWalletType),e.sessionConfig=i},t.isCaipNamespace=i,t.parseNamespaceKey=function(e){return i(e)?e.split(":")[0]:e};let n=r(79864);function i(e){return e.includes(":")}},33887:function(e,t){"use strict";var r,n,i,s,o,a,c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.guard=t.pick=t.concatBytes=t.bytesEqual=t.arraysEqual=t.ReadonlyWalletAccount=void 0;class d{get address(){return c(this,r,"f")}get publicKey(){return c(this,n,"f").slice()}get chains(){return c(this,i,"f").slice()}get features(){return c(this,s,"f").slice()}get label(){return c(this,o,"f")}get icon(){return c(this,a,"f")}constructor(e){r.set(this,void 0),n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),o.set(this,void 0),a.set(this,void 0),new.target===d&&Object.freeze(this),l(this,r,e.address,"f"),l(this,n,e.publicKey.slice(),"f"),l(this,i,e.chains.slice(),"f"),l(this,s,e.features.slice(),"f"),l(this,o,e.label,"f"),l(this,a,e.icon,"f")}}function h(e,t){if(e===t)return!0;let r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}t.ReadonlyWalletAccount=d,r=new WeakMap,n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,t.arraysEqual=h,t.bytesEqual=function(e,t){return h(e,t)},t.concatBytes=function(e,...t){let r=new Uint8Array(t.reduce((e,t)=>e+t.length,e.length));for(let n of(r.set(e,0),t))r.set(n,r.length);return r},t.pick=function(e,...t){let r={};for(let n of t)r[n]=e[n];return r},t.guard=function(e){try{e()}catch(e){console.error(e)}}},34182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=t.removeUrlLastSlash=t.addPathToUrl=void 0;var n=r(14935);Object.defineProperty(t,"addPathToUrl",{enumerable:!0,get:function(){return n.addPathToUrl}}),Object.defineProperty(t,"removeUrlLastSlash",{enumerable:!0,get:function(){return n.removeUrlLastSlash}});var i=r(40002);Object.defineProperty(t,"toUserFriendlyAddress",{enumerable:!0,get:function(){return i.toUserFriendlyAddress}})},34430:function(e){e.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}}},34561:(e,t,r)=>{"use strict";r.d(t,{$P:()=>c,My:()=>l,cK:()=>d,i3:()=>u,nj:()=>a});var n=r(35276),i=r(72427),s=r(11914);let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?d(e,t):"string"==typeof e?u(e,t):"boolean"==typeof e?c(e,t):l(e,t)}function c(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Sl)(r,{size:t.size}),(0,i.eV)(r,{size:t.size})):r}function l(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,s.Sl)(n,{size:t.size}),(0,i.eV)(n,{dir:"right",size:t.size})):n}function d(e,t={}){let r,{signed:s,size:o}=t,a=BigInt(e);o?r=s?(1n<<8n*BigInt(o)-1n)-1n:2n**(8n*BigInt(o))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let c="bigint"==typeof r&&s?-r-1n:0;if(r&&a>r||a<c){let t="bigint"==typeof e?"n":"";throw new n.Ty({max:r?`${r}${t}`:void 0,min:`${c}${t}`,signed:s,size:o,value:`${e}${t}`})}let l=`0x${(s&&a<0?(1n<<BigInt(8*o))+BigInt(a):a).toString(16)}`;return o?(0,i.eV)(l,{size:o}):l}let h=new TextEncoder;function u(e,t={}){return l(h.encode(e),t)}},35276:(e,t,r)=>{"use strict";r.d(t,{H2:()=>o,Ty:()=>i,u:()=>a,xO:()=>s});var n=r(13933);class i extends n.C{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class s extends n.C{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class o extends n.C{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}n.C;class a extends n.C{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},35676:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=void 0;class n{constructor(){this.window=window}dispatchEvent(e,t){return r(this,void 0,void 0,function*(){var r;let n=new CustomEvent(e,{detail:t});null==(r=this.window)||r.dispatchEvent(n)})}addEventListener(e,t,n){return r(this,void 0,void 0,function*(){var r;return null==(r=this.window)||r.addEventListener(e,t,n),()=>{var r;return null==(r=this.window)?void 0:r.removeEventListener(e,t)}})}}t.BrowserEventDispatcher=n},35702:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSendTransactionSupport=function(e,t){if(!e.includes("ton_sendTransaction"))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support SendTransaction feature.");if(4<t.requiredMessagesNumber)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,`Wallet is not able to handle such SendTransaction request. Max support messages number is 4, but ${t.requiredMessagesNumber} is required.`)};let n=r(79864)},36115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserEventDispatcher=t.createVersionInfo=t.createTransactionSigningFailedEvent=t.createTransactionSignedEvent=t.createTransactionSentForSignatureEvent=t.createDisconnectionEvent=t.createConnectionStartedEvent=t.createConnectionRestoringStartedEvent=t.createConnectionRestoringErrorEvent=t.createConnectionRestoringCompletedEvent=t.createConnectionErrorEvent=t.createConnectionCompletedEvent=t.createResponseVersionEvent=t.createRequestVersionEvent=t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0;var n=r(79983);Object.defineProperty(t,"OKX_TON_CONNECTION_AND_TRANSACTION_EVENT",{enumerable:!0,get:function(){return n.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT}});var i=r(44006);Object.defineProperty(t,"createRequestVersionEvent",{enumerable:!0,get:function(){return i.createRequestVersionEvent}}),Object.defineProperty(t,"createResponseVersionEvent",{enumerable:!0,get:function(){return i.createResponseVersionEvent}}),Object.defineProperty(t,"createConnectionCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionCompletedEvent}}),Object.defineProperty(t,"createConnectionErrorEvent",{enumerable:!0,get:function(){return i.createConnectionErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringCompletedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringCompletedEvent}}),Object.defineProperty(t,"createConnectionRestoringErrorEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringErrorEvent}}),Object.defineProperty(t,"createConnectionRestoringStartedEvent",{enumerable:!0,get:function(){return i.createConnectionRestoringStartedEvent}}),Object.defineProperty(t,"createConnectionStartedEvent",{enumerable:!0,get:function(){return i.createConnectionStartedEvent}}),Object.defineProperty(t,"createDisconnectionEvent",{enumerable:!0,get:function(){return i.createDisconnectionEvent}}),Object.defineProperty(t,"createTransactionSentForSignatureEvent",{enumerable:!0,get:function(){return i.createTransactionSentForSignatureEvent}}),Object.defineProperty(t,"createTransactionSignedEvent",{enumerable:!0,get:function(){return i.createTransactionSignedEvent}}),Object.defineProperty(t,"createTransactionSigningFailedEvent",{enumerable:!0,get:function(){return i.createTransactionSigningFailedEvent}}),Object.defineProperty(t,"createVersionInfo",{enumerable:!0,get:function(){return i.createVersionInfo}});var s=r(35676);Object.defineProperty(t,"BrowserEventDispatcher",{enumerable:!0,get:function(){return s.BrowserEventDispatcher}})},36117:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",i="week",s="month",o="quarter",a="year",c="date",l="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},p="en",f={};f[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}};var g="$isDayjsObject",m=function(e){return e instanceof w||!(!e||!e[g])},y=function e(t,r,n){var i;if(!t)return p;if("string"==typeof t){var s=t.toLowerCase();f[s]&&(i=s),r&&(f[s]=r,i=s);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var a=t.name;f[a]=t,i=a}return!n&&i&&(p=i),i||!n&&p},b=function(e,t){if(m(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new w(r)},v={s:u,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+u(Math.floor(r/60),2,"0")+":"+u(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,s),o=r-i<0,a=t.clone().add(n+(o?-1:1),s);return+(-(n+(r-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(l){return({M:s,y:a,w:i,d:"day",D:c,h:n,m:r,s:t,ms:e,Q:o})[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};v.l=y,v.i=m,v.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var w=function(){function u(e){this.$L=y(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=u.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return v},p.isValid=function(){return this.$d.toString()!==l},p.isSame=function(e,t){var r=b(e);return this.startOf(t)<=r&&r<=this.endOf(t)},p.isAfter=function(e,t){return b(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<b(e)},p.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,o){var l=this,d=!!v.u(o)||o,h=v.p(e),u=function(e,t){var r=v.w(l.$u?Date.UTC(l.$y,t,e):new Date(l.$y,t,e),l);return d?r:r.endOf("day")},p=function(e,t){return v.w(l.toDate()[e].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),l)},f=this.$W,g=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case a:return d?u(1,0):u(31,11);case s:return d?u(1,g):u(0,g+1);case i:var b=this.$locale().weekStart||0,w=(f<b?f+7:f)-b;return u(d?m-w:m+(6-w),g);case"day":case c:return p(y+"Hours",0);case n:return p(y+"Minutes",1);case r:return p(y+"Seconds",2);case t:return p(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(i,o){var l,d=v.p(i),h="set"+(this.$u?"UTC":""),u=((l={}).day=h+"Date",l[c]=h+"Date",l[s]=h+"Month",l[a]=h+"FullYear",l[n]=h+"Hours",l[r]=h+"Minutes",l[t]=h+"Seconds",l[e]=h+"Milliseconds",l)[d],p="day"===d?this.$D+(o-this.$W):o;if(d===s||d===a){var f=this.clone().set(c,1);f.$d[u](p),f.init(),this.$d=f.set(c,Math.min(this.$D,f.daysInMonth())).$d}else u&&this.$d[u](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[v.p(e)]()},p.add=function(e,o){var c,l=this;e=Number(e);var d=v.p(o),h=function(t){var r=b(l);return v.w(r.date(r.date()+Math.round(t*e)),l)};if(d===s)return this.set(s,this.$M+e);if(d===a)return this.set(a,this.$y+e);if("day"===d)return h(1);if(d===i)return h(7);var u=((c={})[r]=6e4,c[n]=36e5,c[t]=1e3,c)[d]||1,p=this.$d.getTime()+e*u;return v.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||l;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=v.z(this),s=this.$H,o=this.$m,a=this.$M,c=r.weekdays,d=r.months,u=r.meridiem,p=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},f=function(e){return v.s(s%12||12,e,"0")},g=u||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(h,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return v.s(t.$y,4,"0");case"M":return a+1;case"MM":return v.s(a+1,2,"0");case"MMM":return p(r.monthsShort,a,d,3);case"MMMM":return p(d,a);case"D":return t.$D;case"DD":return v.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(r.weekdaysMin,t.$W,c,2);case"ddd":return p(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return v.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(s,o,!0);case"A":return g(s,o,!1);case"m":return String(o);case"mm":return v.s(o,2,"0");case"s":return String(t.$s);case"ss":return v.s(t.$s,2,"0");case"SSS":return v.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,c,l){var d,h=this,u=v.p(c),p=b(e),f=(p.utcOffset()-this.utcOffset())*6e4,g=this-p,m=function(){return v.m(h,p)};switch(u){case a:d=m()/12;break;case s:d=m();break;case o:d=m()/3;break;case i:d=(g-f)/6048e5;break;case"day":d=(g-f)/864e5;break;case n:d=g/36e5;break;case r:d=g/6e4;break;case t:d=g/1e3;break;default:d=g}return l?d:v.a(d)},p.daysInMonth=function(){return this.endOf(s).$D},p.$locale=function(){return f[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=y(e,t,!0);return n&&(r.$L=n),r},p.clone=function(){return v.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},u}(),E=w.prototype;return b.prototype=E,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",s],["$y",a],["$D",c]].forEach(function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),b.extend=function(e,t){return e.$i||(e(t,w,b),e.$i=!0),b},b.locale=y,b.isDayjs=m,b.unix=function(e){return b(1e3*e)},b.en=f[p],b.Ls=f,b.p={},b}()},36202:function(e,t,r){var n,i,s,o,a;n=r(16611),r(92475),i=n.lib.WordArray,o=(s=n.algo).SHA256,a=s.SHA224=o.extend({_doReset:function(){this._hash=new i.init([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),n.SHA224=o._createHelper(a),n.HmacSHA224=o._createHmacHelper(a),e.exports=n.SHA224},36211:(e,t,r)=>{"use strict";r.d(t,{z8:()=>n,tt:()=>l,Zv:()=>s.Z,AH:()=>h.AH,EM:()=>d.E,RF:()=>i.RF,JX:()=>i.JX,ds:()=>i.ds});let n={interpolate(e,t,r){if(2!==e.length||2!==t.length)throw Error("inputRange and outputRange must be an array of length 2");let n=e[0]||0,i=e[1]||0,s=t[0]||0,o=t[1]||0;return r<n?s:r>i?o:(o-s)/(i-n)*(r-n)+s}};var i=r(71084),s=r(8821),o=r(12232);let a=["receive","deposit","borrow","claim"],c=["withdraw","repay","burn"],l={getTransactionGroupTitle(e,t){let r=o.r.getYear(),n=o.r.getMonthNameByIndex(t);return e===r?n:`${n} ${e}`},getTransactionImages(e){let[t,r]=e,n=!!t&&e?.every(e=>!!e.nft_info),i=e?.length>1;return e?.length!==2||n?i?e.map(e=>this.getTransactionImage(e)):[this.getTransactionImage(t)]:[this.getTransactionImage(r),this.getTransactionImage(t)]},getTransactionImage:e=>({type:l.getTransactionTransferTokenType(e),url:l.getTransactionImageURL(e)}),getTransactionImageURL(e){let t,r=!!e?.nft_info,n=!!e?.fungible_info;return e&&r?t=e?.nft_info?.content?.preview?.url:e&&n&&(t=e?.fungible_info?.icon?.url),t},getTransactionTransferTokenType:e=>e?.fungible_info?"FUNGIBLE":e?.nft_info?"NFT":void 0,getTransactionDescriptions(e){let t=e?.metadata?.operationType,r=e?.transfers,n=e?.transfers?.length>0,i=e?.transfers?.length>1,o=n&&r?.every(e=>!!e?.fungible_info),[l,d]=r,h=this.getTransferDescription(l),u=this.getTransferDescription(d);if(!n)return("send"===t||"receive"===t)&&o?[h=s.Z.getTruncateString({string:e?.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),s.Z.getTruncateString({string:e?.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"})]:[e.metadata.status];if(i)return r.map(e=>this.getTransferDescription(e)).reverse();let p="";return a.includes(t)?p="+":c.includes(t)&&(p="-"),[h=p.concat(h)]},getTransferDescription(e){let t="";return e&&(e?.nft_info?t=e?.nft_info?.name||"-":e?.fungible_info&&(t=this.getFungibleTransferDescription(e)||"-")),t},getFungibleTransferDescription(e){return e?[this.getQuantityFixedValue(e?.quantity.numeric),e?.fungible_info?.symbol].join(" ").trim():null},getQuantityFixedValue:e=>e?parseFloat(e).toFixed(3):null};var d=r(47327);r(81345);var h=r(20296)},36697:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=void 0;let i=r(79864);class s{constructor(e){this.STARKNET_CHAIN_ID="starknet:mainnet",this.provider=e}getChain(e){if(null==e&&(e=this.STARKNET_CHAIN_ID),e!=this.STARKNET_CHAIN_ID)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXStarknetProvider");return e}getAccount(e){var t,r,n,s,o;let a=null==(r=null==(t=this.provider.session)?void 0:t.namespaces[i.NameSpaceKeyStarknet])?void 0:r.accounts.filter(function(t){return t.startsWith(e)})[0];if(!a)return;let c=a.split(":"),l=a.split(":")[2],d=null==(o=null==(s=null==(n=this.provider.session)?void 0:n.namespaces[i.NameSpaceKeyStarknet])?void 0:s.extra)?void 0:o[`${c[0]}:${c[1]}`],h="";if(void 0!=d&&(h=d.publicKey),l)return{address:l,pubKey:h}}signMessage(e,t,r){return n(this,void 0,void 0,function*(){r=this.getChain(r),0==e.length&&(e=this.getAccount(r).address);let n={chainId:r,method:"starknet_signMessage",params:{accountAddress:e,typedData:t}};try{let e=yield this.provider.request(n,r);if(!("result"in e))return e.error;{let t=e.result;return"string"==typeof t&&(t=JSON.parse(t)),[t.signedDataR,t.signedDataS]}}catch(e){return e}})}sendTransaction(e,t,r){return n(this,void 0,void 0,function*(){r=this.getChain(r);let n={method:"starknet_sendTransaction",params:{data:JSON.stringify({accountAddress:e,executionRequest:t}),from:e}};try{let e=yield this.provider.request(n,r);if("result"in e)return{transaction_hash:e.result};return e.error}catch(e){return e}})}signMessageDeclareContractPayload(e,t){return n(this,void 0,void 0,function*(){t=this.getChain(t);try{let r=yield this.provider.request({method:"starknet_signMessage",params:e},t);if("result"in r)return{transaction_hash:r.result.txHash,class_hash:r.result.classHash};return r.error}catch(e){return e}})}sendMessageExecuteTransactionDetail(e,t,r,i,s){return n(this,void 0,void 0,function*(){s=this.getChain(s);let n={calls:Array.isArray(t)?t:[t],abis:r,transactionsDetail:{nonce:null==i?void 0:i.nonce,maxFee:null==i?void 0:i.nonce,version:null==i?void 0:i.version}};return this.sendTransaction(e,n,s)})}}t.OKXStarknetProvider=s},36766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildNameSpacesByConnectResponse=function(e){return i(e)},t.buildRequestAccountNameSpacesByConnectResponse=i,t.buildAccountNameSpaces=s,t.findConnectorBySession=function(e,t,r){let n;if(r&&r.connectWalletType&&(n=e.find(e=>e.getType()===r.connectWalletType)),!n){let r=null==t?void 0:t.appName;r&&(n=e.find(e=>e.getTag()===r))}return n};let n=r(75260);function i(e){let t={};(0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse111>>",JSON.stringify(e));let r=e.payload.responses.find(e=>"requestAccounts"===e.name);if(r&&r.accounts){let e=[];for(let t of r.accounts)"ton"===t.namespace?t.data&&t.data.ton_addr&&t.data.ton_addr.address&&t.data.ton_addr.address.length>0&&((0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse start TON>>",JSON.stringify(t)),e.push(t)):((0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse start other>>",JSON.stringify(t)),e.push(t));r.accounts=e}let i=e.payload.responses.find(e=>"ton_addr"===e.name),o=e.payload.responses.find(e=>"ton_proof"===e.name);if(i&&!r){(0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=i.address;e="ton:"+i.network+":"+e;let t={ton_addr:i};o&&(t.ton_proof=o),r={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:t}]}}return(0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(r)),s(r.accounts,t),t}function s(e,t){e.forEach(e=>{var r=[],i=[];e.addresses.forEach(e=>{var t=e.split(":");if((0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",t.length),t.length>=3){let s=t.slice(0,2).join(":");r.push(s),i.push(e),(0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",s,"addressItem:",e)}}),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),t[e.namespace]={chains:r,accounts:i,methods:e.methods,extra:e.extra,payload:e.data},(0,n.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(t))})}},36964:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,X:()=>f});var n=r(12661),i=r(98866),s=r(12319),o=r(32464),a=r(55480);let c=Object.freeze({enabled:!0,events:[]}),l=new o.Z({baseUrl:s.w.getAnalyticsUrl(),clientId:null}),d=(0,n.BX)({...c}),h={state:d,subscribeKey:(e,t)=>(0,i.u$)(d,e,t),async sendError(e,t){if(!d.enabled)return;let r=Date.now();if(d.events.filter(e=>r-new Date(e.properties.timestamp||"").getTime()<6e4).length>=5)return;let n={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};d.events.push(n);try{if("undefined"==typeof window)return;let{projectId:r,sdkType:n,sdkVersion:i}=a.H.state;await l.post({path:"/e",params:{projectId:r,st:n,sv:i||"html-wagmi-4.2.2"},body:{eventId:s.w.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){d.enabled=!0},disable(){d.enabled=!1},clearEvents(){d.events=[]}};class u extends Error{constructor(e,t,r){super(e),this.name="AppKitError",this.category=t,this.originalError=r,Object.setPrototypeOf(this,u.prototype);let n=!1;if(r instanceof Error&&"string"==typeof r.stack&&r.stack){let e=r.stack,t=e.indexOf("\n");if(t>-1){let r=e.substring(t+1);this.stack=`${this.name}: ${this.message}
${r}`,n=!0}}!n&&(Error.captureStackTrace?Error.captureStackTrace(this,u):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function p(e,t){let r="";try{r=e instanceof Error?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e?e?.message||JSON.stringify(e):String(e)}catch(e){r="Unknown error",console.error("Error parsing error message",e)}let n=e instanceof u?e:new u(r,t,e);throw h.sendError(n,n.category),n}function f(e,t="INTERNAL_SDK_ERROR"){let r={};return Object.keys(e).forEach(n=>{let i=e[n];if("function"==typeof i){let e=i;e="AsyncFunction"===i.constructor.name?async(...e)=>{try{return await i(...e)}catch(e){return p(e,t)}}:(...e)=>{try{return i(...e)}catch(e){return p(e,t)}},r[n]=e}else r[n]=i}),r}},37370:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=h(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=a(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[a(e)]},d.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},d.prototype.set=function(e,t){this.map[a(e)]=c(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,t){if(!(this instanceof y))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new d(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise(function(s,o){var l=new y(e,r);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function u(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout(function(){s(new v(n,r))},0)},h.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},h.open(l.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?h.withCredentials=!0:"omit"===l.credentials&&(h.withCredentials=!1),"responseType"in h&&(i.blob?h.responseType="blob":i.arrayBuffer&&(h.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof d||n.Headers&&r.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(a(e)),h.setRequestHeader(e,c(r.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&h.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){h.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",u),h.onreadystatechange=function(){4===h.readyState&&l.signal.removeEventListener("abort",u)}),h.send(void 0===l._bodyInit?null:l._bodyInit)})}E.polyfill=!0,n.fetch||(n.fetch=E,n.Headers=d,n.Request=y,n.Response=v),t.Headers=d,t.Request=y,t.Response=v,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},37407:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var n=r(78140);function i(e,{delay:t=100,retryCount:r=2,shouldRetry:s=()=>!0}={}){return new Promise((i,o)=>{let a=async({count:c=0}={})=>{let l=async({error:e})=>{let r="function"==typeof t?t({count:c,error:e}):t;r&&await (0,n.u)(r),a({count:c+1})};try{let t=await e();i(t)}catch(e){if(c<r&&await s({count:c,error:e}))return l({error:e});o(e)}};a()})}},38053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=r,t.default=r},38096:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXUniversalProvider=void 0;let s=r(12092),o=r(22630),a=r(99766),c=i(r(94820)),l=r(13867),d=r(79864),h=r(33382),u=i(r(28463)),p=i(r(78634)),f=i(r(7152)),g=i(r(5124)),m=i(r(80299)),y=i(r(10156)),b=r(90794),v=r(97388),w=r(72040),E=i(r(78151));class C{static init(e){return n(this,void 0,void 0,function*(){let t;return(0,d.logDebug)("OKXUniversalProvider init() called"),(0,d.checkMetaData)(e.dappMetaData),(0,b.setGlobal)("disableProviderPing",!0),(0,d.getDefaultReporter)().configVersionAndSide("universalprovider","dapp",e.dappMetaData.name),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof C?((0,d.logDebug)("OKXUniversalConnect init() old called"),t=window.okxConnectUniversalinwindow):((0,d.logDebug)("OKXUniversalConnect init() new called"),t=new C(e),window&&(window.okxConnectUniversalinwindow=t),yield t.initialize()),t})}constructor(e){this.rpcProviders={},this.events=new c.default,e.connector&&0!=e.connector.length||((0,v.isMobileDiscover)()?e.connector=[new d.OkxwalletInjectConnector]:e.connector=[new d.OKXAppConnector,new d.OKXWalletAppConnector,new d.OKXAppCommonConnector]),this.providerOpts=e,this.specialDAppLineType(this.providerOpts),(0,d.logDebug)("constructor this.providerOpts>>",JSON.stringify(this.providerOpts));let t=d.OpenAppLinkType.UniversalLink;switch(e.openAppLinkType){case"universallink":default:t=d.OpenAppLinkType.UniversalLink;break;case"deeplink":t=d.OpenAppLinkType.DeepLink}this.providerOpts.openAppLinkType=t,(0,d.logDebug)("OKXUniversalProvider constructor() linkType:",t)}specialDAppLineType(e){let t=window.location.host;t&&(t.includes("dappportal.io")||t.includes("connect.oker.vip"))&&!e.openAppLinkType&&((0,d.logDebug)("specialDAppLineType --\x3e host:",t),e.openAppLinkType=d.OpenAppLinkType.DeepLink)}getOpenAppLinkType(){var e;return null!=(e=this.providerOpts.openAppLinkType)?e:d.OpenAppLinkType.UniversalLink}request(e,t){return n(this,void 0,void 0,function*(){if((0,d.logDebug)("OKXUniversalProvider request() called"),(0,d.reportLog)("OKXUniversalProvider request() called"),!this.connected())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);(0,d.logDebug)("OKXUniversalProvider request()  connected ");let{namespace:r,requestParam:n}=this.buildRequestParamFromRequest(e,t);return yield this.getProvider(r).request(n)})}buildRequestParamFromRequest(e,t){var r;(0,d.logDebug)("UniversalProvider request args >>>>>>>: ",t,(0,d.safeJsonStringify)(e));let[n,i]=this.validateChain(t);if(!this.session)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let s=Object.keys(this.session.namespaces);if(!t&&s&&s.length>1)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");let o=(0,d.replaceChainNameToChainId)(`${n}:${i}`);null!=o&&(n=o.split(":")[0],i=o.split(":")[1]);let a=Object.assign(Object.assign({},e),{chainId:`${n}:${i}`,redirect:null!=(r=e.redirect)?r:this.sessionConfig.redirect});return{namespace:n,requestParam:a}}enable(){return n(this,void 0,void 0,function*(){if(!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session)if(this.connectOpts)yield this.connect(this.connectOpts);else throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");return yield this.requestAccounts()})}disconnect(){return n(this,void 0,void 0,function*(){return(0,d.logDebug)("OKXUniversalProvider disconnect() called"),(0,d.reportLog)("provider disconnect called"),new Promise(e=>n(this,void 0,void 0,function*(){let t=!1,r=()=>n(this,void 0,void 0,function*(){t||(t=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,d.logDebug)("UniversalProvider disconnect Disconnected"),(0,d.reportLog)("provider disconnect disconnected"))});try{yield this.client.disconnect(),yield r()}catch(e){yield r()}}))})}disconnectAndEmit(){var e,t,r;this.client.engine.connectManagerDisconnect(),(null==(e=this.session)?void 0:e.topic)&&(this.events.emit("disconnect",{topic:null==(t=this.session)?void 0:t.topic}),this.events.emit("session_delete",{topic:null==(r=this.session)?void 0:r.topic}))}replaceNamespace(e,t){var r,n;let i=null==(r=e.namespaces)?void 0:r[t];if(void 0!=i){let r=this.replaceNamespaceInner(i);void 0!=e.namespaces&&t in e.namespaces&&void 0!=r&&(e.namespaces[t]=r)}let s=null==(n=e.optionalNamespaces)?void 0:n[t];if(void 0!=s){let r=this.replaceNamespaceInner(s);void 0!=e.optionalNamespaces&&t in e.optionalNamespaces&&void 0!=r&&(e.optionalNamespaces[t]=r)}return e}replaceNamespaceInner(e){var t;return void 0!=e&&(e.chains=null==(t=e.chains)?void 0:t.map(e=>(0,d.replaceChainNameToChainId)(e)),void 0!=e.defaultChain&&(e.defaultChain=(0,d.replaceChainNameToChainId)(e.defaultChain))),e}replaceSessionAptos(e,t){var r;let n=null==(r=null==e?void 0:e.namespaces)?void 0:r[t];if(void 0!=n&&void 0!=n.chains){n.chains=n.chains.map(e=>(0,d.replaceChainIdToChainName)(e)),n.accounts=n.accounts.map(e=>(0,d.replaceChainIdToChainName)(e));let r={};Object.keys(n.extra||{}).forEach((n,i)=>{(0,d.replaceChainIdToChainName)(n),r[(0,d.replaceChainIdToChainName)(n)]=Object.values((null==e?void 0:e.namespaces[t].extra)||{})[i]}),n.extra=r}(0,d.logDebug)("replaceSessionAptos",e)}connected(){(0,d.logDebug)("OKXUniversalProvider connected() called"),(0,d.reportLog)("provider connected called");let e=()=>{try{this.cleanup(),this.client.engine.connectManagerDisconnect()}catch(e){(0,d.logDebug)("Error during disconnect:",e)}};try{if(!this.session)return!1;if(!this.client.engine.getCurrentConnectionReady(Object.keys(this.session.namespaces)))return e(),!1;return!0}catch(t){return e(),!1}}connectAndSign(e,t){return n(this,void 0,void 0,function*(){(0,d.logDebug)("OKXUniversalProvider connectAndSign() called");let r=Object.assign(Object.assign({},e),t);return(0,d.logDebug)("OKXUniversalProvider connectAndSign() opts:",JSON.stringify(e)),(0,d.logDebug)("OKXUniversalProvider connectAndSign() signRequest:",JSON.stringify(t)),yield this.connect(r)})}connect(e){return n(this,void 0,void 0,function*(){if((0,d.logDebug)("OKXUniversalProvider connect() called"),(0,d.reportLog)("provider connect called"),null==e.sessionConfig&&(e.sessionConfig={}),!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(this.connected())return this.session;e=this.replaceNamespace(e,"aptos"),(e=this.replaceNamespace(e,"solana")).sessionConfig.useMini&&(e.sessionConfig.useMini=void 0),void 0==e.sessionConfig.connectWalletType&&(e.sessionConfig.connectWalletType=d.ConnectWalletType.OKX_APP_COMMON),e.sessionConfig.connectWalletType==d.ConnectWalletType.OKX_MINI&&(e.sessionConfig.connectWalletType=d.ConnectWalletType.OKX_APP_COMMON),(0,d.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,d.isMobileUserAgent)()),e.sessionConfig.openAppLinkType=this.providerOpts.openAppLinkType,this.setNamespaces(e);try{(0,d.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);if((0,d.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t){if(this.replaceSessionAptos(t,"aptos"),this.replaceSessionAptos(t,"solana"),this.session=t,this.client.session=t,this.setConnectConnector(),(0,d.logDebug)("OKXUniversalProvider connect success opts>>>>",JSON.stringify(e)),this.onConnect(),e.signRequest&&e.signRequest.length>0){let t=e.signRequest[0],r=[];"undefined"!=typeof window&&window&&window.okxConnectUniversalUIinwindow?((0,d.logDebug)("OKXUniversalProvider connect success, us UI SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0&&(r=this.session.signResponse)):((0,d.logDebug)("OKXUniversalProvider connect success, us Universal SDK>>>>"),this.session.signResponse&&this.session.signResponse.length>0?r=this.session.signResponse:r.push((0,v.creatNotSupportMethodItemReplay)(t))),(0,d.logDebug)(`UniversalProvider connect success connectRequestReply ====> ${JSON.stringify(r)}`),setTimeout(()=>{this.events.emit("connect_signResponse",r)},100)}return t}return}catch(e){throw(0,d.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(e)),e}})}syncAllAddresses(){return n(this,void 0,void 0,function*(){if((0,w.syncAddressAvailable)(this.session.wallet))return this.client.syncAllAddress();throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}setConnectConnector(){this.client.setConnectConnector(this.session)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){(0,d.logDebug)("OKXUniversalProvider setDefaultChain() called");try{if(!this.connected())return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}tryToReconnect(){return n(this,void 0,void 0,function*(){yield this.checkStorage()})}checkStorage(){return n(this,void 0,void 0,function*(){if(this.connected())return;let e=yield this.getFromStore("connectSession");if((0,d.logDebug)(e),e){(0,d.logDebug)("checkStorage error start");try{if(this.session=e,this.client.session=this.session,this.setConnectConnector(),yield this.client.restoreconnect(e),!this.connected())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);this.sessionConfig=e.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,d.logDebug)("[evm u-provider] do reconnection",this.session),this.createProviders(),this.registerEventListeners(),setTimeout(()=>{this.events.emit("reconnect",{session:this.session})},100)}catch(e){yield this.cleanup(!1),(0,d.logDebug)(`checkStorage error ${JSON.stringify(e)}`)}}})}initialize(){return n(this,void 0,void 0,function*(){(0,d.logDebug)("OKXUniversalProvider initialize() called"),(0,d.reportLog)("provider initialize called");let e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new l.SignClient(e,this.events,this.providerOpts.openAppLinkType),this.registerConnector(this.providerOpts.connector),yield this.tryToReconnect()})}createProviders(){if(!this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).filter(e=>{var t,r;return(null==(r=null==(t=this.session.namespaces[e])?void 0:t.accounts)?void 0:r.length)>0}).map(e=>(0,h.parseNamespaceKey)(e)))];this.rpcProviders={},e.forEach(e=>{if(!this.session)return;let t=this.session.namespaces[e];switch((0,d.logDebug)("init eip155 >> ",t),e){case"eip155":this.rpcProviders[e]=new s.Eip155Provider({namespace:t},this.client,this.events);break;case"solana":let r={namespace:t},n=new u.default(r,"solana",this.client,this.events);this.rpcProviders[e]=n;let i=new u.default(r,"sonic",this.client,this.events);this.rpcProviders.sonic=i;let a=new u.default(r,"svm",this.client,this.events);this.rpcProviders.svm=a;let c=new u.default(r,"soon",this.client,this.events);this.rpcProviders.soon=c;let l=new u.default(r,"eclipse",this.client,this.events);this.rpcProviders.eclipse=l;break;case"ton":let h=new g.default({namespace:t},this.client,this.events);this.rpcProviders[e]=h;break;case"sui":let b=new o.SuiProvider({namespace:t},this.client,this.events);b.name="sui",this.rpcProviders[e]=b;break;case"btc":let v={namespace:t},w=new p.default(v,"btc",this.client,this.events);this.rpcProviders.btc=w;let C=new p.default(v,"fractal",this.client,this.events);this.rpcProviders.fractal=C;break;case"aptos":let _=new f.default({namespace:t},"aptos",this.client,this.events);this.rpcProviders[e]=_;let O=new f.default({namespace:t},"movement",this.client,this.events);this.rpcProviders.movement=O;break;case"cosmos":let x=new m.default({namespace:t},this.client,this.events);this.rpcProviders[e]=x;break;case"tron":let N=new y.default({namespace:t},this.client,this.events);this.rpcProviders[e]=N;break;case"starknet":let A=new E.default({namespace:t},"starknet",this.client,this.events);this.rpcProviders[e]=A}})}registerEventListeners(){if(void 0===this.client)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener(()=>{this.disconnectAndEmit(),this.cleanup()}),this.on(a.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e)}),this.on(a.PROVIDER_EVENTS.UPDATE_NAMESPACES,e=>{if(e){let t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,d.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}})}getProvider(e){return(0,d.logDebug)("current get providers",this.rpcProviders),(0,d.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;let{namespaces:t,sessionConfig:r}=e,n={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon,manifestUrl:this.providerOpts.dappMetaData.manifestUrl};this.sessionConfig=Object.assign({dappInfo:n},r),(0,d.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",r)}validateChain(e){var t;let[r,n]=(null==e?void 0:e.split(":"))||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,d.logDebug)("get name & chain",r,n),[r,n];if(r){if(!this.isChainNamespaceInSession(r))throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(n&&e){(0,d.logDebug)("this.session.namespaces --\x3e> ",r,JSON.stringify(this.session.namespaces));let n=null==(t=this.session.namespaces[r])?void 0:t.chains;if((0,d.logDebug)("get chainsArr & chain",JSON.stringify(n),e),n&&!n.includes(e))throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(r&&n)return(0,d.logDebug)("get name & chain",r,n),[r,n];let i=(0,h.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return(0,d.logDebug)("get default chain:",s),[i,s]}isChainNamespaceInSession(e){var t,r;if(Object.keys((null==(t=this.session)?void 0:t.namespaces)||{}).map(e=>(0,h.parseNamespaceKey)(e)).includes(e))return!0;let n=!1;return Object.values((null==(r=this.session)?void 0:r.namespaces)||{}).forEach(t=>{t.chains.forEach(t=>{t.split(":")[0]==e&&(n=!0)})}),n}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return n(this,void 0,void 0,function*(){let[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()})}onChainChanged(e){var t;if(!(null==(t=this.session)?void 0:t.namespaces))return;let[r,n]=this.validateChain(e);n&&(this.session.namespaces[r]&&(this.session.namespaces[r].defaultChain=n,this.persist("connectSession",this.session)),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return n(this,arguments,void 0,function*(e=!0){this.session=void 0,this.client.session=void 0,this.setConnectConnector(),this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),e&&this.persist("connectSession",void 0)})}persist(e,t){return(0,d.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.saveSessionContent(e,t)}getFromStore(e){return n(this,void 0,void 0,function*(){return this.client.engine.getSessionContent(e)})}showRequestModal(e,t){try{let{namespace:r,requestParam:n}=this.buildRequestParamFromRequest(e,t);return this.getProvider(r).showRequestModal(n)}catch(e){return!1}}openWallet(e,t){this.client.openWallet(e,t)}registerConnector(e){this.client.registerConnector(e),this.client.setAccountChangeListener(e=>{(0,d.logDebug)("accountChangeListener session：",this.events.listenerCount("accountChanged"),JSON.stringify(e));try{e&&this.events.listenerCount("accountChanged")&&(this.replaceSessionAptos(e,"aptos"),this.replaceSessionAptos(e,"solana"),this.session=e,this.client.session=e,this.session&&(this.persist("connectSession",this.session),console.log("window.okxwallet save session:",Date.now())),this.setConnectConnector(),this.createProviders(),this.events.emit("accountChanged",this.session))}catch(e){(0,d.logDebug)("setAccountChangeListener error:",JSON.stringify(e))}})}getEngine(){return this.client.engine}}t.OKXUniversalProvider=C,t.default=C},38530:function(e,t,r){var n,i,s,o,a;s=(i=(n=r(16611)).lib).Base,o=i.WordArray,(a=n.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),e.exports=n},38654:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};function n(e,t){return r(this,void 0,void 0,function*(){return new Promise((r,n)=>{var i,s;if(null==(i=null==t?void 0:t.signal)?void 0:i.aborted)return void n(Error("Delay aborted"));let o=setTimeout(()=>r(),e);null==(s=null==t?void 0:t.signal)||s.addEventListener("abort",()=>{clearTimeout(o),n(Error("Delay aborted"))})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.callForSuccess=function(e,t){return r(this,void 0,void 0,function*(){var r,i;let s,o=null!=(r=null==t?void 0:t.attempts)?r:3,a=null!=(i=null==t?void 0:t.delayMs)?i:800;if("function"!=typeof e)throw Error(`Expected a function, got ${typeof e}`);let c=0;for(;c<o;)try{return yield e()}catch(e){s=e,++c<o&&(yield n(a))}throw s})},t.delay=n},38962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaNotTouch=t.mediaTouch=t.maxWidth=void 0,t.isDevice=function(e){var r;let a=(0,s.getWindow)();if(!a)return"desktop"===e;if((0,i.isTmaPlatform)("weba"))return!0;let c=a.innerWidth;switch(e){case"desktop":return c>t.maxWidth.tablet;case"tablet":return c>t.maxWidth.mobile;default:let l=c<=t.maxWidth.mobile||(0,n.isOS)("ios","android","ipad");if(l){let e=!!(null==(r=(0,s.getWindow)())?void 0:r.TelegramWebviewProxy),t=navigator.maxTouchPoints||0;e&&0===t&&(l=!1),(0,o.logDebug)("isDevice mobile isTelegram and maxTouchPoints:",l,e,t)}return l}},t.media=function(e){switch(e){case"mobile":return`@media (max-width: ${t.maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${t.maxWidth.tablet}px) (min-width: ${t.maxWidth.mobile}px)`;default:return`@media (min-width: ${t.maxWidth.tablet}px)`}},t.mediaMin=function(e){return`@media (min-width: ${e}px)`},t.mediaMax=function(e){return`@media (max-width: ${e}px)`},t.mediaMinMax=function(e,t){return`@media (min-width: ${e}px) and (max-width: ${t}px)`};let n=r(92905),i=r(49737),s=r(2195),o=r(75260);t.maxWidth={mobile:440,tablet:1020},t.mediaTouch="@media (hover: none)",t.mediaNotTouch="@media not all and (hover: none)"},38996:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionSplitPackages=void 0;let l=r(12997),d=c(r(29832)),h=r(16919),u=r(14441),p=o(r(75260)),f=r(75260),g="ConnectionReceiveKey",m="ConnectionSendKey",y="ConnectionSenderVersionKey";class b{constructor(e){this.splitMessageSendArray=new Map,this.splitMessageReceivedArray=new Map,this.splitMessageSenderVersionMap=new Map,this.splitPackageCache=d.default.createInstance({name:l.OKXCONNECTOR_STORAGE_PROTOCOL_CACHE+e})}init(e){return a(this,void 0,void 0,function*(){if(yield this.recoverFromCache(),this.splitMessageSendArray.size>0){for(let[t,r]of this.splitMessageSendArray.entries())for(let n=0;n<r.length;){let i=r[n];try{yield e((0,u.safeJsonStringify)(i),t),p.logDebug(`Successfully sent payload: ${(0,u.safeJsonStringify)(i)} to topic: ${t}`),r.splice(n,1)}catch(e){p.logError(`Failed to send payload: ${(0,u.safeJsonStringify)(i)} to topic: ${t}`,e),i.retryCount=(i.retryCount||0)+1,i.retryCount>3?(p.logError(`Payload failed after 3 retries: ${(0,u.safeJsonStringify)(i)}`),r.splice(n,1)):n++}}yield this.syncCache()}})}tryParseMessageSplitPayload(e){var t;let r;try{if(e.trimStart().startsWith("{")){let n=(0,u.safeJsonParse)(e);n&&n.protocol_version&&n.protocol_version>=2&&n.package_group_id&&(null==(t=n.package_group_id)?void 0:t.length)>0&&(r=n)}else(0,f.logDebug)("not split packages")}catch(e){(0,f.logDebug)("not split packages")}return r}updateTopicSenderVersion(e,t){return a(this,void 0,void 0,function*(){this.splitMessageSenderVersionMap.set(e,t),yield this.syncCache(),(0,f.logDebug)("get update topic sender version: ",e,t)})}sendSplitPackages(e,t,r,n){return a(this,void 0,void 0,function*(){if(!e)return void p.logError("sendSplitPackages invalid topic");let i=this.splitMessageSenderVersionMap.get(e),s=t.length;try{if(s<63e3)throw Error(`no need to split (size:${s})`);if(!i||i&&i<2)throw Error(`version not support split (version: ${i})`);let r=[];for(let e=0;e<t.length;e+=63e3)e+63e3<t.length?r.push(t.slice(e,e+63e3)):r.push(t.slice(e));let o=(0,h.generateGroupId)(),a=r.map((t,n)=>({topicId:e,protocol_version:2,total_count:r.length,package_index:n,package_group_id:o,content:t}));this.mergePackageArray(!0,a);for(let t=0;t<a.length;){let r=a[t],i=(0,u.safeJsonStringify)(r);try{yield n(i,e),p.logDebug(`Successfully sent payload: ${i} to topic: ${e}`),a.splice(t,1)}catch(n){p.logError(`Failed to send payload: ${i} to topic: ${e}`,n),r.retryCount=(r.retryCount||0)+1,r.retryCount>3?(p.logError(`Payload failed after 3 retries: ${i}`),a.splice(t,1)):t++}}this.splitMessageSendArray.set(e,[]),yield this.syncCache()}catch(n){(0,f.logDebug)("send split packages no split"),(0,f.logDebug)(n),yield r(e,t)}})}onReceivedPackageCheck(e){return a(this,void 0,void 0,function*(){this.mergePackageArray(!1,[e]);let t=new Map,r=e.topicId;this.splitMessageReceivedArray.forEach((r,n)=>{n==e.topicId&&r.forEach(e=>{if(e.messageObject.package_group_id){let r=t.get(e.messageObject.package_group_id);r||(r=[]),r.push(e),t.set(e.messageObject.package_group_id,r)}})}),(0,f.logDebug)("on received message, check message cache");let n={isSplitPackage:!1};if(e.messageObject.package_group_id){n.isSplitPackage=!0;let i=t.get(e.messageObject.package_group_id);if(null==i?void 0:i.length){let t=new Set;if(i.forEach(e=>{void 0!==e.messageObject.package_index&&t.add(e.messageObject.package_index)}),t.size==e.messageObject.total_count){i.sort((e,t)=>(e.messageObject.package_index||0===e.messageObject.package_index)&&(t.messageObject.package_index||0===t.messageObject.package_index)?e.messageObject.package_index-t.messageObject.package_index:0);let e=i.reduce((e,t)=>(e.push(t.messageObject.content),e),[]),t=i.reduce((e,t)=>(e.push(t.messageId),e),[]);n.isSplitPackage=!0,n.finalMessage=e.join(""),n.completeMessageIdList=t;let s=this.splitMessageReceivedArray.get(r);s&&(s=s.filter(e=>!t.includes(e.messageId)),this.splitMessageReceivedArray.set(r,s)),yield this.syncCache()}}}return n})}mergePackageArray(e,t){return a(this,void 0,void 0,function*(){if((0,f.logDebug)("append sending array"),e){let e=t.filter(e=>{let t=e.topicId,r=!0,n=this.splitMessageSendArray.get(t);return null==n||n.forEach(t=>{t.package_group_id==e.package_group_id&&t.total_count==e.total_count&&t.package_index==e.package_index&&(r=!1)}),r});if(e.length>0){let t=e[0].topicId,r=this.splitMessageSendArray.get(t);r||(r=[]),r=r.concat(e),this.splitMessageSendArray.set(t,r),(0,f.logDebug)("append sending array (after filted): ",r)}}else{let e=t.filter(e=>{let t=e.topicId,r=!0,n=this.splitMessageReceivedArray.get(t);return null==n||n.forEach(t=>{t.messageId==e.messageId&&(r=!1)}),r});if(e.length>0){let t=e[0].topicId,r=this.splitMessageReceivedArray.get(t);r||(r=[]),r=r.concat(e),this.splitMessageReceivedArray.set(t,r),(0,f.logDebug)("append received array (after filted): ",r)}}})}syncCache(){return a(this,void 0,void 0,function*(){(0,f.logDebug)("sync split message cache"),yield this.splitPackageCache.setItem(g,this.splitMessageReceivedArray),yield this.splitPackageCache.setItem(m,this.splitMessageSendArray),yield this.splitPackageCache.setItem(y,this.splitMessageSenderVersionMap)})}recoverFromCache(){return a(this,void 0,void 0,function*(){let e=yield this.splitPackageCache.getItem(g);e?this.splitMessageReceivedArray=e:this.splitMessageReceivedArray=new Map;let t=yield this.splitPackageCache.getItem(m);t?this.splitMessageSendArray=t:this.splitMessageSendArray=new Map;let r=yield this.splitPackageCache.getItem(y);r?this.splitMessageSenderVersionMap=r:this.splitMessageSenderVersionMap=new Map})}}t.ConnectionSplitPackages=b},40002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toUserFriendlyAddress=function(e,t=!1){let{wc:r,hex:s}=function(e){if(!e.includes(":"))throw Error(`Wrong address ${e}. Address must include ":".`);let t=e.split(":");if(2!==t.length)throw Error(`Wrong address ${e}. Address must include ":" only once.`);let r=parseInt(t[0]);if(0!==r&&-1!==r)throw Error(`Wrong address ${e}. WC must be eq 0 or -1, but ${r} received.`);let n=t[1];if((null==n?void 0:n.length)!==64)throw Error(`Wrong address ${e}. Hex part must be 64bytes length, but ${null==n?void 0:n.length} received.`);return{wc:r,hex:function(e){let t=(e=e.toLowerCase()).length;if(t%2!=0)throw Error("Hex string must have length a multiple of 2: "+e);let r=t/2,n=new Uint8Array(r);for(let t=0;t<r;t++){let r=2*t,s=e.substring(r,r+2);if(!i.hasOwnProperty(s))throw Error("Invalid hex character: "+s);n[t]=i[s]}return n}(n)}}(e),o=81;t&&(o|=128);let a=new Int8Array(34);a[0]=o,a[1]=r,a.set(s,2);let c=new Uint8Array(36);return c.set(a),c.set(function(e){let t=0,r=new Uint8Array(e.length+2);for(let n of(r.set(e),r)){let e=128;for(;e>0;)t<<=1,n&e&&(t+=1),e>>=1,t>65535&&(t&=65535,t^=4129)}return new Uint8Array([Math.floor(t/256),t%256])}(a),34),(0,n.base64encode)(c,!1).replace(/\+/g,"-").replace(/\//g,"_")};let n=r(79864),i={};for(let e=0;e<=255;e++){let t=e.toString(16);t.length<2&&(t="0"+t),i[t]=e}},41510:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),s=i.charCodeAt(0);if(255!==t[s])throw TypeError(i+" is ambiguous");t[s]=n}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var s=(e.length-r)*c+1>>>0,l=new Uint8Array(s);e[r];){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var u=0,p=s-1;(0!==h||u<i)&&-1!==p;p--,u++)h+=o*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");i=u,r++}for(var f=s-i;f!==s&&0===l[f];)f++;for(var g=new Uint8Array(n+(s-f)),m=n;f!==s;)g[m++]=l[f++];return g}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var c=(s-i)*l+1>>>0,d=new Uint8Array(c);i!==s;){for(var h=t[i],u=0,p=c-1;(0!==h||u<n)&&-1!==p;p--,u++)h+=256*d[p]>>>0,d[p]=h%o>>>0,h=h/o>>>0;if(0!==h)throw Error("Non-zero carry");n=u,i++}for(var f=c-n;f!==c&&0===d[f];)f++;for(var g=a.repeat(r);f<c;++f)g+=e.charAt(d[f]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+o+" character")}}}},42087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXAppCommonConnector=void 0;let n=r(55982),i=r(71994),s=r(56518),o=r(14903),a=r(7769);class c extends a.WsConnector{getType(){return n.CONNECTOR_TYPE.WS.OKX_APP_COMMON}constructor(){super(),this.walletName=""}getTag(){return n.OKX_APP_COMMON_WALLET}openWallet(e,t){super.openWallet(e);let r=null!=t?t:o.OpenAppLinkType.UniversalLink;if(e&&e.connectRequest||!(0,i.isOS)("android")){(0,i.logDebug)(`okxAppCommonConnector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`);let t=null==e?void 0:e.connectRequest,{universalLink:n,deepLink:s}=(0,i.getOKXLink)(t,o.ConnectWalletType.OKX_APP_COMMON);(0,i.openOKXDeeplinkWithFallback)(s,n,r)}else(0,i.openDeeplinkWithFallback)(s.okxCommonStackDeepLink,()=>{})}}t.OKXAppCommonConnector=c},42307:function(e,t,r){var n;n=r(16611),r(99229),n.pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){for(var t=e.words,r=e.sigBytes-1,r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},e.exports=n.pad.ZeroPadding},42316:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.WalletReadyState=void 0,function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(r||(t.WalletReadyState=r={}))},42438:(e,t,r)=>{"use strict";function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,i=0;for(let e=0;e<r.length-1;e++)if("0"===r["left"===t?e:r.length-e-1].toString())i++;else break;return(r="left"===t?r.slice(i):r.slice(0,r.length-i),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}r.d(t,{B:()=>n})},42503:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s});var n=r(62023),i=r(30598);function s(e,t="wei"){return(0,i.J)(e,n.sz[t])}},43546:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>eR,bases:()=>eH,bytes:()=>n,codecs:()=>eq,digest:()=>f,hasher:()=>g,hashes:()=>eF,varint:()=>p});var n={};r.r(n),r.d(n,{coerce:()=>x,empty:()=>E,equals:()=>O,fromHex:()=>_,fromString:()=>A,isBinary:()=>N,toHex:()=>C,toString:()=>S});var i={};r.r(i),r.d(i,{identity:()=>M});var s={};r.r(s),r.d(s,{base2:()=>L});var o={};r.r(o),r.d(o,{base8:()=>j});var a={};r.r(a),r.d(a,{base10:()=>B});var c={};r.r(c),r.d(c,{base16:()=>W,base16upper:()=>K});var l={};r.r(l),r.d(l,{base32:()=>H,base32hex:()=>V,base32hexpad:()=>$,base32hexpadupper:()=>G,base32hexupper:()=>z,base32pad:()=>q,base32padupper:()=>X,base32upper:()=>F,base32z:()=>J});var d={};r.r(d),r.d(d,{base36:()=>Z,base36upper:()=>Y});var h={};r.r(h),r.d(h,{base58btc:()=>Q,base58flickr:()=>ee});var u={};r.r(u),r.d(u,{base64:()=>et,base64pad:()=>er,base64url:()=>en,base64urlpad:()=>ei});var p={};r.r(p),r.d(p,{decode:()=>ec,encodeTo:()=>el,encodingLength:()=>ed});var f={};r.r(f),r.d(f,{Digest:()=>ef,create:()=>eh,decode:()=>eu,equals:()=>ep});var g={};r.r(g),r.d(g,{Hasher:()=>em,from:()=>eg});var m={};r.r(m),r.d(m,{sha256:()=>eb,sha512:()=>ev});var y={};r.r(y),r.d(y,{identity:()=>ew});var b={};r.r(b),r.d(b,{code:()=>e_,decode:()=>ex,encode:()=>eO,name:()=>eC});var v={};r.r(v),r.d(v,{code:()=>eA,decode:()=>eT,encode:()=>eS,name:()=>eN});let w=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var h=0,u=s-1;(0!==d||h<i)&&-1!==u;u--,h++)d+=a*o[u]>>>0,o[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],u=0,p=o-1;(0!==h||u<n)&&-1!==p;p--,u++)h+=256*l[p]>>>0,l[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=u,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}},E=new Uint8Array(0),C=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),_=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):E},O=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},x=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},N=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),A=e=>new TextEncoder().encode(e),S=e=>new TextDecoder().decode(e);class T{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class R{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if("string"==typeof e)if(e[0]===this.prefix)return this.baseDecode(e.slice(1));else throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);throw Error("Can only multibase decode strings")}or(e){return new I({[this.prefix]:this,...e.decoders||{[e.prefix]:e}})}}class I{constructor(e){this.decoders=e}or(e){let t=e.decoders||{[e.prefix]:e};return new I({...this.decoders,...t})}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class P{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new T(e,t,r),this.decoder=new R(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let k=({name:e,prefix:t,encode:r,decode:n})=>new P(e,t,r,n),D=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=w(r,t);return k({prefix:e,name:t,encode:n,decode:e=>x(i(e))})},U=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>k({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,n,r,e)}),M=k({prefix:"\0",name:"identity",encode:e=>S(e),decode:e=>A(e)}),L=U({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),j=U({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),B=D({prefix:"9",name:"base10",alphabet:"0123456789"}),W=U({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),K=U({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),H=U({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=U({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),q=U({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),X=U({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),V=U({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z=U({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),$=U({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),G=U({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),J=U({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Z=D({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y=D({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Q=D({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ee=D({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),et=U({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),er=U({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),en=U({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ei=U({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function es(e,t,r){t=t||[];for(var n=r=r||0;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,es.bytes=r-n+1,t}function eo(e,t){var r,n=0,t=t||0,i=0,s=t,o=e.length;do{if(s>=o)throw eo.bytes=0,RangeError("Could not decode varint");r=e[s++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return eo.bytes=s-t,n}let ea={encode:es,decode:eo,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}},ec=e=>[ea.decode(e),ea.decode.bytes],el=(e,t,r=0)=>(ea.encode(e,t,r),t),ed=e=>ea.encodingLength(e),eh=(e,t)=>{let r=t.byteLength,n=ed(e),i=n+ed(r),s=new Uint8Array(i+r);return el(e,s,0),el(r,s,n),s.set(t,i),new ef(e,r,t,s)},eu=e=>{let t=x(e),[r,n]=ec(t),[i,s]=ec(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw Error("Incorrect length");return new ef(r,i,o,t)},ep=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&O(e.bytes,t.bytes);class ef{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let eg=({name:e,code:t,encode:r})=>new em(e,t,r);class em{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return eh(this.code,t)}throw Error("Unknown type, must be binary type")}}let ey=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),eb=eg({name:"sha2-256",code:18,encode:ey("SHA-256")}),ev=eg({name:"sha2-512",code:19,encode:ey("SHA-512")}),ew=eg({name:"identity",code:0,encode:e=>x(e)}),eE=e=>x(e),{name:eC,code:e_,encode:eO,decode:ex}={name:"raw",code:85,decode:eE,encode:eE},{name:eN,code:eA,encode:eS,decode:eT}={name:"json",code:512,encode:e=>new TextEncoder().encode(JSON.stringify(e)),decode:e=>JSON.parse(new TextDecoder().decode(e))};class eR{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:eB,byteLength:eB,code:ej,version:ej,multihash:ej,bytes:ej,_baseCache:eB,asCID:eB})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eD)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eU)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eR.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=eh(e,t);return eR.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ep(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eP(t,n,e||Q.encoder):ek(t,n,e||H.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eW(/^0\.0/,eK),!!(e&&(e[eL]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eR)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eR(t,r,n,i||eM(t,r,n.bytes))}if(null==e||!0!==e[eL])return null;{let{version:t,multihash:r,code:n}=e,i=eu(r);return eR.create(t,n,i)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eD)return new eR(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eD}) block encoding`);case 1:{let n=eM(e,t,r.bytes);return new eR(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eR.create(0,eD,e)}static createV1(e,t){return eR.create(1,e,t)}static decode(e){let[t,r]=eR.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eR.inspectBytes(e),r=t.size-t.multihashSize,n=x(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),s=new ef(t.multihashCode,t.digestSize,i,n);return[0===t.version?eR.createV0(s):eR.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=ec(e.subarray(t));return t+=n,r},n=r(),i=eD;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){let[r,n]=eI(e,t),i=eR.decode(n);return i._baseCache.set(r,e),i}}let eI=(e,t)=>{switch(e[0]){case"Q":{let r=t||Q;return[Q.prefix,r.decode(`${Q.prefix}${e}`)]}case Q.prefix:{let r=t||Q;return[Q.prefix,r.decode(e)]}case H.prefix:{let r=t||H;return[H.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eP=(e,t,r)=>{let{prefix:n}=r;if(n!==Q.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let i=r.encode(e).slice(1);return t.set(n,i),i}},ek=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let i=r.encode(e);return t.set(n,i),i}},eD=112,eU=18,eM=(e,t,r)=>{let n=ed(e),i=n+ed(t),s=new Uint8Array(i+r.byteLength);return el(e,s,0),el(t,s,n),s.set(r,i),s},eL=Symbol.for("@ipld/js-cid/CID"),ej={writable:!1,configurable:!1,enumerable:!0},eB={writable:!1,enumerable:!1,configurable:!1},eW=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eK=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,eH={...i,...s,...o,...a,...c,...l,...d,...h,...u},eF={...m,...y},eq={raw:b,json:v}},44006:(e,t)=>{"use strict";function r(e){return{okx_ton_connect_sdk_lib:e.okx_ton_connect_sdk_lib,okx_connect_ui_lib:e.okx_connect_ui_lib}}function n(e,t){var n,i,s,o,a,c,l,d;let h=(null==(n=null==t?void 0:t.connectItems)?void 0:n.tonProof)&&"proof"in t.connectItems.tonProof;return{wallet_address:null!=(s=null==(i=null==t?void 0:t.account)?void 0:i.address)?s:null,wallet_type:null!=(o=null==t?void 0:t.device.appName)?o:null,wallet_version:null!=(a=null==t?void 0:t.device.appVersion)?a:null,auth_type:h?"ton_proof":"ton_addr",custom_data:Object.assign({chain_id:null!=(l=null==(c=null==t?void 0:t.account)?void 0:c.chain)?l:null,provider:null!=(d=null==t?void 0:t.provider)?d:null},r(e))}}function i(e,t){var r,n,i,s;return{valid_until:null!=(r=String(t.validUntil))?r:null,from:null!=(s=null!=(n=t.from)?n:null==(i=null==e?void 0:e.account)?void 0:i.address)?s:null,messages:t.messages.map(e=>{var t,r;return{address:null!=(t=e.address)?t:null,amount:null!=(r=e.amount)?r:null}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestVersionEvent=function(){return{type:"request-version"}},t.createResponseVersionEvent=function(e){return{type:"response-version",version:e}},t.createVersionInfo=r,t.createConnectionStartedEvent=function(e){return{type:"connection-started",custom_data:r(e)}},t.createConnectionDeepLinkEvent=function(e){return{type:"connection-get-deeplink",deeplinkUrl:e}},t.createConnectionInfoBeforeJumpEvent=function(e){return{type:"connection-info-before-jump",connectInfo:e}},t.createConnectionCompletedEvent=function(e,t){return Object.assign({type:"connection-completed",is_success:!0},n(e,t))},t.createConnectionErrorEvent=function(e,t,n){return{type:"connection-error",is_success:!1,error_message:t,error_code:null!=n?n:null,custom_data:r(e)}},t.createConnectionRestoringStartedEvent=function(e){return{type:"connection-restoring-started",custom_data:r(e)}},t.createConnectionRestoringCompletedEvent=function(e,t){return Object.assign({type:"connection-restoring-completed",is_success:!0},n(e,t))},t.createConnectionRestoringErrorEvent=function(e,t){return{type:"connection-restoring-error",is_success:!1,error_message:t,custom_data:r(e)}},t.createTransactionSentForSignatureEvent=function(e,t,r){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},n(e,t)),i(t,r))},t.createTransactionSignedEvent=function(e,t,r,s){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:s.boc},n(e,t)),i(t,r))},t.createTransactionSigningFailedEvent=function(e,t,r,s,o){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:s,error_code:null!=o?o:null},n(e,t)),i(t,r))},t.createDisconnectionEvent=function(e,t,r){return Object.assign({type:"disconnection",scope:r},n(e,t))}},44020:function(e,t,r){var n,i;n=r(16611),r(99229),n.mode.ECB=((i=n.lib.BlockCipherMode.extend()).Encryptor=i.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),i.Decryptor=i.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),i),e.exports=n.mode.ECB},44161:(e,t,r)=>{"use strict";r.d(t,{$f:()=>u,V1:()=>d,cz:()=>l,lZ:()=>h,nj:()=>g,ro:()=>c,sP:()=>p});var n=r(65103),i=r(55480);let s={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}};class o extends Error{}async function a(e,t){let r=function(){let{sdkType:e,sdkVersion:t,projectId:r}=i.H.getSnapshot(),n=new URL("https://rpc.walletconnect.org/v1/json-rpc");return n.searchParams.set("projectId",r),n.searchParams.set("st",e),n.searchParams.set("sv",t),n.searchParams.set("source","fund-wallet"),n.toString()}(),{projectId:n}=i.H.getSnapshot(),s={jsonrpc:"2.0",id:1,method:e,params:{...t||{},projectId:n}},a=await fetch(r,{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}),c=await a.json();if(c.error)throw new o(c.error.message);return c}async function c(e){return(await a("reown_getExchanges",e)).result}async function l(e){return(await a("reown_getExchangePayUrl",e)).result}async function d(e){return(await a("reown_getExchangeBuyStatus",e)).result}function h(e,t){let{chainNamespace:r,chainId:i}=n.C.parseCaipNetworkId(e),o=s[r];if(!o)throw Error(`Unsupported chain namespace for CAIP-19 formatting: ${r}`);let a=o.native.assetNamespace,c=o.native.assetReference;"native"!==t&&(a=o.defaultTokenNamespace,c=t);let l=`${r}:${i}`;return`${l}/${a}:${c}`}let u={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},p={network:"eip155:84532",asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},f={ethereumETH:{network:"eip155:1",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},baseETH:{network:"eip155:8453",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},baseUSDC:u,baseSepoliaETH:{network:"eip155:84532",asset:"native",metadata:{name:"Ethereum",symbol:"ETH",decimals:18}},ethereumUSDC:{network:"eip155:1",asset:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},arbitrumUSDC:{network:"eip155:42161",asset:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},polygonUSDC:{network:"eip155:137",asset:"0x2791bca1f2de4661ed88a30c99a7a9449aa84174",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},solanaUSDC:{network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},ethereumUSDT:{network:"eip155:1",asset:"0xdAC17F958D2ee523a2206206994597C13D831ec7",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},optimismUSDT:{network:"eip155:10",asset:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},arbitrumUSDT:{network:"eip155:42161",asset:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},polygonUSDT:{network:"eip155:137",asset:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},solanaUSDT:{network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",metadata:{name:"Tether USD",symbol:"USDT",decimals:6}},solanaSOL:{network:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",asset:"native",metadata:{name:"Solana",symbol:"SOL",decimals:9}}};function g(e){return Object.values(f).filter(t=>t.network===e)}},44826:(e,t,r)=>{"use strict";r.d(t,{T:()=>g});var n=r(12661),i=r(28977),s=r(12319),o=r(32464),a=r(58653),c=r(58051),l=r(93481),d=r(55480),h=r(65374);let u={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},p=s.w.getBlockchainApiUrl(),f=(0,n.BX)({clientId:null,api:new o.Z({baseUrl:p,clientId:null}),supportedChains:{http:[],ws:[]}}),g={state:f,async get(e){let{st:t,sv:r}=g.getSdkProperties(),n=d.H.state.projectId,i={...e.params||{},st:t,sv:r,projectId:n};return f.api.get({...e,params:i})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=d.H.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{f.supportedChains.http.length||await g.getSupportedNetworks()}catch(e){return!1}return f.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await g.get({path:"v1/supported-chains"});return f.supportedChains=e,e}catch{return f.supportedChains}},async fetchIdentity({address:e}){let t=a.i.getIdentityFromCacheForAddress(e);if(t)return t;let r=await g.get({path:`/v1/identity/${e}`,params:{sender:l.W.state.activeCaipAddress?s.w.getPlainAddress(l.W.state.activeCaipAddress):void 0}});return a.i.updateIdentityCache({address:e,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:e,cursor:t,signal:r,cache:n,chainId:i}){if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let s=a.i.getTransactionsCacheForAddress({address:e,chainId:i});if(s)return s;let o=await g.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:i},signal:r,cache:n});return a.i.updateTransactionsCache({address:e,chainId:i,timestamp:Date.now(),transactions:o}),o},fetchSwapQuote:async({amount:e,userAddress:t,from:r,to:n,gasPrice:i})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:r,to:n,gasPrice:i}}):{quotes:[]},fetchSwapTokens:async({chainId:e})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]},async fetchTokenPrice({addresses:e}){if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};let t=a.i.getTokenPriceCacheForAddresses(e);if(t)return t;let r=await f.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:d.H.state.projectId},headers:{"Content-Type":"application/json"}});return a.i.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},fetchSwapAllowance:async({tokenAddress:e,userAddress:t})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"},async fetchGasPrice({chainId:e}){let{st:t,sv:r}=g.getSdkProperties();if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Gas Price");return g.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:r}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:s}){if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return f.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:i.oU.CONVERT_SLIPPAGE_TOLERANCE},projectId:d.H.state.projectId,from:t,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:r}){let{st:n,sv:i}=g.getSdkProperties();if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))throw Error("Network not supported for Swaps");return g.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:e,to:t,st:n,sv:i}})},async getBalance(e,t,r){let{st:n,sv:i}=g.getSdkProperties();if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))return h.P.showError("Token Balance Unavailable"),{balances:[]};let s=`${t}:${e}`,o=a.i.getBalanceCacheForCaipAddress(s);if(o)return o;let c=await g.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:r,st:n,sv:i}});return a.i.updateBalanceCache({caipAddress:s,balance:c,timestamp:Date.now()}),c},lookupEnsName:async e=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]},reverseLookupEnsName:async({address:e})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:`/v1/profile/reverse/${e}`,params:{sender:c.U.state.address,apiVersion:"2"}}):[],getEnsNameSuggestions:async e=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]},registerEnsName:async({coinType:e,address:t,message:r,signature:n})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?f.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1},generateOnRampURL:async({destinationWallets:e,partnerUserId:t,defaultNetwork:r,purchaseAmount:n,paymentAmount:i})=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?(await f.api.post({path:"/v1/generators/onrampurl",params:{projectId:d.H.state.projectId},body:{destinationWallets:e,defaultNetwork:r,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:"",async getOnrampOptions(){if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await g.get({path:"/v1/onramp/options"})}catch(e){return u}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}){try{if(!await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId))return null;return await f.api.post({path:"/v1/onramp/quote",params:{projectId:d.H.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}})}catch(e){return{networkFee:{amount:r,currency:t.id},paymentSubtotal:{amount:r,currency:t.id},paymentTotal:{amount:r,currency:t.id},purchaseAmount:{amount:r,currency:t.id},quoteId:"mocked-quote-id"}}},getSmartSessions:async e=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?g.get({path:`/v1/sessions/${e}`}):[],revokeSmartSession:async(e,t,r)=>await g.isNetworkSupported(l.W.state.activeCaipNetwork?.caipNetworkId)?f.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:d.H.state.projectId},body:{pci:t,signature:r}}):{success:!1},setClientId(e){f.clientId=e,f.api=new o.Z({baseUrl:p,clientId:e})}}},44839:function(e){e.exports=function(e,t,r){e=e||{};var n=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(e,t,r,i){return n.fromToBase(e,t,r,i)}r.en.relativeTime=i,n.fromToBase=function(t,n,s,o,a){for(var c,l,d,h=s.$locale().relativeTime||i,u=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=u.length,f=0;f<p;f+=1){var g=u[f];g.d&&(c=o?r(t).diff(s,g.d,!0):s.diff(t,g.d,!0));var m=(e.rounding||Math.round)(Math.abs(c));if(d=c>0,m<=g.r||!g.r){m<=1&&f>0&&(g=u[f-1]);var y=h[g.l];a&&(m=a(""+m)),l="string"==typeof y?y.replace("%d",m):y(m,n,g.l,d);break}}if(n)return l;var b=d?h.future:h.past;return"function"==typeof b?b(l):b.replace("%s",l)},n.to=function(e,t){return s(e,t,this,!0)},n.from=function(e,t){return s(e,t,this)};var o=function(e){return e.$u?r.utc():r()};n.toNow=function(e){return this.to(o(this),e)},n.fromNow=function(e){return this.from(o(this),e)}}},45069:(e,t,r)=>{"use strict";r.d(t,{W:()=>l});var n=r(12661),i=r(52617),s=r(36964),o=r(10899);let a=(0,n.BX)({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),c={state:a,subscribe:e=>(0,n.B1)(a,()=>e(a)),setThemeMode(e){a.themeMode=e;try{let t=o.a.getAuthConnector();if(t){let r=c.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:(0,i.o)(r,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){a.themeVariables={...a.themeVariables,...e};try{let e=o.a.getAuthConnector();if(e){let t=c.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:(0,i.o)(a.themeVariables,a.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot:()=>(0,n.P9)(a)},l=(0,s.X)(c)},45166:(e,t,r)=>{"use strict";var n=r(83138),i=r(98410),s=r(78964),o=r(71084),a=r(47327),c=r(20296);let l=(0,c.AH)`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }
`;var d=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let h=class extends n.WF{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){let e={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return(this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${e[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon)?(0,n.qy)`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?(0,n.qy)`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:(0,n.qy)`<img src=${(0,s.J)(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};h.styles=[o.W5,l],d([(0,i.MZ)()],h.prototype,"src",void 0),d([(0,i.MZ)()],h.prototype,"logo",void 0),d([(0,i.MZ)()],h.prototype,"icon",void 0),d([(0,i.MZ)()],h.prototype,"iconColor",void 0),d([(0,i.MZ)()],h.prototype,"alt",void 0),d([(0,i.MZ)()],h.prototype,"size",void 0),d([(0,i.MZ)({type:Boolean})],h.prototype,"boxed",void 0),d([(0,i.MZ)({type:Boolean})],h.prototype,"rounded",void 0),d([(0,i.MZ)({type:Boolean})],h.prototype,"fullSize",void 0),h=d([(0,a.E)("wui-image")],h)},45236:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcMethods=t.SuiMethods=t.TONMethods=t.AptosMethods=t.SOLANAMethods=t.Eip55Methods=void 0,t.hasOKXInjectedProvider=function(){return void 0!==function(e){let t=(e,r)=>{let[n,...i]=r.split("."),s=e[n];if(s)return 0===i.length?s:t(s,i.join("."))};if("undefined"!=typeof window)return t(window,e)}("okxwallet")},t.Eip55Methods=["personal_sign","eth_signTypedData_v4","eth_sendTransaction","wallet_addEthereumChain","wallet_watchAsset","wallet_switchEthereumChain","eth_requestAccounts","eth_accounts","eth_chainId"],t.SOLANAMethods=["solana_signTransaction","solana_signMessage","solana_signAllTransactions","solana_signAndSendTransaction"],t.AptosMethods=["aptos_signMessage","aptos_signTransaction","aptos_signAndSubmitTransaction"],t.TONMethods=["ton_sendTransaction"],t.SuiMethods=["sui_signMessage","sui_signPersonalMessage","sui_signTransactionBlock","sui_signAndExecuteTransactionBlock"],t.BtcMethods=["btc_signMessage","btc_signPsbts","btc_send","btc_sendInscription","btc_signAndPushPsbt","btc_inscribeTransfer","btc_sendRunes"]},45553:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(87358);let i={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}},IS_DEVELOPMENT:void 0!==n&&!1}},45674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=t.getGlobal=void 0;let r={};t.getGlobal=e=>r[e],t.setGlobal=(e,t)=>{r[e]=t}},46307:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;class r{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}t.BrowserRandomSource=r},46321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Engine=t.WalletConnectionManager=t.ConnectionManager=t.OKXWalletConnector=void 0;var n=r(26051);Object.defineProperty(t,"OKXWalletConnector",{enumerable:!0,get:function(){return n.OKXWalletConnector}});var i=r(65238);Object.defineProperty(t,"ConnectionManager",{enumerable:!0,get:function(){return i.ConnectionManager}});var s=r(53449);Object.defineProperty(t,"WalletConnectionManager",{enumerable:!0,get:function(){return s.WalletConnectionManager}});var o=r(92161);Object.defineProperty(t,"Engine",{enumerable:!0,get:function(){return o.Engine}});var a=r(25120);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return a.Storage}})},46543:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.STANDARD_ERROR_MAP=t.SERVER_ERROR_CODE_RANGE=t.RESERVED_ERROR_CODES=t.SERVER_ERROR=t.INTERNAL_ERROR=t.INVALID_PARAMS=t.METHOD_NOT_FOUND=t.INVALID_REQUEST=t.PARSE_ERROR=t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;class n extends Error{constructor(e,t){void 0==t&&(t=function(e){if(e==r.UNKNOWN_ERROR);else if(e==r.BAD_REQUEST_ERROR)return"bad request error";else if(e==r.ALREADY_CONNECTED_ERROR)return"already connected error";else if(e==r.NOT_CONNECTED_ERROR)return"not connected error";else if(e==r.UNKNOWN_APP_ERROR)return"unknown app error";else if(e==r.USER_REJECTS_ERROR)return"user rejects error";else if(e==r.USER_REJECTS_ERROR_CAUSE_REGISTER)return"wallet address are registering";else if(e==r.METHOD_NOT_SUPPORTED)return"method not supported";else if(e==r.CONNECTION_ERROR)return"connect error";else if(e==r.CHAIN_NOT_SUPPORTED)return"chain not supported";return"unknown error"}(e)),super(t),this.code=e,this.message=`${n.prefix} ${t?"\n"+t:""}`,Object.setPrototypeOf(this,n.prototype)}toJSON(){return{message:this.message,code:this.code}}}t.OKXConnectError=n,n.prefix="[OKX_CONNECT_SDK_ERROR]",!function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",e[e.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",e[e.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",e[e.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",e[e.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",e[e.USER_REJECTS_ERROR_CAUSE_REGISTER=301]="USER_REJECTS_ERROR_CAUSE_REGISTER",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",e[e.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",e[e.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",e[e.CONNECTION_ERROR=700]="CONNECTION_ERROR"}(r||(t.OKX_CONNECT_ERROR_CODES=r={})),t.PARSE_ERROR="PARSE_ERROR",t.INVALID_REQUEST="INVALID_REQUEST",t.METHOD_NOT_FOUND="METHOD_NOT_FOUND",t.INVALID_PARAMS="INVALID_PARAMS",t.INTERNAL_ERROR="INTERNAL_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],t.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],t.STANDARD_ERROR_MAP={[t.PARSE_ERROR]:{code:-32700,message:"Parse error"},[t.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[t.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[t.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[t.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[t.SERVER_ERROR]:{code:-32e3,message:"Server error"}},t.DEFAULT_ERROR=t.SERVER_ERROR},46793:e=>{"use strict";e.exports=function(){throw Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},47327:(e,t,r)=>{"use strict";function n(e){return function(t){return"function"==typeof t?(customElements.get(e)||customElements.define(e,t),t):function(e,t){let{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(t){customElements.get(e)||customElements.define(e,t)}}}(e,t)}}r.d(t,{E:()=>n})},47413:function(e,t,r){var n,i,s,o,a,c,l;s=(i=(n=r(16611)).lib).WordArray,o=i.Hasher,a=n.algo,c=[],l=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var d=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=d<<1|d>>>31}var h=(n<<5|n>>>27)+a+c[l];l<20?h+=(i&s|~i&o)+0x5a827999:l<40?h+=(i^s^o)+0x6ed9eba1:l<60?h+=(i&s|i&o|s&o)-0x70e44324:h+=(i^s^o)-0x359d3e2a,a=o,o=s,s=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=Math.floor(r/0x100000000),t[(n+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(l),n.HmacSHA1=o._createHmacHelper(l),e.exports=n.SHA1},47467:function(e,t,r){var n,i,s,o,a,c,l;n=r(16611),r(38530),r(67626),s=(i=n.x64).Word,o=i.WordArray,c=(a=n.algo).SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new s.init(0xcbbb9d5d,0xc1059ed8),new s.init(0x629a292a,0x367cd507),new s.init(0x9159015a,0x3070dd17),new s.init(0x152fecd8,0xf70e5939),new s.init(0x67332667,0xffc00b31),new s.init(0x8eb44a87,0x68581511),new s.init(0xdb0c2e0d,0x64f98fa7),new s.init(0x47b5481d,0xbefa4fa4)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l),e.exports=n.SHA384},48543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},48592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=t.TONCHAIN=void 0;var n=r(59380);Object.defineProperty(t,"TONCHAIN",{enumerable:!0,get:function(){return n.TONCHAIN}});var i=r(84167);Object.defineProperty(t,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return i.CONNECT_ITEM_ERROR_CODES}})},48746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9490),i=r(89962);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var s=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=0x6a09e667,this._state[1]=0xbb67ae85,this._state[2]=0x3c6ef372,this._state[3]=0xa54ff53a,this._state[4]=0x510e527f,this._state[5]=0x9b05688c,this._state[6]=0x1f83d9ab,this._state[7]=0x5be0cd19},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var s=r+1;s<i-8;s++)this._buffer[s]=0;n.writeUint32BE(t/0x20000000|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var s=0;s<this.digestLength/4;s++)n.writeUint32BE(this._state[s],e,4*s);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=s;var o=new Int32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]);function a(e,t,r,i,s){for(;s>=64;){for(var a=t[0],c=t[1],l=t[2],d=t[3],h=t[4],u=t[5],p=t[6],f=t[7],g=0;g<16;g++){var m=i+4*g;e[g]=n.readUint32BE(r,m)}for(var g=16;g<64;g++){var y=e[g-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=e[g-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[g]=(b+e[g-7]|0)+(v+e[g-16]|0)}for(var g=0;g<64;g++){var b=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&u^~h&p)|0)+(f+(o[g]+e[g]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&l^c&l)|0;f=p,p=u,u=h,h=d+b|0,d=l,l=c,c=a,a=b+v|0}t[0]+=a,t[1]+=c,t[2]+=l,t[3]+=d,t[4]+=h,t[5]+=u,t[6]+=p,t[7]+=f,i+=64,s-=64}return i}t.hash=function(e){var t=new s;t.update(e);var r=t.digest();return t.clean(),r}},48981:(e,t,r)=>{"use strict";r.d(t,{g:()=>p});var n=r(45553),i=r(55480),s=r(58653),o=r(72880),a=r(12319),c=r(3824),l=r(93481),d=r(10899),h=r(79355),u=r(18635);let p={getConnectorsByType(e,t,r){let{customWallets:n}=i.H.state,o=s.i.getRecentWallets(),a=u.A.filterOutDuplicateWallets(t),c=u.A.filterOutDuplicateWallets(r),l=e.filter(e=>"MULTI_CHAIN"===e.type),d=e.filter(e=>"ANNOUNCED"===e.type),h=e.filter(e=>"INJECTED"===e.type);return{custom:n,recent:o,external:e.filter(e=>"EXTERNAL"===e.type),multiChain:l,announced:d,injected:h,recommended:a,featured:c}},showConnector(e){let t=e.info?.rdns,r=!!t&&o.N.state.excludedWallets.some(e=>!!e.rdns&&e.rdns===t),n=!!e.name&&o.N.state.excludedWallets.some(t=>h.y.isLowerCaseMatch(t.name,e.name));if("INJECTED"===e.type&&("Browser Wallet"===e.name&&(!a.w.isMobile()||a.w.isMobile()&&!t&&!c.x.checkInstalled())||r||n))return!1;return"ANNOUNCED"!==e.type&&"EXTERNAL"!==e.type||!r&&!n},getIsConnectedWithWC:()=>Array.from(l.W.state.chains.values()).some(e=>d.a.getConnectorId(e.namespace)===n.o.CONNECTOR_ID.WALLET_CONNECT),getConnectorTypeOrder({recommended:e,featured:t,custom:r,recent:n,announced:s,injected:o,multiChain:a,external:c,overriddenConnectors:l=i.H.state.features?.connectorTypeOrder??[]}){let d=[{type:"walletConnect",isEnabled:i.H.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...o,...s,...a].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:c.length>0},{type:"recommended",isEnabled:e.length>0}].filter(e=>e.isEnabled),h=new Set(d.map(e=>e.type)),u=l.filter(e=>h.has(e)).map(e=>({type:e,isEnabled:!0})),p=d.filter(({type:e})=>!u.some(({type:t})=>t===e));return Array.from(new Set([...u,...p].map(({type:e})=>e)))},getAuthName:({email:e,socialUsername:t,socialProvider:r})=>t?r&&"discord"===r&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e,async fetchProviderData(e){try{if("Browser Wallet"===e.name&&!a.w.isMobile()||e.id===n.o.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[t,r]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(e=>Number(e))]);return{accounts:t,chainId:r}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}}}},49154:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};function s(e){let t=({register:t})=>t(e);try{window.dispatchEvent(new o(t))}catch(e){console.error("wallet-standard:register-wallet event could not be dispatched\n",e)}try{window.addEventListener("wallet-standard:app-ready",({detail:e})=>t(e))}catch(e){console.error("wallet-standard:app-ready event listener could not be added\n",e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_registerWallet=t.registerWallet=void 0,t.registerWallet=s;class o extends Event{get detail(){return n(this,r,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),i(this,r,e,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}r=new WeakMap,t.DEPRECATED_registerWallet=function(e){var t;s(e);try{((t=window.navigator).wallets||(t.wallets=[])).push(({register:t})=>t(e))}catch(e){console.error("window.navigator.wallets could not be pushed\n",e)}}},49327:function(e,t,r){var n;n=r(16611),r(99229),n.mode.CFB=function(){var e=n.lib.BlockCipherMode.extend();function t(e,t,r,n){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var o=0;o<r;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,s=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=s}}),e}(),e.exports=n.mode.CFB},49737:(e,t,r)=>{"use strict";var n,i,s,o,a,c,l;Object.defineProperty(t,"__esModule",{value:!0}),t.isTmaPlatform=function(...e){return e.includes(g)},t.isInTMA=y,t.inTg=function(){return b()||y()},t.isInTelegramBrowser=b,t.sendExpand=function(){w("web_app_expand",{})},t.sendOpenTelegramLink=function(e,t){var r;let n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}let i=n.pathname+n.search;v()||(r="6.1",C(m,"6.1")>=0)?w("web_app_open_tg_link",{path_full:i}):(0,p.openLinkBlank)("https://t.me"+i)},t.versionCompare=C;let d=r(2195),h=r(75260),u=r(14903),p=r(92905),f={};try{let e=location.hash.toString();f=function(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(0>e.indexOf("=")&&0>e.indexOf("?"))return t._path=E(e),t;let r=e.indexOf("?");r>=0&&(t._path=E(e.substr(0,r)),e=e.substr(r+1));let n=function(e){let t,r,n,i,s={};if(!e.length)return s;let o=e.split("&");for(t=0;t<o.length;t++)n=E((r=o[t].split("="))[0]),i=null==r[1]?null:E(r[1]),s[n]=i;return s}(e);for(let e in n)t[e]=n[e];return t}(e)}catch(e){}let g="unknown";if((null==f?void 0:f.tgWebAppPlatform)&&(g=null!=(n=f.tgWebAppPlatform)?n:"unknown"),"unknown"===g){let e=(0,d.getWindow)();g=null!=(o=null==(s=null==(i=null==e?void 0:e.Telegram)?void 0:i.WebApp)?void 0:s.platform)?o:"unknown"}let m="6.0";if((null==f?void 0:f.tgWebAppVersion)&&(m=f.tgWebAppVersion),!m){let e=(0,d.getWindow)();m=null!=(l=null==(c=null==(a=null==e?void 0:e.Telegram)?void 0:a.WebApp)?void 0:c.version)?l:"6.0"}function y(){var e;return"unknown"!==g||!!(null==(e=(0,d.getWindow)())?void 0:e.TelegramWebviewProxy)}function b(){var e;let t=!!(null==(e=(0,d.getWindow)())?void 0:e.TelegramWebview);return(y()||t)&&"unknown"===g}function v(){try{let e=(0,d.getWindow)();if(!e)return!1;return null!=e.parent&&e!==e.parent}catch(e){return!1}}function w(e,t){try{let r=(0,d.getWindow)();if(!r)throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==r.TelegramWebviewProxy)(0,h.logDebug)("postEvent",e,t),r.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(r.external&&"notify"in r.external)(0,h.logDebug)("postEvent",e,t),r.external.notify(JSON.stringify({eventType:e,eventData:t}));else if(v()){let n=JSON.stringify({eventType:e,eventData:t});(0,h.logDebug)("postEvent",e,t),r.parent.postMessage(n,"*")}else throw new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA")}catch(e){(0,h.logError)(`Can't post event to parent window: ${e}`)}}function E(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch(t){return e}}function C(e,t){let r,n,i,s;"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let o=e.replace(/^\s+|\s+$/g,"").split("."),a=t.replace(/^\s+|\s+$/g,"").split(".");for(n=0,r=Math.max(o.length,a.length);n<r;n++)if((i=parseInt(o[n])||0)!==(s=parseInt(a[n])||0)){if(i>s)return 1;return -1}return 0}},50167:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SuiStandardProvider=void 0;let i=r(14903),s=r(71994),o=r(38962);class a{constructor(e){this.wallet=e}getVersion(){return this.wallet.version}supportChains(e){return 1===e.length&&e[0]===i.SUI_CHAINS.MAINNET}send(e){return n(this,void 0,void 0,function*(){try{let t;(0,s.logDebug)("suiProvider send request:",JSON.stringify(e));let r=e.method;if(e.injectParams&&this.wallet){let n=e.injectParams;switch(r){case"sui_signTransactionBlock":let s;if(this.wallet.features["sui:signTransaction"])s=yield this.wallet.features["sui:signTransaction"].signTransaction(n);else if(this.wallet.features["sui:signTransactionBlock"])s=yield this.wallet.features["sui:signTransactionBlock"].signTransactionBlock(n);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);t={method:"sui_signTransactionBlock",result:null==s?void 0:s.signature};break;case"sui_signAndExecuteTransactionBlock":let o;if(this.wallet.features["sui:signAndExecuteTransaction"])o=yield this.wallet.features["sui:signAndExecuteTransaction"].signAndExecuteTransaction(n);else if(this.wallet.features["sui:signAndExecuteTransactionBlock"])o=yield this.wallet.features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(n);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);t={method:"sui_signAndExecuteTransactionBlock",result:o.digest};break;case"sui_signMessage":let a=yield this.wallet.features["sui:signMessage"].signMessage(n);t={method:"sui_signMessage",result:a.signature};break;case"sui_signPersonalMessage":let c=yield this.wallet.features["sui:signPersonalMessage"].signPersonalMessage(n);t={method:"sui_signPersonalMessage",result:c.signature}}}return t}catch(e){throw(0,s.logDebug)("suiProvider send error:",e),e}})}addAccountChangedListener(){}removeListener(){}disconnect(){return n(this,void 0,void 0,function*(){})}connect(){return n(this,void 0,void 0,function*(){return this.wallet.features["standard:connect"].connect()})}restoreConnect(){return(0,o.isDevice)("mobile")?this.connect():Promise.resolve()}getAccount(e){return n(this,void 0,void 0,function*(){var e;let t=yield this.connect();if(!t)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);null==t||t.address;let r=null!=(e=null==t?void 0:t.publicKey)?e:"";r instanceof Uint8Array&&(r=btoa(String.fromCharCode(...r=this.normalizeUint8Array(r))));let n={};return n[i.SUI_CHAINS.MAINNET]={publicKey:r},{namespace:i.NameSpaceKeySui,addresses:[`${i.SUI_CHAINS.MAINNET}:${t.address}`],methods:t.features,extra:n}})}normalizeUint8Array(e){return 33===e.length&&0===e[0]?e.slice(1):e}}t.SuiStandardProvider=a},50409:function(e,t){"use strict";let r,n;var i,s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_getWallets=t.getWallets=void 0;let a=new Set,c={};function l(){if(n||(n=Object.freeze({register:d,get:h,on:u}),"undefined"==typeof window))return n;let e=Object.freeze({register:d});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new f(e))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return n}function d(...e){var t;return(e=e.filter(e=>!a.has(e))).length?(e.forEach(e=>{r=void 0,a.add(e)}),null==(t=c.register)||t.forEach(t=>p(()=>t(...e))),function(){var t;e.forEach(e=>{r=void 0,a.delete(e)}),null==(t=c.unregister)||t.forEach(t=>p(()=>t(...e)))}):()=>{}}function h(){return r||(r=[...a]),r}function u(e,t){var r;return(null==(r=c[e])?void 0:r.push(t))||(c[e]=[t]),function(){var r;c[e]=null==(r=c[e])?void 0:r.filter(e=>t!==e)}}function p(e){try{e()}catch(e){console.error(e)}}t.getWallets=l;class f extends Event{get detail(){return s(this,i,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),i.set(this,void 0),o(this,i,e,"f")}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}i=new WeakMap,t.DEPRECATED_getWallets=function(){if(n||(n=l(),"undefined"==typeof window))return n;let e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),n;let{register:t}=n,r=(...e)=>e.forEach(e=>p(()=>e({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch(e){return console.error("window.navigator.wallets could not be set"),n}return r(...e),n}},50683:(e,t,r)=>{"use strict";e.exports=r(79919)},51113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(89962);class i{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(99432);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}t.NodeRandomSource=i},51826:(e,t,r)=>{"use strict";r.d(t,{Vw:()=>m,DO:()=>s,CC:()=>a,sd:()=>o,Fe:()=>i,Ht:()=>c,uH:()=>d,Id:()=>g,qj:()=>y,O8:()=>h,po:()=>b,Ow:()=>u,fd:()=>p,ZJ:()=>f,DH:()=>l});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function s(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function c(e,t){s(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function l(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function d(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function u(e,t){return e<<32-t|e>>>t}let p=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e};function f(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),s(e),e}function g(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];s(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class m{}function y(e){let t=t=>e().update(f(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function b(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return Uint8Array.from(n.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}},52228:function(e,t,r){var n=r(66443).Buffer;!function(t,r){"use strict";e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}(this,function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"==typeof atob?void 0!==n.from?(e.encodeBase64=function(e){return n.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(n.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new n(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new n(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e})},52321:(e,t,r)=>{"use strict";r.d(t,{JW:()=>x,XX:()=>q,c0:()=>A,ej:()=>N,ge:()=>H,qy:()=>O,s6:()=>S});let n=globalThis,i=n.trustedTypes,s=i?i.createPolicy("lit-html",{createHTML:e=>e}):void 0,o="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+a,l=`<${c}>`,d=document,h=()=>d.createComment(""),u=e=>null===e||"object"!=typeof e&&"function"!=typeof e,p=Array.isArray,f=e=>p(e)||"function"==typeof e?.[Symbol.iterator],g="[ 	\n\f\r]",m=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y=/-->/g,b=/>/g,v=RegExp(`>|${g}(?:([^\\s"'>=/]+)(${g}*=${g}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,E=/"/g,C=/^(?:script|style|textarea|title)$/i,_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),O=_(1),x=_(2),N=_(3),A=Symbol.for("lit-noChange"),S=Symbol.for("lit-nothing"),T=new WeakMap,R=d.createTreeWalker(d,129);function I(e,t){if(!p(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s?s.createHTML(t):t}let P=(e,t)=>{let r=e.length-1,n=[],i,s=2===t?"<svg>":3===t?"<math>":"",c=m;for(let t=0;t<r;t++){let r=e[t],d,h,u=-1,p=0;for(;p<r.length&&(c.lastIndex=p,null!==(h=c.exec(r)));)p=c.lastIndex,c===m?"!--"===h[1]?c=y:void 0!==h[1]?c=b:void 0!==h[2]?(C.test(h[2])&&(i=RegExp("</"+h[2],"g")),c=v):void 0!==h[3]&&(c=v):c===v?">"===h[0]?(c=i??m,u=-1):void 0===h[1]?u=-2:(u=c.lastIndex-h[2].length,d=h[1],c=void 0===h[3]?v:'"'===h[3]?E:w):c===E||c===w?c=v:c===y||c===b?c=m:(c=v,i=void 0);let f=c===v&&e[t+1].startsWith("/>")?" ":"";s+=c===m?r+l:u>=0?(n.push(d),r.slice(0,u)+o+r.slice(u)+a+f):r+a+(-2===u?t:f)}return[I(e,s+(e[r]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),n]};class k{constructor({strings:e,_$litType$:t},r){let n;this.parts=[];let s=0,l=0,d=e.length-1,u=this.parts,[p,f]=P(e,t);if(this.el=k.createElement(p,r),R.currentNode=this.el.content,2===t||3===t){let e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(n=R.nextNode())&&u.length<d;){if(1===n.nodeType){if(n.hasAttributes())for(let e of n.getAttributeNames())if(e.endsWith(o)){let t=f[l++],r=n.getAttribute(e).split(a),i=/([.?@])?(.*)/.exec(t);u.push({type:1,index:s,name:i[2],strings:r,ctor:"."===i[1]?j:"?"===i[1]?B:"@"===i[1]?W:L}),n.removeAttribute(e)}else e.startsWith(a)&&(u.push({type:6,index:s}),n.removeAttribute(e));if(C.test(n.tagName)){let e=n.textContent.split(a),t=e.length-1;if(t>0){n.textContent=i?i.emptyScript:"";for(let r=0;r<t;r++)n.append(e[r],h()),R.nextNode(),u.push({type:2,index:++s});n.append(e[t],h())}}}else if(8===n.nodeType)if(n.data===c)u.push({type:2,index:s});else{let e=-1;for(;-1!==(e=n.data.indexOf(a,e+1));)u.push({type:7,index:s}),e+=a.length-1}s++}}static createElement(e,t){let r=d.createElement("template");return r.innerHTML=e,r}}function D(e,t,r=e,n){if(t===A)return t;let i=void 0!==n?r._$Co?.[n]:r._$Cl,s=u(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),void 0===s?i=void 0:(i=new s(e))._$AT(e,r,n),void 0!==n?(r._$Co??=[])[n]=i:r._$Cl=i),void 0!==i&&(t=D(e,i._$AS(e,t.values),i,n)),t}class U{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:r}=this._$AD,n=(e?.creationScope??d).importNode(t,!0);R.currentNode=n;let i=R.nextNode(),s=0,o=0,a=r[0];for(;void 0!==a;){if(s===a.index){let t;2===a.type?t=new M(i,i.nextSibling,this,e):1===a.type?t=new a.ctor(i,a.name,a.strings,this,e):6===a.type&&(t=new K(i,this,e)),this._$AV.push(t),a=r[++o]}s!==a?.index&&(i=R.nextNode(),s++)}return R.currentNode=d,n}p(e){let t=0;for(let r of this._$AV)void 0!==r&&(void 0!==r.strings?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,r,n){this.type=2,this._$AH=S,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){u(e=D(this,e,t))?e===S||null==e||""===e?(this._$AH!==S&&this._$AR(),this._$AH=S):e!==this._$AH&&e!==A&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):f(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==S&&u(this._$AH)?this._$AA.nextSibling.data=e:this.T(d.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:r}=e,n="number"==typeof r?this._$AC(e):(void 0===r.el&&(r.el=k.createElement(I(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(t);else{let e=new U(n,this),r=e.u(this.options);e.p(t),this.T(r),this._$AH=e}}_$AC(e){let t=T.get(e.strings);return void 0===t&&T.set(e.strings,t=new k(e)),t}k(e){p(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,r,n=0;for(let i of e)n===t.length?t.push(r=new M(this.O(h()),this.O(h()),this,this.options)):r=t[n],r._$AI(i),n++;n<t.length&&(this._$AR(r&&r._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class L{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,r,n,i){this.type=1,this._$AH=S,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=i,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=S}_$AI(e,t=this,r,n){let i=this.strings,s=!1;if(void 0===i)(s=!u(e=D(this,e,t,0))||e!==this._$AH&&e!==A)&&(this._$AH=e);else{let n,o,a=e;for(e=i[0],n=0;n<i.length-1;n++)(o=D(this,a[r+n],t,n))===A&&(o=this._$AH[n]),s||=!u(o)||o!==this._$AH[n],o===S?e=S:e!==S&&(e+=(o??"")+i[n+1]),this._$AH[n]=o}s&&!n&&this.j(e)}j(e){e===S?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class j extends L{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===S?void 0:e}}class B extends L{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==S)}}class W extends L{constructor(e,t,r,n,i){super(e,t,r,n,i),this.type=5}_$AI(e,t=this){if((e=D(this,e,t,0)??S)===A)return;let r=this._$AH,n=e===S&&r!==S||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==S&&(r===S||n);n&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class K{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){D(this,e)}}let H={M:o,P:a,A:c,C:1,L:P,R:U,D:f,V:D,I:M,H:L,N:B,U:W,B:j,F:K},F=n.litHtmlPolyfillSupport;F?.(k,M),(n.litHtmlVersions??=[]).push("3.3.1");let q=(e,t,r)=>{let n=r?.renderBefore??t,i=n._$litPart$;if(void 0===i){let e=r?.renderBefore??null;n._$litPart$=i=new M(t.insertBefore(h(),e),e,void 0,r??{})}return i._$AI(e),i}},52502:(e,t,r)=>{"use strict";r.d(t,{h:()=>c});var n=r(12661),i=r(98866),s=r(36964),o=r(55480);let a=(0,n.BX)({message:"",variant:"info",open:!1}),c=(0,s.X)({state:a,subscribeKey:(e,t)=>(0,i.u$)(a,e,t),open(e,t){let{debug:r}=o.H.state,{code:n,displayMessage:i,debugMessage:s}=e;i&&r&&(a.message=i,a.variant=t,a.open=!0),s&&console.error("function"==typeof s?s():s,n?{code:n}:void 0)},warn(e,t,r){a.open=!0,a.message=e,a.variant="warning",t&&console.warn(t,r)},close(){a.open=!1,a.message="",a.variant="info"}})},52540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.okxfromString=function(e,t="utf8"){let r=l[t];if((0,i.logDebug)("okxfromstring ====> "),!r)throw Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)},t.okxtoString=function(e,t="utf8"){let r=l[t];if((0,i.logDebug)("okxtoString ====> "),!r)throw Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)},t.alloc=function(e=0){return new Uint8Array(e)},t.allocUnsafe=s;let n=r(43546),i=r(75260);function s(e=0){return new Uint8Array(e)}function o(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let a=o("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),c=o("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++){let n=e[r];n&&String.fromCharCode(n)&&(t+=String.fromCharCode(n))}return t},e=>{let t=s((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),l=Object.assign({utf8:a,"utf-8":a,hex:n.bases.base16,latin1:c,ascii:c,binary:c},n.bases)},52617:(e,t,r)=>{"use strict";function n(e,t){return"light"===t?{"--w3m-accent":e?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":e?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}r.d(t,{o:()=>n})},52749:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=h(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=a(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[a(e)]},d.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},d.prototype.set=function(e,t){this.map[a(e)]=c(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,t){if(!(this instanceof y))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new d(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise(function(s,o){var l=new y(e,r);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function u(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout(function(){s(new v(n,r))},0)},h.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},h.open(l.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?h.withCredentials=!0:"omit"===l.credentials&&(h.withCredentials=!1),"responseType"in h&&(i.blob?h.responseType="blob":i.arrayBuffer&&(h.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof d||n.Headers&&r.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(a(e)),h.setRequestHeader(e,c(r.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&h.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){h.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",u),h.onreadystatechange=function(){4===h.readyState&&l.signal.removeEventListener("abort",u)}),h.send(void 0===l._bodyInit?null:l._bodyInit)})}E.polyfill=!0,n.fetch||(n.fetch=E,n.Headers=d,n.Request=y,n.Response=v),t.Headers=d,t.Request=y,t.Response=v,t.fetch=E}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},53449:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectionManager=void 0;let c=r(26051),l=r(93433),d=r(12997),h=r(60573),u=r(20756),p=r(15547),f=r(38996),g=r(94820),m=r(25120),y=r(16919),b=r(63683),v=r(74904),w=r(14441),E=o(r(75260)),C=r(75260),_=r(71994);class O{constructor(){this.events=new g.EventEmitter,this.communicateEvents=new g.EventEmitter,this.splitManager=new f.ConnectionSplitPackages("wallet"),E.logDebug("connect manager construct"),this.connectStorage=new m.Storage(d.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(u.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(e=0){let t=Date.now()+e;t==this.packageId&&(this.packageId=t+1),this.packageId=t}saveCryptoKeyPair(e,t){let r=(0,w.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(r,d.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(E.logDebug("get cached crypto key:"),E.logDebug(t),(0,w.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,y.toHexString)(e.publicKey),secretKey:(0,y.toHexString)(e.secretKey)};E.logDebug("save jwt kp");let r=(0,w.safeJsonStringify)(t);E.logDebug(r),this.connectStorage.encryptStoreMsg(r,d.OKXCONNECTOR_JWT_KEY),E.logDebug("after save jwt kp")}getCachedJWTKeyPair(){let e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"!=typeof e)return(0,v.generateKeyPair)();{E.logDebug("get cached jwt kp:"),E.logDebug(e);let t=(0,w.safeJsonParse)(e);return E.logDebug("save jwt kp"),E.logDebug(t),{publicKey:(0,y.hexToByteArray)(t.publicKey),secretKey:(0,y.hexToByteArray)(t.secretKey)}}}isTopicPublicKeyExist(e){return E.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return a(this,void 0,void 0,function*(){return yield(0,v.signJWT)(e,h.OKXCONNECTOR_JWT_WALLET_SIDE,h.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parseInternalMsg(e){try{let t=(0,w.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,_.base64decode)(t,!0).toString()}catch(e){E.logError("parse internal msg",e)}}updateClientId(e,t){let r=this.sessionCryptoInfoMap.get(e);if((0,C.logDebug)("updateClientId",r,e,t),r&&t&&t.length>0){if(r.cid){let n=(0,y.getLastSixMd5Hash)(t);r.cid==n?r.dappPublicKey=t:E.logError("cid check failed",r,e,t)}else r.dappPublicKey=t;this.syncCacheSessionInfo()}return!1}parsePackage(e,t){return a(this,arguments,void 0,function*(e,t,r=!1){var n,i,s,o,c,d,h,u,p,f,g,m,y,b,v,O,x;this.events.emit(t.id,t);let N=this.sessionCryptoInfoMap.get(e);E.logDebug("get sessionInfo for decrypt topic:",e),E.logDebug("get sessionInfo for decrypt:",t.id,e,N,this.sessionCryptoInfoMap);let A=!1;if(N&&t.params.data&&(null==(n=t.params.data)?void 0:n.message))if(null==(i=t.params.data)?void 0:i.isInternalData){let e=null==(s=t.params.data)?void 0:s.message,r=null==(o=t.params.data)?void 0:o.topic,n=this.parseInternalMsg(e);(0,C.logDebug)("parse internal origin: ",n),n&&n.length>0&&this.communicateEvents.emit("origin",n,r)}else try{let r=null==(c=t.params.data)?void 0:c.message;if(t.method&&t.method===l.CONNECT_METHOD_PUSH&&((0,C.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(e)),r.trimStart().startsWith("{")){let n=this.splitManager.tryParseMessageSplitPayload(r);if(n){(0,C.logDebug)("parse split msg object: ",n),A=!0;let r={topicId:null==(h=null==(d=t.params)?void 0:d.data)?void 0:h.topic,messageId:null==(p=null==(u=t.params)?void 0:u.data)?void 0:p.messageId,messageObject:n,publishedAt:null==(g=null==(f=t.params)?void 0:f.data)?void 0:g.publishedAt},i=yield this.splitManager.onReceivedPackageCheck(r);if(i.completeMessageIdList&&i.completeMessageIdList.forEach(t=>a(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),t,e)})),i.finalMessage){let t=N.crypto.decryptWallet(i.finalMessage,N.dappPublicKey);(0,C.logDebug)("<<< receive msg from split:",e,t),this.communicateEvents.emit(e,t)}}else{let t=(0,w.safeJsonParse)(r);if(t.method){if("session_info"==t.method){let r=t.params.sessionInfo,n=(0,_.base64decode)(r,!1);(0,C.logDebug)("wallet connection manager requset base64Content:",n),(0,C.logDebug)("base64Content:"+n);let i=n.toObject();this.updateClientId(e,i.clientId)}(0,C.logDebug)("<<< parse raw msg:",e,t),this.communicateEvents.emit(e,r)}}}else{let r=N.crypto.decryptWallet(null==(m=t.params.data)?void 0:m.message,N.dappPublicKey);(0,C.logDebug)("<<< receive msg:",e,r),this.communicateEvents.emit(e,r)}}catch(n){let r=N.crypto.decryptWallet(null==(y=t.params.data)?void 0:y.message,N.dappPublicKey);(0,C.logDebug)("<<< receive msg:",e,r),this.communicateEvents.emit(e,r)}!r&&(yield this.sendACK(t.id,!0),e&&!A&&(null==(v=null==(b=t.params)?void 0:b.data)?void 0:v.messageId)&&(this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null==(x=null==(O=t.params)?void 0:O.data)?void 0:x.messageId,e)))})}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(p.WalletConnectionManagerTopicInfoCacheKey);if(E.logDebug("get cached sessionInfos:",e),e){let t=(0,w.safeJsonParse)(e);for(let e in t){let r=t[e];E.logDebug("make topicItem:",r);let n={topic:e,crypto:new b.SessionCrypto({publicKey:r.cryptoKeyPair.publicKey,secretKey:r.cryptoKeyPair.secretKey}),dappPublicKey:r.dappPublicKey,cid:r.cid};this.sessionCryptoInfoMap.set(e,n)}}E.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[t,r]of this.sessionCryptoInfoMap)E.logDebug("for each Keys",t),r&&(e[t]={cryptoKeyPair:r.crypto.stringifyKeypair(),dappPublicKey:r.dappPublicKey,cid:r.cid});let t=(0,w.safeJsonStringify)(e);E.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,p.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t,r=!0){let n=t.dappPublicKey,i=[];for(let[e,t]of this.sessionCryptoInfoMap)E.logDebug("for each Keys",e),t.dappPublicKey==n&&(E.logDebug("duplicated dapp public key:",e,n),i.push(e));for(let[e,t]of this.sessionCryptoInfoMap)i.includes(e)&&this.sessionCryptoInfoMap.delete(e);return E.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),E.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),r&&this.syncCacheSessionInfo(),i}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}appendTopic(e,t,r){return a(this,void 0,void 0,function*(){return(0,C.logDebug)("4.1. get append Topic:",e),new Promise((n,i)=>a(this,void 0,void 0,function*(){if(!this.isLogined){var s=Error();s.message="connection is not logined",s.name="append error",i(s);return}let o={topic:e,crypto:new b.SessionCrypto,dappPublicKey:t||"",cid:r},a=this.cacheSessionInfo(e,o,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),E.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`),E.reportLog("5. subscribe callback then fetch append message");let c=new Date().getTime();(0,C.logDebug)("Append --subscribe callback->",c-this.timeLog),n(a)}))})}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return a(this,void 0,void 0,function*(){this.timeLog=new Date().getTime(),(0,C.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog),E.reportLog("wallet connect connect called");let e=Date.now().toString();var t=yield this.makeJWT(e);return E.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise((e,r)=>{this.inLogin=!0,this.connector.onOpen(()=>a(this,void 0,void 0,function*(){E.logDebug("1. connector on open"),E.reportLog("1. wallet connect connect on open");let n=new Date().getTime();(0,C.logDebug)("ConnectTime---open->",n-this.timeLog),this.events.once(this.packageId.toString(),t=>a(this,void 0,void 0,function*(){if(t&&t.error){E.logError("failed when login"),yield this.connector.disconnect();var n=Error();n.message=t.error.message,n.name=t.error.code.toString(),r(n)}else this.isLogined=!0,e(),E.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),E.reportLog("3. wallet connect connect subscribe cached topics"),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})),E.logDebug("2. login called"),E.reportLog("2. wallet connect login called"),yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:t}})})),this.connector.connect().catch(e=>{(0,C.logDebug)("WalletConnectionManager connect error",e),r(e)}),this.connector.addPackageParse(e=>{var t,r;if(E.logDebug("connect: parse package"),E.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage("",e,!0);(null==(t=e.params.data)?void 0:t.topic)&&this.parsePackage(null==(r=e.params.data)?void 0:r.topic,e,e.method===l.CONNECT_METHOD_RECEIVE)})})})}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,y.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}sendDisconnect(e){return a(this,void 0,void 0,function*(){this.refreshPackageId();let t={id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_DISCONNECT,params:{message:{topic:e,ttl:u.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)})}sendRecvDisconnect(e){return a(this,void 0,void 0,function*(){this.refreshPackageId();let t={id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:e}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)})}disconnect(){return a(this,arguments,void 0,function*(e=!1){yield this.connector.disconnect(),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)})}sendRaw(e,t){return a(this,void 0,void 0,function*(){t&&(yield this.sendMsg(t,e,u.OKXCONNECTOR_MESSAGE_TTL))})}sendMsg(e,t,r){return a(this,void 0,void 0,function*(){if(t){this.refreshPackageId();let n={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:u.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:r}}};this.events.once(this.packageId.toString(),e=>a(this,void 0,void 0,function*(){e&&e.error?E.logError(`@${new Date().toUTCString()} >>> failed when send msg`):e&&!e.error&&E.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)}})}send(e,t){return a(this,arguments,void 0,function*(e,t,r=!1,n=u.OKXCONNECTOR_MESSAGE_TTL,i=!1){var s,o;let a;if(E.logDebug(`message send =====> ${t}`),!this.isTopicPublicKeyExist(e))throw Error("connection not finish");let c=null==(s=this.sessionCryptoInfoMap.get(e))?void 0:s.dappPublicKey,l=null==(o=this.sessionCryptoInfoMap.get(e))?void 0:o.crypto;i&&(a={message:t});let d=!1;if(l&&c&&!i&&(d=!0,a={message:l.encryptWallet(t,c)}),a){r&&l&&(a.clientId=(0,y.toHexString)(l.keyPair.publicKey));let t=(0,w.safeJsonStringify)(a);!i&&d?yield this.splitManager.sendSplitPackages(e,t,this.sendMsg.bind(this),this.sendRaw.bind(this)):yield this.sendMsg(e,t,n)}})}sendACK(e,t){return a(this,arguments,void 0,function*(e,t,r){if(!0===t){let t={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)}else if(r){let t={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,error:{code:r.code,message:r.message}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)}})}sendReceive(e,t,r){return a(this,void 0,void 0,function*(){let n={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:r}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}sendUnsubscribe(e){return a(this,void 0,void 0,function*(){yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_UNSUB,params:{topic:e}});try{yield this.sendDisconnect(e)}catch(e){E.logError("send disconnect command failed",e)}this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()})}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,function*(){this.events.once(e,e=>a(this,void 0,void 0,function*(){var r,n;if(e.result){var i=e.result.hasMore,s=e.result.data;if(s)for(let e=0;e<s.length;e++){let r=s[e];if(r&&r.topic==t){let e=r.messageId;yield this.connector.getMsgPayloadFromHistory(r),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}i&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else E.logDebug(`CONNECT: get error rsp ${null==(r=e.error)?void 0:r.code} : ${null==(n=e.error)?void 0:n.message}`)})),E.logDebug("5. send fetch more");let r=new Date().getTime();(0,C.logDebug)("ConnectTime---5->",r-this.timeLog);let n={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}sendBatchFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,function*(){this.events.once(e,e=>a(this,void 0,void 0,function*(){var r,n;if(e.result){var i=e.result.hasMore,s=e.result.data;let r=e.result.disconnectedTopics;if(r)try{for(let e=0;e<r.length;e++){let t=r[e];if(t.topic){(0,C.logDebug)("send receive disconnect:",t.topic),yield this.sendRecvDisconnect(t.topic);let e=(0,w.safeJsonStringify)({requestId:t.publishedAt.toString(),method:l.CONNECT_METHOD_DISCONNECT}),r={messageId:t.publishedAt.toString(),message:(0,w.safeJsonStringify)({message:e}),topic:t.topic,publishedAt:t.publishedAt};yield this.connector.getMsgPayloadFromHistory(r)}}}catch(e){E.logError("disconnect topic fails",e)}if(s)for(let e=0;e<s.length;e++){let t=s[e];if(t&&t.topic)if(this.splitManager.tryParseMessageSplitPayload(t.message))yield this.connector.getMsgPayloadFromHistory(t);else{let r=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),r,t.topic)}}i&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else E.logDebug(`CONNECT: get error rsp ${null==(r=e.error)?void 0:r.code} : ${null==(n=e.error)?void 0:n.message}`)})),E.logDebug("5. send fetch more"),E.reportLog("5. send fetch more");let r=new Date().getTime();(0,C.logDebug)("ConnectTime---5->",r-this.timeLog);let n={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}cleanCache(){return a(this,void 0,void 0,function*(){this.connectStorage.clearCache()})}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let r=(0,w.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(r,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,w.safeJsonParse)(t)}subscribeTopics(e){return a(this,void 0,void 0,function*(){(0,C.logDebug)("4. topicid list",e),E.reportLog("4. topicid list"),this.refreshPackageId();let t=new Date().getTime();return(0,C.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise((t,r)=>a(this,void 0,void 0,function*(){let r=0;for(let n=0;n<e.length;++n){let i=e[n];this.refreshPackageId(n),this.events.once(this.packageId.toString(),s=>a(this,void 0,void 0,function*(){if(s&&s.error){E.logError("failed when subscribe"),yield this.connector.disconnect();var o=Error();o.message=s.error.message,o.name=s.error.code.toString(),(r+=1)==e.length&&t()}this.refreshPackageId(n);let a=new Date().getTime();(0,C.logDebug)("ConnectTime--subscribe callback->",a-this.timeLog),(r+=1)==e.length&&(E.logDebug(`5. send fetch msg: ${this.packageId}, ${i}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),yield this.splitManager.init(this.sendRaw.bind(this)),this.checkExpire(i)?((0,C.logDebug)("disconnect From topic expire"),yield this.activateDisconnect(i)):((0,C.logDebug)("extends expire check"),this.updateExpireLimit(i)),t())})),E.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${i}`),E.reportLog("3. login callback then send subscribe");let s=new Date().getTime();(0,C.logDebug)("ConnectTime---login callback->",s-this.timeLog),yield this.connector.send(()=>a(this,void 0,void 0,function*(){return E.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:i}})}}))})}checkExpire(e){let t=!1;if(0==e.length)return(0,C.logDebug)("checkExpire: invalid topic"),t;let r=this.getSessionContent(d.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE);if(r&&r instanceof Object)try{let n=new Map(Object.entries(r)).get(e);n?Date.now()>n&&((0,C.logDebug)("checkExpire: connection is Expired"),t=!0):((0,C.logDebug)("checkExpire: not same connection"),t=!1)}catch(e){(0,C.logDebug)("checkExpire: cache error"),t=!1}else(0,C.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(e),t=!1;return t}updateExpireLimit(e){(0,C.logDebug)(`update expire limit for topic: ${e}`);try{let t=this.getSessionContent(d.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE),r=new Map;t&&(r=new Map(Object.entries(t)));let n=Date.now()+u.OKXCONNECTOR_SESSION_LIVE_TTL;r.set(e,n),this.saveSessionContent(d.OKXCONNECTOR_STORAGE_TOPIC_WALLET_EXPIRE_CACHE,Object.fromEntries(r))}catch(e){(0,C.logDebug)("update cache failed")}}activateDisconnect(e){return a(this,void 0,void 0,function*(){let t=(0,w.safeJsonStringify)({requestId:"",method:l.CONNECT_METHOD_DISCONNECT}),r={messageId:"",message:(0,w.safeJsonStringify)({message:t}),topic:e,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(r)})}}t.WalletConnectionManager=O},53473:(e,t,r)=>{"use strict";r.d(t,{o:()=>h});var n=r(13933),i=r(4058),s=r(73168),o=r(34561);let a=new(r(20390)).A(8192);var c=r(37407),l=r(59350),d=r(95789);function h({key:e,methods:t,name:r,request:h,retryCount:u=3,retryDelay:p=150,timeout:f,type:g},m){return{config:{key:e,methods:t,name:r,request:h,retryCount:u,retryDelay:p,timeout:f,type:g},request:function(e,t={}){return async(r,d={})=>{let{dedupe:h=!1,methods:u,retryDelay:p=150,retryCount:f=3,uid:g}={...t,...d},{method:m}=r;if(u?.exclude?.includes(m)||u?.include&&!u.include.includes(m))throw new s.ab(Error("method not supported"),{method:m});let y=h?(0,o.i3)(`${g}.${(0,l.A)(r)}`):void 0;return function(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(a.get(r))return a.get(r);let n=e().finally(()=>a.delete(r));return a.set(r,n),n}(()=>(0,c.b)(async()=>{try{return await e(r)}catch(e){switch(e.code){case s.XU.code:throw new s.XU(e);case s.CL.code:throw new s.CL(e);case s.Gi.code:throw new s.Gi(e,{method:r.method});case s.D5.code:throw new s.D5(e);case s.bq.code:throw new s.bq(e);case s.Di.code:throw new s.Di(e);case s.hA.code:throw new s.hA(e);case s.qZ.code:throw new s.qZ(e);case s.YW.code:throw new s.YW(e);case s.ab.code:throw new s.ab(e,{method:r.method});case s.s0.code:throw new s.s0(e);case s.xQ.code:throw new s.xQ(e);case s.vx.code:throw new s.vx(e);case s.sV.code:throw new s.sV(e);case s.Sf.code:throw new s.Sf(e);case s.RV.code:throw new s.RV(e);case s.xq.code:throw new s.xq(e);case s.ch.code:throw new s.ch(e);case s.L5.code:throw new s.L5(e);case s.WT.code:throw new s.WT(e);case s.hl.code:throw new s.hl(e);case s.cg.code:throw new s.cg(e);case s.uL.code:throw new s.uL(e);case s.G1.code:throw new s.G1(e);case s.jz.code:throw new s.jz(e);case 5e3:throw new s.vx(e);default:if(e instanceof n.C)throw e;throw new s.MI(e)}}},{delay:({count:e,error:t})=>{if(t&&t instanceof i.Ci){let e=t?.headers?.get("Retry-After");if(e?.match(/\d/))return 1e3*Number.parseInt(e,10)}return~~(1<<e)*p},retryCount:f,shouldRetry:({error:e})=>{var t;return"code"in(t=e)&&"number"==typeof t.code?-1===t.code||t.code===s.s0.code||t.code===s.bq.code:!(t instanceof i.Ci)||!t.status||403===t.status||408===t.status||413===t.status||429===t.status||500===t.status||502===t.status||503===t.status||504===t.status||!1}}),{enabled:h,id:y})}}(h,{methods:t,retryCount:u,retryDelay:p,uid:(0,d.L)()}),value:m}}},53475:function(e,t,r){e.exports=function(e){var t=e.lib.WordArray,r=e.enc;function n(e){return e<<8&0xff00ff00|e>>>8&0xff00ff}return r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(s))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},r.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],s=0;s<r;s+=2){var o=n(t[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var r=e.length,i=[],s=0;s<r;s++)i[s>>>1]|=n(e.charCodeAt(s)<<16-s%2*16);return t.create(i,2*r)}},e.enc.Utf16}(r(16611))},53832:function(e,t,r){var n;n=r(16611),r(99229),n.pad.NoPadding={pad:function(){},unpad:function(){}},e.exports=n.pad.NoPadding},53985:function(e,t,r){var n,i,s,o,a,c,l,d;n=r(16611),r(92475),r(83247),s=(i=n.lib).Base,o=i.WordArray,c=(a=n.algo).SHA256,l=a.HMAC,d=a.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=l.create(r.hasher,e),i=o.create(),s=o.create([1]),a=i.words,c=s.words,d=r.keySize,h=r.iterations;a.length<d;){var u=n.update(t).finalize(s);n.reset();for(var p=u.words,f=p.length,g=u,m=1;m<h;m++){g=n.finalize(g),n.reset();for(var y=g.words,b=0;b<f;b++)p[b]^=y[b]}i.concat(u),c[0]++}return i.sigBytes=4*d,i}}),n.PBKDF2=function(e,t,r){return d.create(r).compute(e,t)},e.exports=n.PBKDF2},55283:(e,t,r)=>{"use strict";r.d(t,{R:()=>m});var n=r(13990),i=r(88737),s=r(73168),o=r(78140),a=r(53473);function c(e,t={}){let{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=l,retryCount:d,retryDelay:h}=t;return({chain:t,pollingInterval:c=4e3,timeout:l,...u})=>{let p=e,f=()=>{},g=(0,a.o)({key:r,name:n,async request({method:e,params:r}){let n,i=async(o=0)=>{let a=p[o]({...u,chain:t,retryCount:0,timeout:l});try{let t=await a.request({method:e,params:r});return f({method:e,params:r,response:t,transport:a,status:"success"}),t}catch(c){if(f({error:c,method:e,params:r,transport:a,status:"error"}),s(c)||o===p.length-1||!(n??=p.slice(o+1).some(r=>{let{include:n,exclude:i}=r({chain:t}).config.methods||{};return n?n.includes(e):!i||!i.includes(e)})))throw c;return i(o+1)}};return i()},retryCount:d,retryDelay:h,type:"fallback"},{onResponse:e=>f=e,transports:p.map(e=>e({chain:t,retryCount:0}))});if(i){let e="object"==typeof i?i:{};!function({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:a,weights:c={}}){let{stability:l=.7,latency:d=.3}=c,h=[],u=async()=>{let c=await Promise.all(a.map(async t=>{let r,i,o=t({chain:e,retryCount:0,timeout:s}),a=Date.now();try{await (n?n({transport:o}):o.request({method:"net_listening"})),i=1}catch{i=0}finally{r=Date.now()}return{latency:r-a,success:i}}));h.push(c),h.length>i&&h.shift();let p=Math.max(...h.map(e=>Math.max(...e.map(({latency:e})=>e))));r(a.map((e,t)=>{let r=h.map(e=>e[t].latency),n=r.reduce((e,t)=>e+t,0)/r.length,i=h.map(e=>e[t].success),s=i.reduce((e,t)=>e+t,0)/i.length;return 0===s?[0,t]:[d*(1-n/p)+l*s,t]}).sort((e,t)=>t[0]-e[0]).map(([,e])=>a[e])),await (0,o.u)(t),u()};u()}({chain:t,interval:e.interval??c,onTransports:e=>p=e,ping:e.ping,sampleCount:e.sampleCount,timeout:e.timeout,transports:p,weights:e.weights})}return g}}function l(e){return!!("code"in e&&"number"==typeof e.code&&(e.code===s.YW.code||e.code===s.vx.code||i.A7.nodeMessage.test(e.message)||5e3===e.code))}var d=r(45553),h=r(58653),u=r(93481),p=r(75578);function f(e,t){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()}let g=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],m={extendRpcUrlWithProjectId(e,t){let r=!1;try{r="rpc.walletconnect.org"===new URL(e).host}catch(e){r=!1}if(r){let r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork:e=>"chainNamespace"in e&&"caipNetworkId"in e,getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:d.o.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${d.o.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,r){let n=e.rpcUrls?.default?.http?.[0];return g.includes(t)?f(t,r):n||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){let i=this.getChainNamespace(e),s=this.getCaipNetworkId(e),o=e.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(e,s,r),c=e?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(e=>e.url)||[],d=[...l,...a?[a]:[]],h=[...l];return c&&!h.includes(c)&&h.push(c),{...e,chainNamespace:i,caipNetworkId:s,assets:{imageId:p.L.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:d},chainDefault:{http:h}}}},extendCaipNetworks:(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n})=>e.map(e=>m.extendCaipNetwork(e,{customNetworkImageUrls:t,customRpcUrls:n,projectId:r})),getViemTransport(e,t,r){let i=[];return r?.forEach(e=>{i.push((0,n.L)(e.url,e.config))}),g.includes(e.caipNetworkId)&&i.push((0,n.L)(f(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(e=>{i.push((0,n.L)(e))}),c(i)},extendWagmiTransports(e,t,r){if(g.includes(e.caipNetworkId)){let i=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return c([r,(0,n.L)(i)])}return r},getUnsupportedNetwork:e=>({id:e.split(":")[1],caipNetworkId:e,name:d.o.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}),getCaipNetworkFromStorage(e){let t=h.i.getActiveCaipNetworkId(),r=u.W.getAllRequestedCaipNetworks(),n=Array.from(u.W.state.chains?.keys()||[]),i=t?.split(":")[0],s=!!i&&n.includes(i),o=r?.find(e=>e.caipNetworkId===t);return s&&!o&&t?this.getUnsupportedNetwork(t):o||e||r?.[0]}}},55480:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(12661),i=r(98866),s=r(28977),o=r(12319);let a={getFeatureValue(e,t){let r=t?.[e];return void 0===r?s.oU.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(o.w.isTelegram()){if(o.w.isIos())return e.filter(e=>"google"!==e);if(o.w.isMac())return e.filter(e=>"x"!==e);if(o.w.isAndroid())return e.filter(e=>!["facebook","x"].includes(e))}return e}},c=(0,n.BX)({features:s.oU.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:s.oU.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),l={state:c,subscribeKey:(e,t)=>(0,i.u$)(c,e,t),setOptions(e){Object.assign(c,e)},setRemoteFeatures(e){if(!e)return;let t={...c.remoteFeatures,...e};c.remoteFeatures=t,c.remoteFeatures?.socials&&(c.remoteFeatures.socials=a.filterSocialsByPlatform(c.remoteFeatures.socials)),c.features?.pay&&(c.remoteFeatures.email=!1,c.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;c.features||(c.features=s.oU.DEFAULT_FEATURES);let t={...c.features,...e};c.features=t,c.features?.pay&&c.remoteFeatures&&(c.remoteFeatures.email=!1,c.remoteFeatures.socials=!1)},setProjectId(e){c.projectId=e},setCustomRpcUrls(e){c.customRpcUrls=e},setAllWallets(e){c.allWallets=e},setIncludeWalletIds(e){c.includeWalletIds=e},setExcludeWalletIds(e){c.excludeWalletIds=e},setFeaturedWalletIds(e){c.featuredWalletIds=e},setTokens(e){c.tokens=e},setTermsConditionsUrl(e){c.termsConditionsUrl=e},setPrivacyPolicyUrl(e){c.privacyPolicyUrl=e},setCustomWallets(e){c.customWallets=e},setIsSiweEnabled(e){c.isSiweEnabled=e},setIsUniversalProvider(e){c.isUniversalProvider=e},setSdkVersion(e){c.sdkVersion=e},setMetadata(e){c.metadata=e},setDisableAppend(e){c.disableAppend=e},setEIP6963Enabled(e){c.enableEIP6963=e},setDebug(e){c.debug=e},setEnableWalletConnect(e){c.enableWalletConnect=e},setEnableWalletGuide(e){c.enableWalletGuide=e},setEnableAuthLogger(e){c.enableAuthLogger=e},setEnableWallets(e){c.enableWallets=e},setPreferUniversalLinks(e){c.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,r]of Object.entries(s.oU.SIWX_DEFAULTS))e[t]??=r;c.siwx=e},setConnectMethodsOrder(e){c.features={...c.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){c.features={...c.features,walletFeaturesOrder:e}},setSocialsOrder(e){c.remoteFeatures={...c.remoteFeatures,socials:e}},setCollapseWallets(e){c.features={...c.features,collapseWallets:e}},setEnableEmbedded(e){c.enableEmbedded=e},setAllowUnsupportedChain(e){c.allowUnsupportedChain=e},setManualWCControl(e){c.manualWCControl=e},setEnableNetworkSwitch(e){c.enableNetworkSwitch=e},setEnableReconnect(e){c.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([e,t])=>{t&&(c.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(e){c.universalProviderConfigOverride=e},getUniversalProviderConfigOverride:()=>c.universalProviderConfigOverride,getSnapshot:()=>(0,n.P9)(c)}},55982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTOR_TYPE=t.STANDARD_INJECT_WALLET=t.OKX_TG_WALLET=t.OKX_APP_COMMON_WALLET=t.OKX_WALLET_APP_WALLET=t.OKX_APP_WALLET=t.OKX_INJECT_WALLET=void 0;let n=r(14903),i=r(32918);t.OKX_INJECT_WALLET=i.OKXInjectWalletName,t.OKX_APP_WALLET=n.OKXWalletName,t.OKX_WALLET_APP_WALLET=n.OKXWalletName,t.OKX_APP_COMMON_WALLET=n.OKXWalletName,t.OKX_TG_WALLET=i.OKXMiniWalletName,t.STANDARD_INJECT_WALLET="standard_inject_wallet",t.CONNECTOR_TYPE={NOT_INSTALLED:-1,WS:{OKX_APP_WALLET:100,OKX_TG_WALLET:110,OKX_WALLET_APP_WALLET:120,OKX_APP_COMMON:130},INJECT:{OKX_INJECT_WALLET:200,STANDARD_INJECT_WALLET:210},KEYLESS:{APPLE_WALLET:300,GOOGLE_WALLET:310}}},56362:(e,t,r)=>{"use strict";let n;r.d(t,{Y:()=>rw});var i,s,o,a,c=r(65103),l=r(45553),d=r(73537),h=r(17389);!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(i||(i={})),(s||(s={})).mergeShapes=(e,t)=>({...e,...t});let u=i.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),p=e=>{switch(typeof e){case"undefined":return u.undefined;case"string":return u.string;case"number":return isNaN(e)?u.nan:u.number;case"boolean":return u.boolean;case"function":return u.function;case"bigint":return u.bigint;case"symbol":return u.symbol;case"object":if(Array.isArray(e))return u.array;if(null===e)return u.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return u.promise;if("undefined"!=typeof Map&&e instanceof Map)return u.map;if("undefined"!=typeof Set&&e instanceof Set)return u.set;if("undefined"!=typeof Date&&e instanceof Date)return u.date;return u.object;default:return u.unknown}},f=i.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class g extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,i.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e);let m=(e,t)=>{let r;switch(e.code){case f.invalid_type:r=e.received===u.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case f.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,i.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:r=`Unrecognized key(s) in object: ${i.joinValues(e.keys,", ")}`;break;case f.invalid_union:r="Invalid input";break;case f.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${i.joinValues(e.options)}`;break;case f.invalid_enum_value:r=`Invalid enum value. Expected ${i.joinValues(e.options)}, received '${e.received}'`;break;case f.invalid_arguments:r="Invalid function arguments";break;case f.invalid_return_type:r="Invalid function return type";break;case f.invalid_date:r="Invalid date";break;case f.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:i.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case f.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case f.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case f.custom:r="Invalid input";break;case f.invalid_intersection_types:r="Intersection results could not be merged";break;case f.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case f.not_finite:r="Number must be finite";break;default:r=t.defaultError,i.assertNever(e)}return{message:r}},y=m;function b(){return y}let v=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s},a="";for(let e of n.filter(e=>!!e).slice().reverse())a=e(o,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}};function w(e,t){let r=v({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,b(),m].filter(e=>!!e)});e.common.issues.push(r)}class E{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return C;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t)r.push({key:await e.key,value:await e.value});return E.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return C;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let C=Object.freeze({status:"aborted"}),_=e=>({status:"dirty",value:e}),O=e=>({status:"valid",value:e}),x=e=>"aborted"===e.status,N=e=>"dirty"===e.status,A=e=>"valid"===e.status,S=e=>"undefined"!=typeof Promise&&e instanceof Promise;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(o||(o={}));class T{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let R=(e,t)=>{if(A(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new g(e.common.issues);return this._error=t,this._error}}};function I(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=r?r:t.defaultError},description:i}}class P{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return p(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new E,ctx:{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(S(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!=(r=null==t?void 0:t.async)&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},i=this._parseSync({data:e,path:n.path,parent:n});return R(n,i)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},n=this._parse({data:e,path:r.path,parent:r});return R(r,await (S(n)?n:Promise.resolve(n)))}refine(e,t){return this._refinement((r,n)=>{let i=e(r),s=()=>n.addIssue({code:f.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new em({schema:this,typeName:a.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ey.create(this,this._def)}nullable(){return eb.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Q.create(this,this._def)}promise(){return eg.create(this,this._def)}or(e){return et.create([this,e],this._def)}and(e){return ei.create(this,e,this._def)}transform(e){return new em({...I(this._def),schema:this,typeName:a.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ev({...I(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:a.ZodDefault})}brand(){return new e_({typeName:a.ZodBranded,type:this,...I(this._def)})}catch(e){return new ew({...I(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:a.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eO.create(this,e)}readonly(){return ex.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let k=/^c[^\s-]{8,}$/i,D=/^[a-z][a-z0-9]*$/,U=/^[0-9A-HJKMNP-TV-Z]{26}$/,M=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,j=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,B=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,W=e=>{if(e.precision)if(e.offset)return RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`);else return RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`);if(0===e.precision)if(e.offset)return RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$");else return RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$");return e.offset?RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")};class K extends P{_parse(e){let t;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==u.string){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.string,received:t.parsedType}),C}let r=new E;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("max"===a.kind)e.data.length>a.value&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if("length"===a.kind){let n=e.data.length>a.value,i=e.data.length<a.value;(n||i)&&(t=this._getOrReturnCtx(e,t),n?w(t,{code:f.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&w(t,{code:f.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if("email"===a.kind)L.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"email",code:f.invalid_string,message:a.message}),r.dirty());else if("emoji"===a.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"emoji",code:f.invalid_string,message:a.message}),r.dirty());else if("uuid"===a.kind)M.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"uuid",code:f.invalid_string,message:a.message}),r.dirty());else if("cuid"===a.kind)k.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"cuid",code:f.invalid_string,message:a.message}),r.dirty());else if("cuid2"===a.kind)D.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"cuid2",code:f.invalid_string,message:a.message}),r.dirty());else if("ulid"===a.kind)U.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"ulid",code:f.invalid_string,message:a.message}),r.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(n){w(t=this._getOrReturnCtx(e,t),{validation:"url",code:f.invalid_string,message:a.message}),r.dirty()}else if("regex"===a.kind)a.regex.lastIndex=0,a.regex.test(e.data)||(w(t=this._getOrReturnCtx(e,t),{validation:"regex",code:f.invalid_string,message:a.message}),r.dirty());else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(w(t=this._getOrReturnCtx(e,t),{code:f.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(w(t=this._getOrReturnCtx(e,t),{code:f.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(w(t=this._getOrReturnCtx(e,t),{code:f.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty());else if("datetime"===a.kind)W(a).test(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:f.invalid_string,validation:"datetime",message:a.message}),r.dirty());else if("ip"===a.kind){var s,o;s=e.data,!(("v4"===(o=a.version)||!o)&&j.test(s)||("v6"===o||!o)&&B.test(s))&&1&&(w(t=this._getOrReturnCtx(e,t),{validation:"ip",code:f.invalid_string,message:a.message}),r.dirty())}else i.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:f.invalid_string,...o.errToObj(r)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...o.errToObj(e)})}url(e){return this._addCheck({kind:"url",...o.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...o.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...o.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...o.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...o.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...o.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...o.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!=(t=null==e?void 0:e.offset)&&t,...o.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...o.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...o.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...o.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...o.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...o.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...o.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...o.errToObj(t)})}nonempty(e){return this.min(1,o.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:a.ZodString,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...I(e)})};class H extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==u.number){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.number,received:t.parsedType}),C}let r=new E;for(let n of this._def.checks)"int"===n.kind?i.isInteger(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:f.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,n.value)&&(w(t=this._getOrReturnCtx(e,t),{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(w(t=this._getOrReturnCtx(e,t),{code:f.not_finite,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,n){return new H({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(n)}]})}_addCheck(e){return new H({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:o.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:o.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:o.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:o.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&i.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}H.create=e=>new H({checks:[],typeName:a.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...I(e)});class F extends P{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==u.bigint){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.bigint,received:t.parsedType}),C}let r=new E;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(w(t=this._getOrReturnCtx(e,t),{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):i.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,o.toString(t))}gt(e,t){return this.setLimit("min",e,!1,o.toString(t))}lte(e,t){return this.setLimit("max",e,!0,o.toString(t))}lt(e,t){return this.setLimit("max",e,!1,o.toString(t))}setLimit(e,t,r,n){return new F({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:o.toString(n)}]})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:o.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:o.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:o.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:o.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:o.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}F.create=e=>{var t;return new F({checks:[],typeName:a.ZodBigInt,coerce:null!=(t=null==e?void 0:e.coerce)&&t,...I(e)})};class q extends P{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==u.boolean){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.boolean,received:t.parsedType}),C}return O(e.data)}}q.create=e=>new q({typeName:a.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...I(e)});class X extends P{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==u.date){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.date,received:t.parsedType}),C}if(isNaN(e.data.getTime()))return w(this._getOrReturnCtx(e),{code:f.invalid_date}),C;let r=new E;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(w(t=this._getOrReturnCtx(e,t),{code:f.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):i.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:o.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:o.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}X.create=e=>new X({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:a.ZodDate,...I(e)});class V extends P{_parse(e){if(this._getType(e)!==u.symbol){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.symbol,received:t.parsedType}),C}return O(e.data)}}V.create=e=>new V({typeName:a.ZodSymbol,...I(e)});class z extends P{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.undefined,received:t.parsedType}),C}return O(e.data)}}z.create=e=>new z({typeName:a.ZodUndefined,...I(e)});class $ extends P{_parse(e){if(this._getType(e)!==u.null){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.null,received:t.parsedType}),C}return O(e.data)}}$.create=e=>new $({typeName:a.ZodNull,...I(e)});class G extends P{constructor(){super(...arguments),this._any=!0}_parse(e){return O(e.data)}}G.create=e=>new G({typeName:a.ZodAny,...I(e)});class J extends P{constructor(){super(...arguments),this._unknown=!0}_parse(e){return O(e.data)}}J.create=e=>new J({typeName:a.ZodUnknown,...I(e)});class Z extends P{_parse(e){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.never,received:t.parsedType}),C}}Z.create=e=>new Z({typeName:a.ZodNever,...I(e)});class Y extends P{_parse(e){if(this._getType(e)!==u.undefined){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.void,received:t.parsedType}),C}return O(e.data)}}Y.create=e=>new Y({typeName:a.ZodVoid,...I(e)});class Q extends P{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==u.array)return w(t,{code:f.invalid_type,expected:u.array,received:t.parsedType}),C;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(w(t,{code:e?f.too_big:f.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(w(t,{code:f.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(w(t,{code:f.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new T(t,e,t.path,r)))).then(e=>E.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new T(t,e,t.path,r)));return E.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new Q({...this._def,minLength:{value:e,message:o.toString(t)}})}max(e,t){return new Q({...this._def,maxLength:{value:e,message:o.toString(t)}})}length(e,t){return new Q({...this._def,exactLength:{value:e,message:o.toString(t)}})}nonempty(e){return this.min(1,e)}}Q.create=(e,t)=>new Q({type:e,minLength:null,maxLength:null,exactLength:null,typeName:a.ZodArray,...I(t)});class ee extends P{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=i.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==u.object){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.object,received:t.parsedType}),C}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Z&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let o=[];for(let e of i){let t=n[e],i=r.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new T(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof Z){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)o.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(w(r,{code:f.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new T(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e}).then(e=>E.mergeObjectSync(t,e)):E.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return o.errToObj,new ee({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,s,a;let c=null!=(s=null==(i=(n=this._def).errorMap)?void 0:i.call(n,t,r).message)?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!=(a=o.errToObj(e).message)?a:c}:{message:c}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:a.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){let t={};return i.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new ee({...this._def,shape:()=>t})}omit(e){let t={};return i.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new ee({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ee){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=ey.create(e(i))}return new ee({...t._def,shape:()=>r})}if(t instanceof Q)return new Q({...t._def,type:e(t.element)});if(t instanceof ey)return ey.create(e(t.unwrap()));if(t instanceof eb)return eb.create(e(t.unwrap()));if(t instanceof es)return es.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};return i.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new ee({...this._def,shape:()=>t})}required(e){let t={};return i.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ey;)e=e._def.innerType;t[r]=e}}),new ee({...this._def,shape:()=>t})}keyof(){return eu(i.objectKeys(this.shape))}}ee.create=(e,t)=>new ee({shape:()=>e,unknownKeys:"strip",catchall:Z.create(),typeName:a.ZodObject,...I(t)}),ee.strictCreate=(e,t)=>new ee({shape:()=>e,unknownKeys:"strict",catchall:Z.create(),typeName:a.ZodObject,...I(t)}),ee.lazycreate=(e,t)=>new ee({shape:e,unknownKeys:"strip",catchall:Z.create(),typeName:a.ZodObject,...I(t)});class et extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new g(e.ctx.common.issues));return w(t,{code:f.invalid_union,unionErrors:r}),C});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new g(e));return w(t,{code:f.invalid_union,unionErrors:i}),C}}get options(){return this._def.options}}et.create=(e,t)=>new et({options:e,typeName:a.ZodUnion,...I(t)});let er=e=>{if(e instanceof ed)return er(e.schema);if(e instanceof em)return er(e.innerType());if(e instanceof eh)return[e.value];if(e instanceof ep)return e.options;if(e instanceof ef)return Object.keys(e.enum);else if(e instanceof ev)return er(e._def.innerType);else if(e instanceof z)return[void 0];else if(e instanceof $)return[null];else return null};class en extends P{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.object)return w(t,{code:f.invalid_type,expected:u.object,received:t.parsedType}),C;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(w(t,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=er(r.shape[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new en({typeName:a.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...I(r)})}}class ei extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(x(e)||x(n))return C;let s=function e(t,r){let n=p(t),s=p(r);if(t===r)return{valid:!0,data:t};if(n===u.object&&s===u.object){let n=i.objectKeys(r),s=i.objectKeys(t).filter(e=>-1!==n.indexOf(e)),o={...t,...r};for(let n of s){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};o[n]=i.data}return{valid:!0,data:o}}if(n===u.array&&s===u.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}if(n===u.date&&s===u.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,n.value);return s.valid?((N(e)||N(n))&&t.dirty(),{status:t.value,value:s.data}):(w(r,{code:f.invalid_intersection_types}),C)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ei.create=(e,t,r)=>new ei({left:e,right:t,typeName:a.ZodIntersection,...I(r)});class es extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.array)return w(r,{code:f.invalid_type,expected:u.array,received:r.parsedType}),C;if(r.data.length<this._def.items.length)return w(r,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&r.data.length>this._def.items.length&&(w(r,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new T(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>E.mergeArray(t,e)):E.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new es({...this._def,rest:e})}}es.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new es({items:e,typeName:a.ZodTuple,rest:null,...I(t)})};class eo extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.object)return w(r,{code:f.invalid_type,expected:u.object,received:r.parsedType}),C;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new T(r,e,r.path,e)),value:s._parse(new T(r,r.data[e],r.path,e))});return r.common.async?E.mergeObjectAsync(t,n):E.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eo(t instanceof P?{keyType:e,valueType:t,typeName:a.ZodRecord,...I(r)}:{keyType:K.create(),valueType:e,typeName:a.ZodRecord,...I(t)})}}class ea extends P{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.map)return w(r,{code:f.invalid_type,expected:u.map,received:r.parsedType}),C;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new T(r,e,r.path,[s,"key"])),value:i._parse(new T(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return C;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return C;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}ea.create=(e,t,r)=>new ea({valueType:t,keyType:e,typeName:a.ZodMap,...I(r)});class ec extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==u.set)return w(r,{code:f.invalid_type,expected:u.set,received:r.parsedType}),C;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(w(r,{code:f.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(w(r,{code:f.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return C;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let o=[...r.data.values()].map((e,t)=>i._parse(new T(r,e,r.path,t)));return r.common.async?Promise.all(o).then(e=>s(e)):s(o)}min(e,t){return new ec({...this._def,minSize:{value:e,message:o.toString(t)}})}max(e,t){return new ec({...this._def,maxSize:{value:e,message:o.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ec.create=(e,t)=>new ec({valueType:e,minSize:null,maxSize:null,typeName:a.ZodSet,...I(t)});class el extends P{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==u.function)return w(t,{code:f.invalid_type,expected:u.function,received:t.parsedType}),C;function r(e,r){return v({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),m].filter(e=>!!e),issueData:{code:f.invalid_arguments,argumentsError:r}})}function n(e,r){return v({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,b(),m].filter(e=>!!e),issueData:{code:f.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof eg){let e=this;return O(async function(...t){let o=new g([]),a=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(r(t,e)),o}),c=await Reflect.apply(s,this,a);return await e._def.returns._def.type.parseAsync(c,i).catch(e=>{throw o.addIssue(n(c,e)),o})})}{let e=this;return O(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new g([r(t,o.error)]);let a=Reflect.apply(s,this,o.data),c=e._def.returns.safeParse(a,i);if(!c.success)throw new g([n(a,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new el({...this._def,args:es.create(e).rest(J.create())})}returns(e){return new el({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new el({args:e||es.create([]).rest(J.create()),returns:t||J.create(),typeName:a.ZodFunction,...I(r)})}}class ed extends P{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ed.create=(e,t)=>new ed({getter:e,typeName:a.ZodLazy,...I(t)});class eh extends P{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return w(t,{received:t.data,code:f.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}function eu(e,t){return new ep({values:e,typeName:a.ZodEnum,...I(t)})}eh.create=(e,t)=>new eh({value:e,typeName:a.ZodLiteral,...I(t)});class ep extends P{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return w(t,{expected:i.joinValues(r),received:t.parsedType,code:f.invalid_type}),C}if(-1===this._def.values.indexOf(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return w(t,{received:t.data,code:f.invalid_enum_value,options:r}),C}return O(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return ep.create(e)}exclude(e){return ep.create(this.options.filter(t=>!e.includes(t)))}}ep.create=eu;class ef extends P{_parse(e){let t=i.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==u.string&&r.parsedType!==u.number){let e=i.objectValues(t);return w(r,{expected:i.joinValues(e),received:r.parsedType,code:f.invalid_type}),C}if(-1===t.indexOf(e.data)){let e=i.objectValues(t);return w(r,{received:r.data,code:f.invalid_enum_value,options:e}),C}return O(e.data)}get enum(){return this._def.values}}ef.create=(e,t)=>new ef({values:e,typeName:a.ZodNativeEnum,...I(t)});class eg extends P{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==u.promise&&!1===t.common.async?(w(t,{code:f.invalid_type,expected:u.promise,received:t.parsedType}),C):O((t.parsedType===u.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eg.create=(e,t)=>new eg({type:e,typeName:a.ZodPromise,...I(t)});class em extends P{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===a.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:e=>{w(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===n.type){let e=n.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(e).then(e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r})):this._def.schema._parseSync({data:e,path:r.path,parent:r})}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?C:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?C:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>A(e)?Promise.resolve(n.transform(e.value,s)).then(e=>({status:t.value,value:e})):e);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!A(e))return e;let i=n.transform(e.value,s);if(i instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}i.assertNever(n)}}em.create=(e,t,r)=>new em({schema:e,typeName:a.ZodEffects,effect:t,...I(r)}),em.createWithPreprocess=(e,t,r)=>new em({schema:t,effect:{type:"preprocess",transform:e},typeName:a.ZodEffects,...I(r)});class ey extends P{_parse(e){return this._getType(e)===u.undefined?O(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ey.create=(e,t)=>new ey({innerType:e,typeName:a.ZodOptional,...I(t)});class eb extends P{_parse(e){return this._getType(e)===u.null?O(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eb.create=(e,t)=>new eb({innerType:e,typeName:a.ZodNullable,...I(t)});class ev extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===u.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:a.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...I(t)});class ew extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return S(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new g(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:a.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...I(t)});class eE extends P{_parse(e){if(this._getType(e)!==u.nan){let t=this._getOrReturnCtx(e);return w(t,{code:f.invalid_type,expected:u.nan,received:t.parsedType}),C}return{status:"valid",value:e.data}}}eE.create=e=>new eE({typeName:a.ZodNaN,...I(e)});let eC=Symbol("zod_brand");class e_ extends P{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class eO extends P{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?C:"dirty"===e.status?(t.dirty(),_(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?C:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new eO({in:e,out:t,typeName:a.ZodPipeline})}}class ex extends P{_parse(e){let t=this._def.innerType._parse(e);return A(t)&&(t.value=Object.freeze(t.value)),t}}ex.create=(e,t)=>new ex({innerType:e,typeName:a.ZodReadonly,...I(t)});let eN=(e,t={},r)=>e?G.create().superRefine((n,i)=>{var s,o;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,a=null==(o=null!=(s=e.fatal)?s:r)||o,c="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...c,fatal:a})}}):G.create(),eA={object:ee.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(a||(a={}));let eS=K.create,eT=H.create,eR=eE.create,eI=F.create,eP=q.create,ek=X.create,eD=V.create,eU=z.create,eM=$.create,eL=G.create,ej=J.create,eB=Z.create,eW=Y.create,eK=Q.create,eH=ee.create,eF=ee.strictCreate,eq=et.create,eX=en.create,eV=ei.create,ez=es.create,e$=eo.create,eG=ea.create,eJ=ec.create,eZ=el.create,eY=ed.create,eQ=eh.create,e0=ep.create,e1=ef.create,e2=eg.create,e5=em.create,e6=ey.create,e3=eb.create,e4=em.createWithPreprocess,e8=eO.create;var e9=Object.freeze({__proto__:null,defaultErrorMap:m,setErrorMap:function(e){y=e},getErrorMap:b,makeIssue:v,EMPTY_PATH:[],addIssueToContext:w,ParseStatus:E,INVALID:C,DIRTY:_,OK:O,isAborted:x,isDirty:N,isValid:A,isAsync:S,get util(){return i},get objectUtil(){return s},ZodParsedType:u,getParsedType:p,ZodType:P,ZodString:K,ZodNumber:H,ZodBigInt:F,ZodBoolean:q,ZodDate:X,ZodSymbol:V,ZodUndefined:z,ZodNull:$,ZodAny:G,ZodUnknown:J,ZodNever:Z,ZodVoid:Y,ZodArray:Q,ZodObject:ee,ZodUnion:et,ZodDiscriminatedUnion:en,ZodIntersection:ei,ZodTuple:es,ZodRecord:eo,ZodMap:ea,ZodSet:ec,ZodFunction:el,ZodLazy:ed,ZodLiteral:eh,ZodEnum:ep,ZodNativeEnum:ef,ZodPromise:eg,ZodEffects:em,ZodTransformer:em,ZodOptional:ey,ZodNullable:eb,ZodDefault:ev,ZodCatch:ew,ZodNaN:eE,BRAND:eC,ZodBranded:e_,ZodPipeline:eO,ZodReadonly:ex,custom:eN,Schema:P,ZodSchema:P,late:eA,get ZodFirstPartyTypeKind(){return a},coerce:{string:e=>K.create({...e,coerce:!0}),number:e=>H.create({...e,coerce:!0}),boolean:e=>q.create({...e,coerce:!0}),bigint:e=>F.create({...e,coerce:!0}),date:e=>X.create({...e,coerce:!0})},any:eL,array:eK,bigint:eI,boolean:eP,date:ek,discriminatedUnion:eX,effect:e5,enum:e0,function:eZ,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>eN(t=>t instanceof e,t),intersection:eV,lazy:eY,literal:eQ,map:eG,nan:eR,nativeEnum:e1,never:eB,null:eM,nullable:e3,number:eT,object:eH,oboolean:()=>eP().optional(),onumber:()=>eT().optional(),optional:e6,ostring:()=>eS().optional(),pipeline:e8,preprocess:e4,promise:e2,record:e$,set:eJ,strictObject:eF,string:eS,symbol:eD,transformer:e5,tuple:ez,undefined:eU,union:eq,unknown:ej,void:eW,NEVER:C,ZodIssueCode:f,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:g});let e7=e9.object({message:e9.string()});function te(e){return e9.literal(d.s1[e])}let tt=e9.object({serializedMessage:e9.string().optional(),accountAddress:e9.string(),chainId:e9.string(),notBefore:e9.string().optional(),domain:e9.string(),uri:e9.string(),version:e9.string(),nonce:e9.string(),statement:e9.string().optional(),resources:e9.array(e9.string()).optional(),requestId:e9.string().optional(),issuedAt:e9.string().optional(),expirationTime:e9.string().optional()});e9.object({accessList:e9.array(e9.string()),blockHash:e9.string().nullable(),blockNumber:e9.string().nullable(),chainId:e9.string().or(e9.number()),from:e9.string(),gas:e9.string(),hash:e9.string(),input:e9.string().nullable(),maxFeePerGas:e9.string(),maxPriorityFeePerGas:e9.string(),nonce:e9.string(),r:e9.string(),s:e9.string(),to:e9.string(),transactionIndex:e9.string().nullable(),type:e9.string(),v:e9.string(),value:e9.string()});let tr=e9.object({chainId:e9.string().or(e9.number()),rpcUrl:e9.optional(e9.string())}),tn=e9.object({email:e9.string().email()}),ti=e9.object({otp:e9.string()}),ts=e9.object({uri:e9.string(),preferredAccountType:e9.optional(e9.string()),chainId:e9.optional(e9.string().or(e9.number())),siwxMessage:e9.optional(tt),rpcUrl:e9.optional(e9.string())}),to=e9.object({chainId:e9.optional(e9.string().or(e9.number())),preferredAccountType:e9.optional(e9.string()),socialUri:e9.optional(e9.string()),siwxMessage:e9.optional(tt),rpcUrl:e9.optional(e9.string())}),ta=e9.object({provider:e9.enum(["google","github","apple","facebook","x","discord"])}),tc=e9.object({email:e9.string().email()}),tl=e9.object({otp:e9.string()}),td=e9.object({otp:e9.string()}),th=e9.object({themeMode:e9.optional(e9.enum(["light","dark"])),themeVariables:e9.optional(e9.record(e9.string(),e9.string().or(e9.number()))),w3mThemeVariables:e9.optional(e9.record(e9.string(),e9.string()))}),tu=e9.object({metadata:e9.object({name:e9.string(),description:e9.string(),url:e9.string(),icons:e9.array(e9.string())}).optional(),sdkVersion:e9.string().optional(),sdkType:e9.string().optional(),projectId:e9.string()}),tp=e9.object({type:e9.string()}),tf=e9.object({action:e9.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),tg=e9.object({url:e9.string()}),tm=e9.object({userName:e9.string()}),ty=e9.object({email:e9.string().optional().nullable(),address:e9.string(),chainId:e9.string().or(e9.number()),accounts:e9.array(e9.object({address:e9.string(),type:e9.enum([d.Vl.ACCOUNT_TYPES.EOA,d.Vl.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:e9.string().optional().nullable(),preferredAccountType:e9.optional(e9.string()),signature:e9.string().optional(),message:e9.string().optional(),siwxMessage:e9.optional(tt)}),tb=e9.object({action:e9.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),tv=e9.object({email:e9.string().email().optional().nullable(),address:e9.string(),chainId:e9.string().or(e9.number()),smartAccountDeployed:e9.optional(e9.boolean()),accounts:e9.array(e9.object({address:e9.string(),type:e9.enum([d.Vl.ACCOUNT_TYPES.EOA,d.Vl.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:e9.optional(e9.string()),signature:e9.string().optional(),message:e9.string().optional(),siwxMessage:e9.optional(tt)}),tw=e9.object({uri:e9.string()}),tE=e9.object({isConnected:e9.boolean()}),tC=e9.object({chainId:e9.string().or(e9.number())}),t_=e9.object({chainId:e9.string().or(e9.number())}),tO=e9.object({newEmail:e9.string().email()}),tx=e9.object({smartAccountEnabledNetworks:e9.array(e9.number())});e9.object({address:e9.string(),isDeployed:e9.boolean()});let tN=e9.object({version:e9.string().optional()}),tA=e9.object({type:e9.string(),address:e9.string()}),tS=e9.any(),tT=e9.object({method:e9.literal("eth_accounts")}),tR=e9.object({method:e9.literal("eth_blockNumber")}),tI=e9.object({method:e9.literal("eth_call"),params:e9.array(e9.any())}),tP=e9.object({method:e9.literal("eth_chainId")}),tk=e9.object({method:e9.literal("eth_estimateGas"),params:e9.array(e9.any())}),tD=e9.object({method:e9.literal("eth_feeHistory"),params:e9.array(e9.any())}),tU=e9.object({method:e9.literal("eth_gasPrice")}),tM=e9.object({method:e9.literal("eth_getAccount"),params:e9.array(e9.any())}),tL=e9.object({method:e9.literal("eth_getBalance"),params:e9.array(e9.any())}),tj=e9.object({method:e9.literal("eth_getBlockByHash"),params:e9.array(e9.any())}),tB=e9.object({method:e9.literal("eth_getBlockByNumber"),params:e9.array(e9.any())}),tW=e9.object({method:e9.literal("eth_getBlockReceipts"),params:e9.array(e9.any())}),tK=e9.object({method:e9.literal("eth_getBlockTransactionCountByHash"),params:e9.array(e9.any())}),tH=e9.object({method:e9.literal("eth_getBlockTransactionCountByNumber"),params:e9.array(e9.any())}),tF=e9.object({method:e9.literal("eth_getCode"),params:e9.array(e9.any())}),tq=e9.object({method:e9.literal("eth_getFilterChanges"),params:e9.array(e9.any())}),tX=e9.object({method:e9.literal("eth_getFilterLogs"),params:e9.array(e9.any())}),tV=e9.object({method:e9.literal("eth_getLogs"),params:e9.array(e9.any())}),tz=e9.object({method:e9.literal("eth_getProof"),params:e9.array(e9.any())}),t$=e9.object({method:e9.literal("eth_getStorageAt"),params:e9.array(e9.any())}),tG=e9.object({method:e9.literal("eth_getTransactionByBlockHashAndIndex"),params:e9.array(e9.any())}),tJ=e9.object({method:e9.literal("eth_getTransactionByBlockNumberAndIndex"),params:e9.array(e9.any())}),tZ=e9.object({method:e9.literal("eth_getTransactionByHash"),params:e9.array(e9.any())}),tY=e9.object({method:e9.literal("eth_getTransactionCount"),params:e9.array(e9.any())}),tQ=e9.object({method:e9.literal("eth_getTransactionReceipt"),params:e9.array(e9.any())}),t0=e9.object({method:e9.literal("eth_getUncleCountByBlockHash"),params:e9.array(e9.any())}),t1=e9.object({method:e9.literal("eth_getUncleCountByBlockNumber"),params:e9.array(e9.any())}),t2=e9.object({method:e9.literal("eth_maxPriorityFeePerGas")}),t5=e9.object({method:e9.literal("eth_newBlockFilter")}),t6=e9.object({method:e9.literal("eth_newFilter"),params:e9.array(e9.any())}),t3=e9.object({method:e9.literal("eth_newPendingTransactionFilter")}),t4=e9.object({method:e9.literal("eth_sendRawTransaction"),params:e9.array(e9.any())}),t8=e9.object({method:e9.literal("eth_syncing"),params:e9.array(e9.any())}),t9=e9.object({method:e9.literal("eth_uninstallFilter"),params:e9.array(e9.any())}),t7=e9.object({method:e9.literal("personal_sign"),params:e9.array(e9.any())}),re=e9.object({method:e9.literal("eth_signTypedData_v4"),params:e9.array(e9.any())}),rt=e9.object({method:e9.literal("eth_sendTransaction"),params:e9.array(e9.any())}),rr=e9.object({method:e9.literal("solana_signMessage"),params:e9.object({message:e9.string(),pubkey:e9.string()})}),rn=e9.object({method:e9.literal("solana_signTransaction"),params:e9.object({transaction:e9.string()})}),ri=e9.object({method:e9.literal("solana_signAllTransactions"),params:e9.object({transactions:e9.array(e9.string())})}),rs=e9.object({method:e9.literal("solana_signAndSendTransaction"),params:e9.object({transaction:e9.string(),options:e9.object({skipPreflight:e9.boolean().optional(),preflightCommitment:e9.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:e9.number().optional(),minContextSlot:e9.number().optional()}).optional()})}),ro=e9.object({method:e9.literal("wallet_sendCalls"),params:e9.array(e9.object({chainId:e9.string().or(e9.number()).optional(),from:e9.string().optional(),version:e9.string().optional(),capabilities:e9.any().optional(),calls:e9.array(e9.object({to:e9.string().startsWith("0x"),data:e9.string().startsWith("0x").optional(),value:e9.string().optional()}))}))}),ra=e9.object({method:e9.literal("wallet_getCallsStatus"),params:e9.array(e9.string())}),rc=e9.object({method:e9.literal("wallet_getCapabilities"),params:e9.array(e9.string().or(e9.number()).optional()).optional()}),rl=e9.object({method:e9.literal("wallet_grantPermissions"),params:e9.array(e9.any())}),rd=e9.object({method:e9.literal("wallet_revokePermissions"),params:e9.any()}),rh=e9.object({method:e9.literal("wallet_getAssets"),params:e9.any()}),ru=e9.object({token:e9.string()}),rp=e9.object({id:e9.string().optional()}),rf={appEvent:rp.extend({type:te("APP_SWITCH_NETWORK"),payload:tr}).or(rp.extend({type:te("APP_CONNECT_EMAIL"),payload:tn})).or(rp.extend({type:te("APP_CONNECT_DEVICE")})).or(rp.extend({type:te("APP_CONNECT_OTP"),payload:ti})).or(rp.extend({type:te("APP_CONNECT_SOCIAL"),payload:ts})).or(rp.extend({type:te("APP_GET_FARCASTER_URI")})).or(rp.extend({type:te("APP_CONNECT_FARCASTER")})).or(rp.extend({type:te("APP_GET_USER"),payload:e9.optional(to)})).or(rp.extend({type:te("APP_GET_SOCIAL_REDIRECT_URI"),payload:ta})).or(rp.extend({type:te("APP_SIGN_OUT")})).or(rp.extend({type:te("APP_IS_CONNECTED"),payload:e9.optional(ru)})).or(rp.extend({type:te("APP_GET_CHAIN_ID")})).or(rp.extend({type:te("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(rp.extend({type:te("APP_INIT_SMART_ACCOUNT")})).or(rp.extend({type:te("APP_SET_PREFERRED_ACCOUNT"),payload:tp})).or(rp.extend({type:te("APP_RPC_REQUEST"),payload:t7.or(rh).or(tT).or(tR).or(tI).or(tP).or(tk).or(tD).or(tU).or(tM).or(tL).or(tj).or(tB).or(tW).or(tK).or(tH).or(tF).or(tq).or(tX).or(tV).or(tz).or(t$).or(tG).or(tJ).or(tZ).or(tY).or(tQ).or(t0).or(t1).or(t2).or(t5).or(t6).or(t3).or(t4).or(t8).or(t9).or(t7).or(re).or(rt).or(rr).or(rn).or(ri).or(rs).or(ra).or(ro).or(rc).or(rl).or(rd).and(e9.object({chainId:e9.string().or(e9.number()).optional(),chainNamespace:e9.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:e9.string().optional()}))})).or(rp.extend({type:te("APP_UPDATE_EMAIL"),payload:tc})).or(rp.extend({type:te("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:tl})).or(rp.extend({type:te("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:td})).or(rp.extend({type:te("APP_SYNC_THEME"),payload:th})).or(rp.extend({type:te("APP_SYNC_DAPP_DATA"),payload:tu})).or(rp.extend({type:te("APP_RELOAD")})).or(rp.extend({type:te("APP_RPC_ABORT")})),frameEvent:rp.extend({type:te("FRAME_SWITCH_NETWORK_ERROR"),payload:e7}).or(rp.extend({type:te("FRAME_SWITCH_NETWORK_SUCCESS"),payload:t_})).or(rp.extend({type:te("FRAME_CONNECT_EMAIL_SUCCESS"),payload:tf})).or(rp.extend({type:te("FRAME_CONNECT_EMAIL_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:tg})).or(rp.extend({type:te("FRAME_GET_FARCASTER_URI_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:tm})).or(rp.extend({type:te("FRAME_CONNECT_FARCASTER_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_CONNECT_OTP_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_CONNECT_OTP_SUCCESS")})).or(rp.extend({type:te("FRAME_CONNECT_DEVICE_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_CONNECT_DEVICE_SUCCESS")})).or(rp.extend({type:te("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:ty})).or(rp.extend({type:te("FRAME_CONNECT_SOCIAL_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_GET_USER_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_GET_USER_SUCCESS"),payload:tv})).or(rp.extend({type:te("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:tw})).or(rp.extend({type:te("FRAME_SIGN_OUT_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_SIGN_OUT_SUCCESS")})).or(rp.extend({type:te("FRAME_IS_CONNECTED_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_IS_CONNECTED_SUCCESS"),payload:tE})).or(rp.extend({type:te("FRAME_GET_CHAIN_ID_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_GET_CHAIN_ID_SUCCESS"),payload:tC})).or(rp.extend({type:te("FRAME_RPC_REQUEST_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_RPC_REQUEST_SUCCESS"),payload:tS})).or(rp.extend({type:te("FRAME_SESSION_UPDATE"),payload:ru})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_SUCCESS"),payload:tb})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:tO})).or(rp.extend({type:te("FRAME_SYNC_THEME_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_SYNC_THEME_SUCCESS")})).or(rp.extend({type:te("FRAME_SYNC_DAPP_DATA_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(rp.extend({type:te("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:tx})).or(rp.extend({type:te("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:tA})).or(rp.extend({type:te("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_READY"),payload:tN})).or(rp.extend({type:te("FRAME_RELOAD_ERROR"),payload:e7})).or(rp.extend({type:te("FRAME_RELOAD_SUCCESS")}))};function rg(e,t={}){return"string"==typeof t?.type&&t?.type?.includes(e)}class rm{constructor({projectId:e,isAppClient:t=!1,chainId:r="eip155:1",enableLogger:n=!0,enableCloudAuthAccount:i=!1,rpcUrl:s=l.o.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{let e=document.getElementById("w3m-iframe");this.iframe&&!e&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(e,t,r)=>{function n({data:r}){if(!rg(d.s1.FRAME_EVENT_KEY,r))return;let i=rf.frameEvent.safeParse(r);if(!i.success)return void console.warn("W3mFrame: invalid frame event",i.error.message);i.data?.id===e&&(t(i.data),window.removeEventListener("message",n))}h.Q.isClient&&(window.addEventListener("message",n),r.addEventListener("abort",()=>{window.removeEventListener("message",n)}))},onFrameEvent:e=>{h.Q.isClient&&window.addEventListener("message",({data:t})=>{if(!rg(d.s1.FRAME_EVENT_KEY,t))return;let r=rf.frameEvent.safeParse(t);r.success?e(r.data):console.warn("W3mFrame: invalid frame event",r.error.message)})},onAppEvent:e=>{h.Q.isClient&&window.addEventListener("message",({data:t})=>{if(!rg(d.s1.APP_EVENT_KEY,t))return;let r=rf.appEvent.safeParse(t);r.success||console.warn("W3mFrame: invalid app event",r.error.message),e(t)})},postAppEvent:e=>{if(h.Q.isClient){if(!this.iframe?.contentWindow)throw Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(e,"*")}},postFrameEvent:e=>{if(h.Q.isClient){if(!parent)throw Error("W3mFrame: parent is not set");parent.postMessage(e,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),this.rpcUrl=s,t&&(this.frameLoadPromise=new Promise((e,t)=>{this.frameLoadPromiseResolver={resolve:e,reject:t}}),h.Q.isClient)){let t=document.createElement("iframe");t.id="w3m-iframe",t.src=function({projectId:e,chainId:t,enableLogger:r,rpcUrl:n=l.o.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){let s=new URL(d.hy);return s.searchParams.set("projectId",e),s.searchParams.set("chainId",String(t)),s.searchParams.set("version",d.gS),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}({projectId:e,chainId:r,enableLogger:n,rpcUrl:this.rpcUrl,enableCloudAuthAccount:i}),t.name="w3m-secure-iframe",t.style.position="fixed",t.style.zIndex="999999",t.style.display="none",t.style.border="none",t.style.animationDelay="0s, 50ms",t.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",t.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=t,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(e=>{"@w3m-frame/READY"===e.type&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){return Object.assign({},...["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(e=>({[e]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${e}&projectId=${this.projectId}`,chainId:e}})))}}var ry=r(71018);class rb{constructor(e){let t=(0,ry.iP)({level:d.OH}),{logger:r,chunkLoggerController:n}=(0,ry.D5)({opts:t});this.logger=(0,ry.U5)(r,this.constructor.name),this.chunkLoggerController=n,"undefined"!=typeof window&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}var rv=r(22669);class rw{constructor({projectId:e,chainId:t,enableLogger:r=!0,onTimeout:n,abortController:i,getActiveCaipNetwork:s,getCaipNetworks:o,enableCloudAuthAccount:a}){this.openRpcRequests=new Map,this.isInitialized=!1,r&&(this.w3mLogger=new rb(e)),this.abortController=i,this.getActiveCaipNetwork=s,this.getCaipNetworks=o;let c=this.getRpcUrl(t);this.w3mFrame=new rm({projectId:e,isAppClient:!0,chainId:t,enableLogger:r,rpcUrl:c,enableCloudAuthAccount:a}),this.onTimeout=n,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise)return void await this.initPromise;await this.createFrame()}}getLoginEmailUsed(){return!!rv.o.get(d.s1.EMAIL_LOGIN_USED_KEY)}getEmail(){return rv.o.get(d.s1.EMAIL)}getUsername(){return rv.o.get(d.s1.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:d.s1.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{h.Q.checkIfAllowedToTriggerEmail(),await this.init();let t=await this.appEvent({type:d.s1.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting email"),e}}async connectDevice(){try{return this.appEvent({type:d.s1.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:d.s1.APP_CONNECT_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting otp"),e}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};let e=await this.appEvent({type:d.s1.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{let e=await this.appEvent({type:d.s1.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:d.s1.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting social redirect uri"),e}}async updateEmail(e){try{let t=await this.appEvent({type:d.s1.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email"),e}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:d.s1.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email primary otp"),e}}async updateEmailSecondaryOtp(e){try{let t=await this.appEvent({type:d.s1.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(t.newEmail),t}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error updating email secondary otp"),e}}async syncTheme(e){try{return this.appEvent({type:d.s1.APP_SYNC_THEME,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing theme"),e}}async syncDappData(e){try{return this.appEvent({type:d.s1.APP_SYNC_DAPP_DATA,payload:e})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error syncing dapp data"),e}}async getSmartAccountEnabledNetworks(){try{let e=await this.appEvent({type:d.s1.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:d.s1.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error setting preferred account"),e}}async connect(e){if(e?.socialUri)try{await this.init();let t=this.getRpcUrl(e.chainId),r=await this.appEvent({type:d.s1.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:t}});return r.userName&&this.setSocialLoginSuccess(r.userName),this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}try{let t=e?.chainId||this.getLastUsedChainId()||1,r=await this.getUser({chainId:t,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(t)});return this.setLoginSuccess(r.email),this.setLastUsedChainId(r.chainId),this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async getUser(e){try{await this.init();let t=e?.chainId||this.getLastUsedChainId()||1,r=await this.appEvent({type:d.s1.APP_GET_USER,payload:{...e,chainId:t,rpcUrl:this.getRpcUrl(t)}});return this.user=r,r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting"),e}}async connectSocial({uri:e,chainId:t,preferredAccountType:r}){try{await this.init();let n=this.getRpcUrl(t),i=await this.appEvent({type:d.s1.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:t,rpcUrl:n,preferredAccountType:r}});return i.userName&&this.setSocialLoginSuccess(i.userName),i}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting social"),e}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:d.s1.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{let e=await this.appEvent({type:d.s1.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{let t=this.getRpcUrl(e),r=await this.appEvent({type:d.s1.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:t}});return this.setLastUsedChainId(r.chainId),r}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error switching network"),e}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async e=>{let t=setTimeout(()=>{e()},3e3);await this.appEvent({type:d.s1.APP_SIGN_OUT}),clearTimeout(t),e()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(d.Vl.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();let t=e.chainNamespace||"eip155",r=this.getActiveCaipNetwork(t)?.id;e.chainNamespace=t,e.chainId=r,e.rpcUrl=this.getRpcUrl(r),this.rpcRequestHandler?.(e);let n=await this.appEvent({type:d.s1.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(n,e),n}catch(t){throw this.rpcErrorHandler?.(t,e),this.w3mLogger?.logger.error({error:t},"Error requesting"),t}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_IS_CONNECTED_ERROR&&e(),t.type!==d.s1.FRAME_IS_CONNECTED_SUCCESS||t.payload.isConnected||e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_GET_USER_SUCCESS&&e(t.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===d.s1.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===d.s1.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:d.Vl.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:t})=>{d.Vl.SAFE_RPC_METHODS.includes(t)||e.abort(),await this.appEvent({type:d.s1.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let t,r;function n(e){return e.replace("@w3m-app/","")}let i=[d.s1.APP_SYNC_DAPP_DATA,d.s1.APP_SYNC_THEME,d.s1.APP_SET_PREFERRED_ACCOUNT],s=n(e.type);return this.w3mFrame.iframeIsReady||i.includes(e.type)||(r=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(r),[d.s1.APP_CONNECT_EMAIL,d.s1.APP_CONNECT_DEVICE,d.s1.APP_CONNECT_OTP,d.s1.APP_CONNECT_SOCIAL,d.s1.APP_GET_SOCIAL_REDIRECT_URI].map(n).includes(s)&&(t=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((n,i)=>{let o=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:o},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:o});let a=new AbortController;"RPC_REQUEST"===s&&this.openRpcRequests.set(o,{...e.payload,abortController:a}),a.signal.addEventListener("abort",()=>{"RPC_REQUEST"===s?i(Error("Request was aborted")):"GET_FARCASTER_URI"!==s&&i(Error("Something went wrong"))});let c=(e,a)=>{e.id===o&&(a?.logger.info?.({framEvent:e,id:o},"Received frame response"),this.openRpcRequests.delete(e.id),e.type===`@w3m-frame/${s}_SUCCESS`?(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in e&&n(e.payload),n(void 0)):e.type===`@w3m-frame/${s}_ERROR`&&(t&&clearTimeout(t),r&&clearTimeout(r),"payload"in e&&i(Error(e.payload?.message||"An error occurred")),i(Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(o,e=>c(e,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){rv.o.set(d.s1.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){rv.o.set(d.s1.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&rv.o.set(d.s1.EMAIL,e),rv.o.set(d.s1.EMAIL_LOGIN_USED_KEY,"true"),rv.o.delete(d.s1.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){rv.o.delete(d.s1.EMAIL_LOGIN_USED_KEY),rv.o.delete(d.s1.EMAIL),rv.o.delete(d.s1.LAST_USED_CHAIN_KEY),rv.o.delete(d.s1.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&rv.o.set(d.s1.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){let e=rv.o.get(d.s1.LAST_USED_CHAIN_KEY)??void 0,t=Number(e);return isNaN(t)?e:t}persistSmartAccountEnabledNetworks(e){rv.o.set(d.s1.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let t=void 0===e?void 0:"eip155";"string"==typeof e&&(t=e.includes(":")?c.C.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?"eip155":"solana");let r=this.getCaipNetworks(t),n=e?r.find(t=>String(t.id)===String(e)||t.caipNetworkId===e):r[0];return n?.rpcUrls.default.http?.[0]}}},56518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tgwalletAppName=t.tgwalletName=t.tonConnectSdkVersion=t.standardDeeplink=t.okxCommonStackDeepLink=t.okxWalletStackDeepLink=t.okxAppStackDeepLink=t.okxCommonDeepLink=t.okxWalletDeepLink=t.okxAppDeepLink=t.downloadUrl=t.okxCommonUniversalLink=t.okxWalletUniversalLink=t.okxAppUniversalLink=void 0,t.getTestTwaUrl=function(){return window.okxTesttwaUrl},t.getTestTgTwaUrl=function(){return window.okxTestTgtwaUrl},t.getBotNameAndAppName=function(e){let t=new URL(e).pathname.split("/").filter(Boolean);if(t.length>=2)return{botName:t[0],appName:t[1]}},t.okxAppUniversalLink="https://link.okx.com/ul/connect",t.okxWalletUniversalLink="https://web3link.okx.com/ul/connect",t.okxCommonUniversalLink="https://web3.okx.com/ul/connect",t.downloadUrl="https://www.okx.com/download",t.okxAppDeepLink="okx://web3/wallet/connect",t.okxWalletDeepLink="okxwallet://web3/wallet/connect",t.okxCommonDeepLink="okxweb3://web3/wallet/connect",t.okxAppStackDeepLink="okx://web3?stack=true",t.okxWalletStackDeepLink="okxwallet://web3?stack=true",t.okxCommonStackDeepLink="okxweb3://web3?stack=true",t.standardDeeplink=t.okxAppStackDeepLink,t.tonConnectSdkVersion="1",t.tgwalletName="OKX_WALLET_BOT",t.tgwalletAppName="start"},56901:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OkxwalletInjectConnector=void 0;let i=r(62016),s=r(14903),o=r(86658),a=r(31115),c=r(98092),l=r(70984),d=r(119),h=r(16059),u=r(71994),p=r(32918),f=r(38962),g=r(36766),m=r(55982);class y extends i.InjectConnector{getType(){return m.CONNECTOR_TYPE.INJECT.OKX_INJECT_WALLET}constructor(){super(),this.walletName="OKX Wallet",this.walletNameKey="walletModal.mobileConnectionModal.connectInjected",this.providerMap.set(s.NameSpaceKeyEip155,new o.Eip155Provider),this.providerMap.set(s.NameSpaceKeySOL,new a.SolProvider),this.providerMap.set(s.NameSpaceKeyAptos,new c.AptosProvider),this.providerMap.set(s.NameSpaceKeyTON,new l.TONProvider),this.providerMap.set(s.NameSpaceKeySui,new d.SuiProvider),this.providerMap.set(s.NameSpaceKeyBtc,new h.BtcProvider)}openWallet(e,t){return n(this,void 0,void 0,function*(){if((0,u.logDebug)("InjectEngine connect begin:",JSON.stringify(e)),!e)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR);this.dappInfo=e.connectRequest.dAppInfo;var t,r,n,i=e.connectRequest;try{if(window&&window.okxwallet){if(i.requests){let e=i.requests.find(e=>"requestAccounts"===e.name),a=yield window.okxwallet.getVersion(),c={method:"connect",requestId:i.requestId,payload:{wallet:{platform:null!=(t=navigator.platform)?t:"/",appName:p.OKXInjectWalletName,appVersion:null!=a?a:"1.0.0",maxProtocolVersion:1},responses:[]}},l={name:"requestAccounts",accounts:[]};c.payload.responses.push(l),yield this.disconnect();let d=null!=(r=e.requiredNamespaces)?r:[],h=null!=(n=e.optionalNamespaces)?n:[],u=!0,g=!1;if(d.length+h.length===1&&!(0,f.isDevice)("mobile")){let e=1===d.length?d[0]:h[0],t=this.getInjectProvider(e.namespace);(yield null==t?void 0:t.singleConnect(e,this.dappInfo))&&(g=!0,u=!1)}var o=yield this.getAccountByRequestWallets(u,!1,g,d,h);if(o){if(l.accounts.push(...o),0===l.accounts.length)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect connectAccounts is null")}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null");this.connectResultListener&&(this.disconnectHandler&&window.okxwallet.removeListener("disconnect",this.disconnectHandler),this.disconnectHandler=()=>{console.log("window.okxwallet disconnect:"),this.disconnectListener.forEach(e=>e()),this.disconnectListener=[]},window.okxwallet.on("disconnect",this.disconnectHandler),this.connectResultListener(c,this))}}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR)}catch(e){var a=s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR;e instanceof s.OKXConnectError&&(a=e.code,e.message),this.connectResultListener&&this.connectResultListener({requestId:"-1",method:"connect_error",payload:{code:a}},this)}})}checkAccountChanged(){return n(this,void 0,void 0,function*(){var e;try{let t=null==(e=this.connectionManager)?void 0:e.getSessionContent("connectSession");if(!t)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED);(0,u.logDebug)("inject-connector checkAccountChanged --sessionInfo:",JSON.stringify(t));let r=this.getRequireNameSpaceFromSession(t);(0,u.logDebug)("inject-connector checkAccountChanged --requiredNamespaces:",JSON.stringify(r));let n=yield this.getAccountByRequestWallets(!1,!0,!1,r,[]);if((0,u.logDebug)("inject-connector checkAccountChanged --accounts:",JSON.stringify(n)),n){let e={};(0,g.buildAccountNameSpaces)(n,e),this.compareAndModifyNamespaces(t.namespaces,e)||((0,u.logDebug)("inject-connector checkAccountChanged --result sessionLocal:",JSON.stringify(t)),this.accountChangeListener?((0,u.logDebug)("inject-connector checkAccountChanged -accountChangeListener:",this.accountChangeListener),this.accountChangeListener(t)):((0,u.logDebug)("inject-connector checkAccountChanged disconnect:"),yield this.disconnect()))}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connect requestWallets is null")}catch(e){throw(0,u.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),e}})}compareAndModifyNamespaces(e,t){let r=!0;for(let n in e)if(t[n]){let i=e[n],s=t[n];(0,u.logDebug)("inject-connector checkAccountChanged ns1:",JSON.stringify(i)),(0,u.logDebug)("inject-connector checkAccountChanged ns2:",JSON.stringify(s)),JSON.stringify([...i.accounts].sort())!==JSON.stringify([...s.accounts].sort())&&(r=!1,i.accounts=[...s.accounts],i.extra=Object.assign({},s.extra),i.payload=Object.assign({},s.payload)),(0,u.logDebug)("inject-connector checkAccountChanged new ns1:",JSON.stringify(i))}return(0,u.logDebug)(`inject-connector checkAccountChanged compareAndModifyNamespaces ===> ${r}`),r}restoreconnect(e,t){if(!window.okxwallet)return void t(null);this.dappInfo=null==(r=e.sessionConfig)?void 0:r.dappInfo,(0,u.logDebug)("inject-connector restoreconnect --sessionInfo:",JSON.stringify(e));var r,n=this.getRequireNameSpaceFromSession(e);(0,u.logDebug)("inject-connector restoreconnect --requiredNamespaces:",JSON.stringify(n)),this.getAccountByRequestWallets(!1,!1,!1,n,[]).then(r=>{(0,u.logDebug)("inject-connector restoreconnect --accounts:",JSON.stringify(r));let n=!0;for(let t in e.namespaces){var i=r.find(e=>e.namespace===t),o=e.namespaces[t].accounts;if(!i)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: accountItem error");let a=o;t===s.NameSpaceKeyAptos&&a&&a.length>0&&(a=o.map(e=>(0,u.replaceChainNameToChainId)(e))),i.addresses.length===a.length&&i.addresses.slice().sort().every((e,r)=>{if(t!==s.NameSpaceKeyAptos)return e===a.slice().sort()[r];{let t=a.slice().sort()[r];return(0,u.logDebug)("check aptos address -value and aptosAdd--",e,t),t===e}})||(n=!1)}if(n)t(e);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"resotreconnect error: address not as same as session")}).catch(e=>{(0,u.logDebug)("inject-connector restoreconnect catch error",JSON.stringify(e)),t(null)})}getRequireNameSpaceFromSession(e){var t,r,n=[];for(let i in e.namespaces){let o=e.namespaces[i],a={namespace:i,chains:o.chains};if(i===s.NameSpaceKeyAptos){let e=[];o.chains.forEach(t=>{let r=(0,u.replaceChainNameToChainId)(t);e.push(r)}),a={namespace:i,chains:e}}else if(i===s.NameSpaceKeyTON){let e,n;(null==(t=o.payload)?void 0:t.ton_proof)&&(e=null==(r=o.payload)?void 0:r.ton_proof).proof.payload&&(n={name:"ton_proof",payload:e.proof.payload}),a={namespace:i,chains:o.chains,params:{ton_addr:{name:"ton_addr"},ton_proof:n}}}n.push(a)}return n}getAccountByRequestWallets(e,t,r,i,o){return n(this,void 0,void 0,function*(){try{let d;var n=[],a=[];if((0,f.isDevice)("mobile")){var c=yield window.okxwallet.connectWallet(e,{requiredNamespaces:i,optionalNamespaces:o});n.push(c)}else n=yield window.okxwallet.requestWallets(e);var l=[...null!=i?i:[],...null!=o?o:[]];let h=n[0];if((0,u.logDebug)(" InjectEngine connect connectAccounts:",JSON.stringify(h)),l&&h&&h.address)for(let[n,i]of this.providerMap.entries()){let s=yield i.parseConnectResponse(e,t,r,l,h,this.dappInfo);s&&(d=n,a.push(s))}let p=i.every(e=>{let t=a.find(t=>t.namespace===e.namespace);return!!t&&e.chains.every(e=>!!t.addresses.find(t=>t.startsWith(e+":")))});if((0,u.logDebug)("InjectEngine connect requiredNamespaces:",JSON.stringify(i)),(0,u.logDebug)("InjectEngine connect accountResult:",JSON.stringify(a)),!p)throw yield this.disconnect(),new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);return(0,f.isDevice)("mobile")||(this.configEventWithKey(d),yield window.okxwallet.requestWallets(e)),a}catch(e){if(e&&"object"==typeof e&&"code"in e&&4001===e.code)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}})}configEventWithKey(e){var t,r;for(let e in this.providerMap)null==(t=this.providerMap.get(e))||t.removeListener();null==(r=this.getInjectProvider(e))||r.addAccountChangedListener(()=>{this.checkAccountChanged().catch(e=>{console.log("window.okxwallet configEventWithKey error: ",e)})})}disconnect(){return n(this,void 0,void 0,function*(){(0,u.logDebug)("InjectEngine ==>> disconnect  okxwallet.disconnect()"),window.okxwallet&&(yield window.okxwallet.disconnect(),(0,u.logDebug)("InjectEngine ==>> disconnect end okxwallet.disconnect()"))})}}t.OkxwalletInjectConnector=y},57382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=0x1fffffffffffff,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},57926:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function i(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function s(e){return"result"in e}function o(e){return"error"in e}Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonRpcPayload=i,t.isJsonRpcRequest=function(e){return i(e)&&"method"in e},t.isJsonRpcResponse=function(e){return i(e)&&(s(e)||o(e))},t.isJsonRpcResult=s,t.isJsonRpcError=o,t.payloadId=u,t.getBigIntRpcId=function(){return BigInt(Date.now())*BigInt(1e6)+BigInt(h.getNextValue())},t.formatJsonRpcRequest=function(e,t,r){return{id:r||u(),jsonrpc:"2.0",method:e,params:t}},t.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},t.formatJsonRpcError=function(e,t,r){return{id:e,jsonrpc:"2.0",error:m(t,r)}},t.isReservedErrorCode=p,t.getError=f,t.getErrorByCode=g,t.formatErrorMessage=m,t.isHttpUrl=function(e){return y(e,"^https?:")},t.isWsUrl=function(e){return y(e,"^wss?:")},t.parseConnectionError=function(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e};let a=r(46543),c=n(r(28555));class l{constructor(e){this.i=1,8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1),e?this.initialValue=c.default.randomBytes(e/8)[0]:this.initialValue=0}getNextValue(){return this.initialValue+this.i++}}let d=new l(8),h=new l(16);function u(){return 1e3*Date.now()+d.getNextValue()}function p(e){return a.RESERVED_ERROR_CODES.includes(e)}function f(e){return Object.keys(a.STANDARD_ERROR_MAP).includes(e)?a.STANDARD_ERROR_MAP[e]:a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function g(e){let t=Object.values(a.STANDARD_ERROR_MAP).find(t=>t.code===e);return t||a.STANDARD_ERROR_MAP[a.DEFAULT_ERROR]}function m(e,t){return void 0===e?f(a.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},f(a.SERVER_ERROR)),{message:e})),void 0!==t&&(e.data=t),p(e.code)&&(e=g(e.code)),e)}function y(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}},57950:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectWalletType=t.ISignClientEvents=t.IEngine=t.IEngineEvents=t.ISignClient=t.getBigIntRpcId=t.formatJsonRpcRequest=t.isJsonRpcError=t.isJsonRpcResponse=t.parseConnectionError=t.isHttpUrl=t.formatJsonRpcError=void 0;var s=r(57926);Object.defineProperty(t,"formatJsonRpcError",{enumerable:!0,get:function(){return s.formatJsonRpcError}}),Object.defineProperty(t,"isHttpUrl",{enumerable:!0,get:function(){return s.isHttpUrl}}),Object.defineProperty(t,"parseConnectionError",{enumerable:!0,get:function(){return s.parseConnectionError}}),Object.defineProperty(t,"isJsonRpcResponse",{enumerable:!0,get:function(){return s.isJsonRpcResponse}}),Object.defineProperty(t,"isJsonRpcError",{enumerable:!0,get:function(){return s.isJsonRpcError}}),Object.defineProperty(t,"formatJsonRpcRequest",{enumerable:!0,get:function(){return s.formatJsonRpcRequest}}),Object.defineProperty(t,"getBigIntRpcId",{enumerable:!0,get:function(){return s.getBigIntRpcId}});var o=r(97064);Object.defineProperty(t,"ISignClient",{enumerable:!0,get:function(){return o.ISignClient}}),Object.defineProperty(t,"IEngineEvents",{enumerable:!0,get:function(){return o.IEngineEvents}}),Object.defineProperty(t,"IEngine",{enumerable:!0,get:function(){return o.IEngine}}),Object.defineProperty(t,"ISignClientEvents",{enumerable:!0,get:function(){return o.ISignClientEvents}});var a=r(31838);Object.defineProperty(t,"ConnectWalletType",{enumerable:!0,get:function(){return a.ConnectWalletType}}),i(r(48592),t),i(r(32918),t)},58051:(e,t,r)=>{"use strict";r.d(t,{U:()=>h});var n=r(12661),i=r(30982),s=r(28977),o=r(12319),a=r(36964),c=r(93481),l=r(65374);let d=(0,n.BX)({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),h=(0,a.X)({state:d,replaceState(e){e&&Object.assign(d,(0,n.KR)(e))},subscribe:e=>c.W.subscribeChainProp("accountState",t=>{if(t)return e(t)}),subscribeKey(e,t,r){let n;return c.W.subscribeChainProp("accountState",r=>{if(r){let i=r[e];n!==i&&(n=i,t(i))}},r)},setStatus(e,t){c.W.setAccountProp("status",e,t)},getCaipAddress(e){if(e)return c.W.state.chains.get(e)?.accountState?.caipAddress},setCaipAddress(e,t){let r=e?o.w.getPlainAddress(e):void 0;t===c.W.state.activeChain&&(c.W.state.activeCaipAddress=e),c.W.setAccountProp("caipAddress",e,t),c.W.setAccountProp("address",r,t)},setBalance(e,t,r){c.W.setAccountProp("balance",e,r),c.W.setAccountProp("balanceSymbol",t,r)},setProfileName(e,t){c.W.setAccountProp("profileName",e,t)},setProfileImage(e,t){c.W.setAccountProp("profileImage",e,t)},setUser(e,t){c.W.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){c.W.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){c.W.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){c.W.setAccountProp("currentTab",e,c.W.state.activeChain)},setTokenBalance(e,t){e&&c.W.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){c.W.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,r){if(!r)return;let n=c.W.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(e,t),c.W.setAccountProp("addressLabels",n,r)},removeAddressLabel(e,t){if(!t)return;let r=c.W.state.chains.get(t)?.accountState?.addressLabels||new Map;r.delete(e),c.W.setAccountProp("addressLabels",r,t)},setConnectedWalletInfo(e,t){c.W.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){c.W.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&c.W.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){c.W.setAccountProp("socialWindow",e?(0,n.KR)(e):void 0,t)},setFarcasterUrl(e,t){c.W.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){d.balanceLoading=!0;let t=c.W.state.activeCaipNetwork?.caipNetworkId,r=c.W.state.activeCaipNetwork?.chainNamespace,n=c.W.state.activeCaipAddress,a=n?o.w.getPlainAddress(n):void 0;if(d.lastRetry&&!o.w.isAllowedRetry(d.lastRetry,30*s.oU.ONE_SEC_MS))return d.balanceLoading=!1,[];try{if(a&&t&&r){let e=await i.Z.getMyTokensWithBalance();return h.setTokenBalance(e,r),d.lastRetry=void 0,d.balanceLoading=!1,e}}catch(t){d.lastRetry=Date.now(),e?.(t),l.P.showError("Token Balance Unavailable")}finally{d.balanceLoading=!1}return[]},resetAccount(e){c.W.resetAccount(e)}})},58131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMetaData=function(e){if(!e)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"You have to specify a `dappMetaData`in the options.");if(!e.name)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.BAD_REQUEST_ERROR,"dappName is required");return!0};let n=r(14903)},58571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTON_STORAGE_PREFIX=t.OKXCONNECTOR_TON_KEY=t.OKXtonConnectSdkVersion=void 0,t.OKXtonConnectSdkVersion="1",t.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",t.OKXTON_STORAGE_PREFIX="_okxton"},58653:(e,t,r)=>{"use strict";r.d(t,{i:()=>s});var n=r(93965),i=r(45553);let s={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5},isCacheExpired:(e,t)=>Date.now()-e>t,getActiveNetworkProps(){let e=s.getActiveNamespace(),t=s.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0;return{namespace:e,caipNetworkId:t,chainId:r?isNaN(Number(r))?r:Number(r):void 0}},setWalletConnectDeepLink({name:e,href:t}){try{n.Ud.setItem(n.Ws.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=n.Ud.getItem(n.Ws.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{n.Ud.removeItem(n.Ws.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{n.Ud.setItem(n.Ws.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{n.Ud.setItem(n.Ws.ACTIVE_CAIP_NETWORK_ID,e),s.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return n.Ud.getItem(n.Ws.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{n.Ud.removeItem(n.Ws.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=(0,n.T8)(e);n.Ud.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=s.getRecentWallets();t.find(t=>t.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),n.Ud.setItem(n.Ws.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=n.Ud.getItem(n.Ws.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{let r=(0,n.T8)(e);n.Ud.setItem(r,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return n.Ud.getItem(n.Ws.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=(0,n.T8)(e);return n.Ud.getItem(t)}catch(t){console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{n.Ud.setItem(n.Ws.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return n.Ud.getItem(n.Ws.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{n.Ud.removeItem(n.Ws.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return n.Ud.getItem(n.Ws.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){let e=n.Ud.getItem(n.Ws.ACTIVE_CAIP_NETWORK_ID);return e?.split(":")?.[1]},setConnectionStatus(e){try{n.Ud.setItem(n.Ws.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return n.Ud.getItem(n.Ws.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=n.Ud.getItem(n.Ws.CONNECTED_NAMESPACES);if(!e?.length)return[];return e.split(",")}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));n.Ud.setItem(n.Ws.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=s.getConnectedNamespaces();t.includes(e)||(t.push(e),s.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=s.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),s.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return n.Ud.getItem(n.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{n.Ud.setItem(n.Ws.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{n.Ud.removeItem(n.Ws.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=n.Ud.getItem(n.Ws.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=s.getBalanceCache();n.Ud.setItem(n.Ws.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let t=s.getBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;s.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=s.getBalanceCache();t[e.caipAddress]=e,n.Ud.setItem(n.Ws.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=n.Ud.getItem(n.Ws.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=s.getBalanceCache();n.Ud.setItem(n.Ws.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let t=s.getNativeBalanceCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",e),s.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=s.getNativeBalanceCache();t[e.caipAddress]=e,n.Ud.setItem(n.Ws.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=n.Ud.getItem(n.Ws.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let t=s.getEnsCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;s.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=s.getEnsCache();t[e.address]=e,n.Ud.setItem(n.Ws.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=s.getEnsCache();n.Ud.setItem(n.Ws.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=n.Ud.getItem(n.Ws.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let t=s.getIdentityCache()[e];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;s.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=s.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},n.Ud.setItem(n.Ws.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=s.getIdentityCache();n.Ud.setItem(n.Ws.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{n.Ud.removeItem(n.Ws.PORTFOLIO_CACHE),n.Ud.removeItem(n.Ws.NATIVE_BALANCE_CACHE),n.Ud.removeItem(n.Ws.ENS_CACHE),n.Ud.removeItem(n.Ws.IDENTITY_CACHE),n.Ud.removeItem(n.Ws.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{n.Ud.setItem(n.Ws.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=n.Ud.getItem(n.Ws.PREFERRED_ACCOUNT_TYPES);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let r=s.getConnections(),o=r[t]??[],a=new Map;for(let e of o)a.set(e.connectorId,{...e});for(let t of e){let e=a.get(t.connectorId),r=t.connectorId===i.o.CONNECTOR_ID.AUTH;if(e&&!r){let r=new Set(e.accounts.map(e=>e.address.toLowerCase())),n=t.accounts.filter(e=>!r.has(e.address.toLowerCase()));e.accounts.push(...n)}else a.set(t.connectorId,{...t})}let c={...r,[t]:Array.from(a.values())};n.Ud.setItem(n.Ws.CONNECTIONS,JSON.stringify(c))}catch(e){console.error("Unable to sync connections to storage",e)}},getConnections(){try{let e=n.Ud.getItem(n.Ws.CONNECTIONS);if(!e)return{};return JSON.parse(e)}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:r}){try{let i=s.getConnections(),o=i[r]??[],a=new Map(o.map(e=>[e.connectorId,e])),c=a.get(e);if(c){let r=c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase());0===r.length?a.delete(e):a.set(e,{...c,accounts:c.accounts.filter(e=>e.address.toLowerCase()!==t.toLowerCase())})}n.Ud.setItem(n.Ws.CONNECTIONS,JSON.stringify({...i,[r]:Array.from(a.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{let e=n.Ud.getItem(n.Ws.DISCONNECTED_CONNECTOR_IDS);if(!e)return{};return JSON.parse(e)}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let r=s.getDisconnectedConnectorIds(),i=r[t]??[];i.push(e),n.Ud.setItem(n.Ws.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[t]:Array.from(new Set(i))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let r=s.getDisconnectedConnectorIds(),i=r[t]??[];i=i.filter(t=>t.toLowerCase()!==e.toLowerCase()),n.Ud.setItem(n.Ws.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[t]:Array.from(new Set(i))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(s.getDisconnectedConnectorIds()[t]??[]).some(t=>t.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=n.Ud.getItem(n.Ws.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let r=s.getTransactionsCache(),n=r[e]?.[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;s.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:r,transactions:i}){try{let o=s.getTransactionsCache();o[e]={...o[e],[t]:{timestamp:r,transactions:i}},n.Ud.setItem(n.Ws.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(o))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:r,transactions:i})}},removeTransactionsCache({address:e,chainId:t}){try{let r=s.getTransactionsCache(),{[t]:i,...o}=r?.[e]||{};n.Ud.setItem(n.Ws.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[e]:o}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=n.Ud.getItem(n.Ws.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let t=s.getTokenPriceCache()[e.join(",")];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tokenPrice))return t.tokenPrice;s.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=s.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},n.Ud.setItem(n.Ws.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=s.getTokenPriceCache();n.Ud.setItem(n.Ws.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;if(t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion))return t}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=n.Ud.getItem(n.Ws.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=s.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,n.Ud.setItem(n.Ws.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}}},58864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcParser=void 0;class r{isError(e){return"error"in e}}t.RpcParser=r},59350:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(e,t,r)=>JSON.stringify(e,(e,r)=>{let n="bigint"==typeof r?r.toString():r;return"function"==typeof t?t(e,n):n},r)},59380:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TONCHAIN=void 0,(r||(t.TONCHAIN=r={})).MAINNET="-239"},60316:function(e,t,r){var n;n=r(16611),r(38530),r(93136),r(53475),r(9956),r(26721),r(11816),r(47413),r(92475),r(36202),r(67626),r(47467),r(81055),r(82544),r(83247),r(53985),r(93524),r(99229),r(49327),r(28397),r(81530),r(4707),r(44020),r(89643),r(89955),r(9748),r(42307),r(53832),r(23511),r(68851),r(87796),r(2497),r(19276),r(30120),r(93142),e.exports=n},60573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXCONNECTOR_JWT_TTL=t.OKXCONNECTOR_JWT_WALLET_SIDE=t.OKXCONNECTOR_JWT_SIDE=void 0,t.OKXCONNECTOR_JWT_SIDE="wallet",t.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",t.OKXCONNECTOR_JWT_TTL=864e5},60587:(e,t,r)=>{"use strict";function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}r.d(t,{q:()=>n})},61774:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>fA});var i,s=r(16459),o=r.n(s),a=r(5566);class c{}class l extends c{constructor(e){super()}}let d=a.FIVE_SECONDS,h={pulse:"heartbeat_pulse"};class u extends l{constructor(e){super(e),this.events=new s.EventEmitter,this.interval=d,this.interval=e?.interval||d}static async init(e){let t=new u(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,a.toMiliseconds)(this.interval))}pulse(){this.events.emit(h.pulse)}}let p=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,f=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,g=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function m(e,t){var r;return"__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t?void(r=e,console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)):t}function y(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return NaN;case"infinity":return 1/0;case"-infinity":return-1/0}if(!g.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(p.test(e)||f.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,m)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var b=r(81029).hp;function v(e,...t){try{var r;return(r=e(...t))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(e){return Promise.reject(e)}}function w(e){if(function(e){let t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return w(e.toJSON());throw Error("[unstorage] Cannot stringify value!")}let E="base64:";function C(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function _(e){return(e=C(e))?e+":":""}function O(e,t,r){return e.watch?e.watch((e,n)=>t(e,r+n)):()=>{}}async function x(e){"function"==typeof e.dispose&&await v(e.dispose)}function N(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function A(e,t){let r;return(n,i)=>(()=>{if(r)return r;let n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),(r=N(n)).then(e=>{e.onclose=()=>r=void 0},()=>{}),r})().then(e=>i(e.transaction(t,n).objectStore(t)))}function S(){return n||(n=A("keyval-store","keyval")),n}function T(e,t=S()){return t("readonly",t=>N(t.get(e)))}var R=r(25042);class I{constructor(){this.indexedDb=function(e={}){let t={mounts:{"":e.driver||(()=>{let e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}})()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=e=>{for(let r of t.mountpoints)if(e.startsWith(r))return{base:r,relativeKey:e.slice(r.length),driver:t.mounts[r]};return{base:"",relativeKey:e,driver:t.mounts[""]}},n=(e,r)=>t.mountpoints.filter(t=>t.startsWith(e)||r&&e.startsWith(t)).map(r=>({relativeBase:e.length>r.length?e.slice(r.length):void 0,mountpoint:r,driver:t.mounts[r]})),i=(e,r)=>{if(t.watching)for(let n of(r=C(r),t.watchListeners))n(e,r)},s=async()=>{if(!t.watching)for(let e in t.watching=!0,t.mounts)t.unwatch[e]=await O(t.mounts[e],i,e)},o=async()=>{if(t.watching){for(let e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},a=(e,t,n)=>{let i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(let n of e){let e="string"==typeof n,i=C(e?n:n.key),o=e?void 0:n.value,a=e||!n.options?t:{...t,...n.options},c=r(i);s(c).items.push({key:i,value:o,relativeKey:c.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>n(e))).then(e=>e.flat())},c={hasItem(e,t={}){let{relativeKey:n,driver:i}=r(e=C(e));return v(i.hasItem,n,t)},getItem(e,t={}){let{relativeKey:n,driver:i}=r(e=C(e));return v(i.getItem,n,t).then(e=>y(e))},getItems:(e,t={})=>a(e,t,e=>e.driver.getItems?v(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:function(...e){return C(e.join(":"))}(e.base,t.key),value:y(t.value)}))):Promise.all(e.items.map(t=>v(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:y(e)}))))),getItemRaw(e,t={}){let{relativeKey:n,driver:i}=r(e=C(e));return i.getItemRaw?v(i.getItemRaw,n,t):v(i.getItem,n,t).then(e=>{var t;return"string"==typeof e&&e.startsWith(E)?(t=e.slice(E.length),globalThis.Buffer?b.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))):e})},async setItem(e,t,n={}){if(void 0===t)return c.removeItem(e);let{relativeKey:s,driver:o}=r(e=C(e));o.setItem&&(await v(o.setItem,s,w(t),n),o.watch||i("update",e))},async setItems(e,t){await a(e,t,async e=>{if(e.driver.setItems)return v(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:w(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>v(e.driver.setItem,t.relativeKey,w(t.value),t.options)))})},async setItemRaw(e,t,n={}){if(void 0===t)return c.removeItem(e,n);let{relativeKey:s,driver:o}=r(e=C(e));if(o.setItemRaw)await v(o.setItemRaw,s,t,n);else{var a;if(!o.setItem)return;await v(o.setItem,s,"string"==typeof t?t:E+(a=t,globalThis.Buffer?b.from(a).toString("base64"):globalThis.btoa(String.fromCodePoint(...a))),n)}o.watch||i("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t});let{relativeKey:n,driver:s}=r(e=C(e));s.removeItem&&(await v(s.removeItem,n,t),(t.removeMeta||t.removeMata)&&await v(s.removeItem,n+"$",t),s.watch||i("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t});let{relativeKey:n,driver:i}=r(e=C(e)),s=Object.create(null);if(i.getMeta&&Object.assign(s,await v(i.getMeta,n,t)),!t.nativeOnly){let e=await v(i.getItem,n+"$",t).then(e=>y(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t,r={}){return this.setItem(e+"$",t,r)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){let r=n(e=_(e),!0),i=[],s=[],o=!0;for(let e of r){for(let r of(e.driver.flags?.maxDepth||(o=!1),await v(e.driver.getKeys,e.relativeBase,t))){let t=e.mountpoint+C(r);i.some(e=>t.startsWith(e))||s.push(t)}i=[e.mountpoint,...i.filter(t=>!t.startsWith(e.mountpoint))]}let a=void 0!==t.maxDepth&&!o;return s.filter(r=>{var n;return(!a||function(e,t){if(void 0===t)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}(r,t.maxDepth))&&((n=e)?r.startsWith(n)&&"$"!==r[r.length-1]:"$"!==r[r.length-1])})},async clear(e,t={}){e=_(e),await Promise.all(n(e,!1).map(async e=>e.driver.clear?v(e.driver.clear,e.relativeBase,t):e.driver.removeItem?Promise.all((await e.driver.getKeys(e.relativeBase||"",t)).map(r=>e.driver.removeItem(r,t))):void 0))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>x(e)))},watch:async e=>(await s(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await o()}),async unwatch(){t.watchListeners=[],await o()},mount(e,r){if((e=_(e))&&t.mounts[e])throw Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=r,t.watching&&Promise.resolve(O(r,i,e)).then(r=>{t.unwatch[e]=r}).catch(console.error),c},async unmount(e,r=!0){(e=_(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),r&&await x(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){let t=r(e=C(e)+":");return{driver:t.driver,base:t.base}},getMounts:(e="",t={})=>n(e=C(e),t.parents).map(e=>({driver:e.driver,base:e.mountpoint})),keys:(e,t={})=>c.getKeys(e,t),get:(e,t={})=>c.getItem(e,t),set:(e,t,r={})=>c.setItem(e,t,r),has:(e,t={})=>c.hasItem(e,t),del:(e,t={})=>c.removeItem(e,t),remove:(e,t={})=>c.removeItem(e,t)};return c}({driver:((e={})=>{let t,r=e.base&&e.base.length>0?`${e.base}:`:"";return e.dbName&&e.storeName&&(t=A(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await T(r+e,t)>"u"),getItem:async e=>await T(r+e,t)??null,setItem:(e,n)=>(function(e,t,r=S()){return r("readwrite",r=>(r.put(t,e),N(r.transaction)))})(r+e,n,t),removeItem:e=>(function(e,t=S()){return t("readwrite",t=>(t.delete(e),N(t.transaction)))})(r+e,t),getKeys:()=>(function(e=S()){return e("readonly",e=>{var t;if(e.getAllKeys)return N(e.getAllKeys());let r=[];return(t=e=>r.push(e.key),e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},N(e.transaction)).then(()=>r)})})(t),clear:()=>(function(e=S()){return e("readwrite",e=>(e.clear(),N(e.transaction)))})(t)}})({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,(0,R.h)(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var P="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof r.g?r.g:"u">typeof self?self:{},k={exports:{}};function D(e){var t;return[e[0],(0,R.j)(null!=(t=e[1])?t:"")]}!function(){function e(){}e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){let e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),"u">typeof P&&P.localStorage?k.exports=P.localStorage:"u">typeof window&&window.localStorage?k.exports=window.localStorage:k.exports=new e}();class U{constructor(){this.localStorage=k.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(D)}async getItem(e){let t=this.localStorage.getItem(e);if(null!==t)return(0,R.j)(t)}async setItem(e,t){this.localStorage.setItem(e,(0,R.h)(t))}async removeItem(e){this.localStorage.removeItem(e)}}let M=async(e,t,r)=>{let n="wc_storage_version",i=await t.getItem(n);if(i&&i>=1)return void r(t);let s=await e.getKeys();if(!s.length)return void r(t);let o=[];for(;s.length;){let r=s.shift();if(!r)continue;let n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){let n=await e.getItem(r);await t.setItem(r,n),o.push(r)}}await t.setItem(n,1),r(t),L(e,o)},L=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class j{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};let e=new U;this.storage=e;try{let t=new I;M(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var B=r(71018),W=Object.defineProperty,K=(e,t,r)=>((e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class H extends c{constructor(e){super(),this.opts=e,K(this,"protocol","wc"),K(this,"version",2)}}var F=Object.defineProperty;class q extends c{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,r)=>((e,t,r)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r))(this,"records",new Map)}}class X{constructor(e,t){this.logger=e,this.core=t}}class V extends c{constructor(e,t){super(),this.relayer=e,this.logger=t}}class z extends c{constructor(e){super()}}class ${constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class G extends c{constructor(e,t){super(),this.relayer=e,this.logger=t}}class J extends c{constructor(e,t){super(),this.core=e,this.logger=t}}class Z{constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class Y{constructor(e,t){this.projectId=e,this.logger=t}}class Q{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var ee=Object.defineProperty,et=(e,t,r)=>((e,t,r)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);o();class er{constructor(e){this.opts=e,et(this,"protocol","wc"),et(this,"version",2)}}s.EventEmitter;class en{constructor(e){this.client=e}}function ei(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function es(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}let eo="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ea=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function ec(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),ei(e),e}class el{clone(){return this._cloneInto()}}function ed(e=32){if(eo&&"function"==typeof eo.getRandomValues)return eo.getRandomValues(new Uint8Array(e));if(eo&&"function"==typeof eo.randomBytes)return eo.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}class eh extends el{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ea(this.buffer)}update(e){es(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=ec(e)).length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=ea(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){es(this),function(e,t){ei(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=4*!!n,l=4*!n;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=ea(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.length=n,e.pos=o,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let eu=BigInt(0x100000000-1),ep=BigInt(32),ef={split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:o}=function(e,t=!1){return t?{h:Number(e&eu),l:Number(e>>ep&eu)}:{h:0|Number(e>>ep&eu),l:0|Number(e&eu)}}(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]},shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[eg,em]=ef.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ey=new Uint32Array(80),eb=new Uint32Array(80);class ev extends eh{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:d,Fl:h,Gh:u,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|h,this.Gh=0|u,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)ey[r]=e.getUint32(t),eb[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|ey[e-15],r=0|eb[e-15],n=ef.rotrSH(t,r,1)^ef.rotrSH(t,r,8)^ef.shrSH(t,r,7),i=ef.rotrSL(t,r,1)^ef.rotrSL(t,r,8)^ef.shrSL(t,r,7),s=0|ey[e-2],o=0|eb[e-2],a=ef.rotrSH(s,o,19)^ef.rotrBH(s,o,61)^ef.shrSH(s,o,6),c=ef.rotrSL(s,o,19)^ef.rotrBL(s,o,61)^ef.shrSL(s,o,6),l=ef.add4L(i,c,eb[e-7],eb[e-16]),d=ef.add4H(l,n,a,ey[e-7],ey[e-16]);ey[e]=0|d,eb[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:h,Fh:u,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=ef.rotrSH(d,h,14)^ef.rotrSH(d,h,18)^ef.rotrBH(d,h,41),b=ef.rotrSL(d,h,14)^ef.rotrSL(d,h,18)^ef.rotrBL(d,h,41),v=d&u^~d&f,w=h&p^~h&g,E=ef.add5L(y,b,w,em[e],eb[e]),C=ef.add5H(E,m,t,v,eg[e],ey[e]),_=0|E,O=ef.rotrSH(r,n,28)^ef.rotrBH(r,n,34)^ef.rotrBH(r,n,39),x=ef.rotrSL(r,n,28)^ef.rotrBL(r,n,34)^ef.rotrBL(r,n,39),N=r&i^r&o^i&o,A=n&s^n&a^s&a;m=0|f,y=0|g,f=0|u,g=0|p,u=0|d,p=0|h,({h:d,l:h}=ef.add(0|c,0|l,0|C,0|_)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let S=ef.add3L(_,x,A);r=ef.add3H(S,C,O,N),n=0|S}({h:r,l:n}=ef.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=ef.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=ef.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=ef.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:h}=ef.add(0|this.Eh,0|this.El,0|d,0|h)),({h:u,l:p}=ef.add(0|this.Fh,0|this.Fl,0|u,0|p)),({h:f,l:g}=ef.add(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=ef.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,c,l,d,h,u,p,f,g,m,y)}roundClean(){ey.fill(0),eb.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let ew=function(e){let t=t=>e().update(ec(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}(()=>new ev),eE=BigInt(0),eC=BigInt(1),e_=BigInt(2);function eO(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ex(e){if(!eO(e))throw Error("Uint8Array expected")}function eN(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}let eA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function eS(e){ex(e);let t="";for(let r=0;r<e.length;r++)t+=eA[e[r]];return t}function eT(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?eE:BigInt("0x"+e)}let eR={_0:48,_9:57,A:65,F:70,a:97,f:102};function eI(e){return e>=eR._0&&e<=eR._9?e-eR._0:e>=eR.A&&e<=eR.F?e-(eR.A-10):e>=eR.a&&e<=eR.f?e-(eR.a-10):void 0}function eP(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=eI(e.charCodeAt(i)),s=eI(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function ek(e){return ex(e),eT(eS(Uint8Array.from(e).reverse()))}function eD(e,t){return eP(e.toString(16).padStart(2*t,"0"))}function eU(e,t){return eD(e,t).reverse()}function eM(e,t,r){let n;if("string"==typeof t)try{n=eP(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(eO(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}function eL(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];ex(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let ej=e=>"bigint"==typeof e&&eE<=e;function eB(e,t,r,n){if(!(ej(t)&&ej(r)&&ej(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let eW={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||eO(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function eK(e,t,r={}){let n=(t,r,n)=>{let i=eW[r];if("function"!=typeof i)throw Error("invalid validator function");let s=e[t];if(!(n&&void 0===s)&&!i(s,e))throw Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}function eH(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let eF=BigInt(0),eq=BigInt(1),eX=BigInt(2),eV=BigInt(3),ez=BigInt(4),e$=BigInt(5),eG=BigInt(8);function eJ(e,t){let r=e%t;return r>=eF?r:t+r}function eZ(e,t,r){let n=e;for(;t-- >eF;)n*=n,n%=r;return n}function eY(e,t){if(e===eF)throw Error("invert: expected non-zero number");if(t<=eF)throw Error("invert: expected positive modulus, got "+t);let r=eJ(e,t),n=t,i=eF,s=eq;for(;r!==eF;){let e=n/r,t=n%r,o=i-s*e;n=r,r=t,i=s,s=o}if(n!==eq)throw Error("invert: does not exist");return eJ(i,t)}let eQ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e0(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function e1(e,t,r=!1,n={}){let i;if(e<=eF)throw Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=e0(e,t);if(o>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:(e_<<BigInt(s-1))-eC,ZERO:eF,ONE:eq,create:t=>eJ(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return eF<=t&&t<e},is0:e=>e===eF,isOdd:e=>(e&eq)===eq,neg:t=>eJ(-t,e),eql:(e,t)=>e===t,sqr:t=>eJ(t*t,e),add:(t,r)=>eJ(t+r,e),sub:(t,r)=>eJ(t-r,e),mul:(t,r)=>eJ(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<eF)throw Error("invalid exponent, negatives unsupported");if(r===eF)return e.ONE;if(r===eq)return t;let n=e.ONE,i=t;for(;r>eF;)r&eq&&(n=e.mul(n,i)),i=e.sqr(i),r>>=eq;return n})(a,e,t),div:(t,r)=>eJ(t*eY(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>eY(t,e),sqrt:n.sqrt||(t=>(i||(i=function(e){if(e%ez===eV){let t=(e+eq)/ez;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%eG===e$){let t=(e-e$)/eG;return function(e,r){let n=e.mul(r,eX),i=e.pow(n,t),s=e.mul(r,i),o=e.mul(e.mul(s,eX),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),r))throw Error("Cannot find square root");return a}}return function(e){let t,r,n,i=(e-eq)/eX;for(t=e-eq,r=0;t%eX===eF;t/=eX,r++);for(n=eX;n<e&&function(e,t,r){if(t<eF)throw Error("invalid exponent, negatives unsupported");if(r<=eF)throw Error("invalid modulus");if(r===eq)return eF;let n=eq;for(;t>eF;)t&eq&&(n=n*e%r),e=e*e%r,t>>=eq;return n}(n,i,e)!==e-eq;n++)if(n>1e3)throw Error("Cannot find square root: likely non-prime P");if(1===r){let t=(e+eq)/ez;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+eq)/eX;return function(e,o){if(e.pow(o,i)===e.neg(e.ONE))throw Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,n),t),l=e.pow(o,s),d=e.pow(o,t);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(c,eq<<BigInt(a-t-1));c=e.sqr(r),l=e.mul(l,r),d=e.mul(d,c),a=t}return l}}(e)}(e)),i(a,t))),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?eU(e,o):eD(e,o),fromBytes:e=>{if(e.length!==o)throw Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return r?ek(e):eT(eS(e))}});return Object.freeze(a)}let e2=BigInt(0),e5=BigInt(1);function e6(e,t){let r=t.negate();return e?r:t}function e3(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function e4(e,t){return e3(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}let e8=new WeakMap,e9=new WeakMap;function e7(e){return e9.get(e)||1}let te=BigInt(0),tt=BigInt(1),tr=BigInt(2),tn=BigInt(8),ti={zip215:!0};BigInt(0),BigInt(1);let ts=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),to=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);let ta=BigInt(1),tc=BigInt(2);BigInt(3);let tl=BigInt(5),td=BigInt(8),th=e1(ts,void 0,!0),tu=function(e){var t;let r=function(e){let t=(eK(e.Fp,eQ.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),eK(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...e0(e.n,e.nBitLength),...e,p:e.Fp.ORDER}));return eK(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:i,prehash:s,hash:o,randomBytes:a,nByteLength:c,h:l}=r,d=tr<<BigInt(8*c)-tt,h=n.create,u=e1(r.n,r.nBitLength),p=r.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:te}}}),f=r.adjustScalarBytes||(e=>e),g=r.domain||((e,t,r)=>{if(eN("phflag",r),t.length||r)throw Error("Contexts/pre-hash are not supported");return e});function m(e,t){eB("coordinate "+e,t,te,d)}function y(e){if(!(e instanceof w))throw Error("ExtendedPoint expected")}let b=eH((e,t)=>{let{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?tn:n.inv(s));let a=h(r*t),c=h(i*t),l=h(s*t);if(o)return{x:te,y:tt};if(l!==tt)throw Error("invZ was invalid");return{x:a,y:c}}),v=eH(e=>{let{a:t,d:n}=r;if(e.is0())throw Error("bad point: ZERO");let{ex:i,ey:s,ez:o,et:a}=e,c=h(i*i),l=h(s*s),d=h(o*o),u=h(d*d),p=h(c*t);if(h(d*h(p+l))!==h(u+h(n*h(c*l))))throw Error("bad point: equation left != right (1)");if(h(i*s)!==h(o*a))throw Error("bad point: equation left != right (2)");return!0});class w{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,m("x",e),m("y",t),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw Error("extended point not allowed");let{x:t,y:r}=e||{};return m("x",t),m("y",r),new w(t,r,tt,h(t*r))}static normalizeZ(e){let t=n.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(w.fromAffine)}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})}(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t),r.length!==n.length)throw Error("arrays of points and scalars must have equal length");let i=e.ZERO,s=function(e){let t;for(t=0;e>eE;e>>=eC,t+=1);return t}(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=Array(a+1).fill(i),l=Math.floor((t.BITS-1)/o)*o,d=i;for(let e=l;e>=0;e-=o){c.fill(i);for(let t=0;t<n.length;t++){let i=Number(n[t]>>BigInt(e)&BigInt(a));c[i]=c[i].add(r[t])}let t=i;for(let e=c.length-1,r=i;e>0;e--)r=r.add(c[e]),t=t.add(r);if(d=d.add(t),0!==e)for(let e=0;e<o;e++)d=d.double()}return d}(w,u,e,t)}_setWindowSize(e){_.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){y(e);let{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,a=h(t*o),c=h(i*n),l=h(r*o),d=h(s*n);return a===c&&l===d}is0(){return this.equals(w.ZERO)}negate(){return new w(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){let{a:e}=r,{ex:t,ey:n,ez:i}=this,s=h(t*t),o=h(n*n),a=h(tr*h(i*i)),c=h(e*s),l=t+n,d=h(h(l*l)-s-o),u=c+o,p=u-a,f=c-o,g=h(d*p),m=h(u*f),y=h(d*f);return new w(g,m,h(p*u),y)}add(e){y(e);let{a:t,d:n}=r,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:l,ez:d,et:u}=e;if(t===BigInt(-1)){let e=h((s-i)*(l+c)),t=h((s+i)*(l-c)),r=h(t-e);if(r===te)return this.double();let n=h(o*tr*u),p=h(a*tr*d),f=p+n,g=t+e,m=p-n,y=h(f*r),b=h(g*m),v=h(f*m);return new w(y,b,h(r*g),v)}let p=h(i*c),f=h(s*l),g=h(a*n*u),m=h(o*d),b=h((i+s)*(c+l)-p-f),v=m-g,E=m+g,C=h(f-t*p),_=h(b*v),O=h(E*C),x=h(b*C);return new w(_,O,h(v*E),x)}subtract(e){return this.add(e.negate())}wNAF(e){return _.wNAFCached(this,e,w.normalizeZ)}multiply(e){eB("scalar",e,tt,i);let{p:t,f:r}=this.wNAF(e);return w.normalizeZ([t,r])[0]}multiplyUnsafe(e,t=w.ZERO){return eB("scalar",e,te,i),e===te?C:this.is0()||e===tt?this:_.wNAFCachedUnsafe(this,e,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return _.unsafeLadder(this,i).is0()}toAffine(e){return b(this,e)}clearCofactor(){let{h:e}=r;return e===tt?this:this.multiplyUnsafe(e)}static fromHex(e,t=!1){let{d:i,a:s}=r,o=n.BYTES;e=eM("pointHex",e,o),eN("zip215",t);let a=e.slice(),c=e[o-1];a[o-1]=-129&c;let l=ek(a);eB("pointHex.y",l,te,t?d:n.ORDER);let u=h(l*l),{isValid:f,value:g}=p(h(u-tt),h(i*u-s));if(!f)throw Error("Point.fromHex: invalid y coordinate");let m=(g&tt)===tt,y=(128&c)!=0;if(!t&&g===te&&y)throw Error("Point.fromHex: x=0 and x_0=1");return y!==m&&(g=h(-g)),w.fromAffine({x:g,y:l})}static fromPrivateKey(e){return O(e).point}toRawBytes(){let{x:e,y:t}=this.toAffine(),r=eU(t,n.BYTES);return r[r.length-1]|=e&tt?128:0,r}toHex(){return eS(this.toRawBytes())}}w.BASE=new w(r.Gx,r.Gy,tt,h(r.Gx*r.Gy)),w.ZERO=new w(te,tt,tt,te);let{BASE:E,ZERO:C}=w,_=(t=8*c,{constTimeNegate:e6,hasPrecomputes:e=>1!==e7(e),unsafeLadder(e,t,r=w.ZERO){let n=e;for(;t>e2;)t&e5&&(r=r.add(n)),n=n.double(),t>>=e5;return r},precomputeWindow(e,r){let{windows:n,windowSize:i}=e4(r,t),s=[],o=e,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,r,n){let{windows:i,windowSize:s}=e4(e,t),o=w.ZERO,a=w.BASE,c=BigInt(2**e-1),l=2**e,d=BigInt(e);for(let e=0;e<i;e++){let t=e*s,i=Number(n&c);n>>=d,i>s&&(i-=l,n+=e5);let h=t+Math.abs(i)-1,u=e%2!=0,p=i<0;0===i?a=a.add(e6(u,r[t])):o=o.add(e6(p,r[h]))}return{p:o,f:a}},wNAFUnsafe(e,r,n,i=w.ZERO){let{windows:s,windowSize:o}=e4(e,t),a=BigInt(2**e-1),c=2**e,l=BigInt(e);for(let e=0;e<s;e++){let t=e*o;if(n===e2)break;let s=Number(n&a);if(n>>=l,s>o&&(s-=c,n+=e5),0===s)continue;let d=r[t+Math.abs(s)-1];s<0&&(d=d.negate()),i=i.add(d)}return i},getPrecomputes(e,t,r){let n=e8.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&e8.set(t,r(n))),n},wNAFCached(e,t,r){let n=e7(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=e7(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){e3(r,t),e9.set(e,r),e8.delete(e)}});function O(e){let t=n.BYTES;e=eM("private key",e,t);let r=eM("hashed private key",o(e),2*t),s=f(r.slice(0,t)),a=r.slice(t,2*t),c=eJ(ek(s),i),l=E.multiply(c),d=l.toRawBytes();return{head:s,prefix:a,scalar:c,point:l,pointBytes:d}}function x(e=new Uint8Array,...t){return eJ(ek(o(g(eL(...t),eM("context",e),!!s))),i)}return E._setWindowSize(8),{CURVE:r,getPublicKey:function(e){return O(e).pointBytes},sign:function(e,t,r={}){e=eM("message",e),s&&(e=s(e));let{prefix:o,scalar:a,pointBytes:c}=O(t),l=x(r.context,o,e),d=E.multiply(l).toRawBytes(),h=eJ(l+x(r.context,d,c,e)*a,i);return eB("signature.s",h,te,i),eM("result",eL(d,eU(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r,i=ti){let o,a,c,{context:l,zip215:d}=i,h=n.BYTES;e=eM("signature",e,2*h),t=eM("message",t),r=eM("publicKey",r,h),void 0!==d&&eN("zip215",d),s&&(t=s(t));let u=ek(e.slice(h,2*h));try{o=w.fromHex(r,d),a=w.fromHex(e.slice(0,h),d),c=E.multiplyUnsafe(u)}catch{return!1}if(!d&&o.isSmallOrder())return!1;let p=x(l,a.toRawBytes(),o.toRawBytes(),t);return a.add(o.multiplyUnsafe(p)).subtract(c).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:O,randomPrivateKey:()=>a(n.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:th,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:td,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ew,randomBytes:ed,adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e},uvRatio:function(e,t){let r=eJ(t*t*t,ts),n=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=e*e%ts*e%ts,o=eZ(s,tc,ts)*s%ts,a=eZ(o,ta,ts)*e%ts,c=eZ(a,tl,ts)*a%ts,l=eZ(c,t,ts)*c%ts,d=eZ(l,r,ts)*l%ts,h=eZ(d,n,ts)*d%ts,u=eZ(h,i,ts)*h%ts,p=eZ(u,i,ts)*h%ts,f=eZ(p,t,ts)*c%ts;return{pow_p_5_8:eZ(f,tc,ts)*e%ts,b2:s}}(e*eJ(r*r*t,ts)).pow_p_5_8,i=eJ(e*r*n,ts),s=eJ(t*i*i,ts),o=i,a=eJ(i*to,ts),c=s===e,l=s===eJ(-e,ts),d=s===eJ(-e*to,ts);return c&&(i=o),(l||d)&&(i=a),(eJ(i,ts)&eq)===eq&&(i=eJ(-i,ts)),{isValid:c||l,value:i}}}),tp="base64url",tf="utf8",tg="utf8",tm="base58btc";function ty(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function tb(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ty(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function tv(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=tb(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return ty(r)}var tw=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var h=0,u=s-1;(0!==d||h<i)&&-1!==u;u--,h++)d+=a*o[u]>>>0,o[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],u=0,p=o-1;(0!==h||u<n)&&-1!==p;p--,u++)h+=256*l[p]>>>0,l[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=u,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let tE=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class tC{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class t_{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tx(this,e)}}class tO{constructor(e){this.decoders=e}or(e){return tx(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let tx=(e,t)=>new tO({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tN{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new tC(e,t,r),this.decoder=new t_(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let tA=({name:e,prefix:t,encode:r,decode:n})=>new tN(e,t,r,n),tS=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=tw(r,t);return tA({prefix:e,name:t,encode:n,decode:e=>tE(i(e))})},tT=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>tA({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,n,r,e)});var tR=Object.freeze({__proto__:null,identity:tA({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),tI=Object.freeze({__proto__:null,base2:tT({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),tP=Object.freeze({__proto__:null,base8:tT({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),tk=Object.freeze({__proto__:null,base10:tS({prefix:"9",name:"base10",alphabet:"0123456789"})}),tD=Object.freeze({__proto__:null,base16:tT({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:tT({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let tU=tT({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tM=tT({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tL=tT({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tj=tT({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tB=tT({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tW=tT({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tK=tT({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var tH=Object.freeze({__proto__:null,base32:tU,base32upper:tM,base32pad:tL,base32padupper:tj,base32hex:tB,base32hexupper:tW,base32hexpad:tK,base32hexpadupper:tT({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:tT({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),tF=Object.freeze({__proto__:null,base36:tS({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:tS({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),tq=Object.freeze({__proto__:null,base58btc:tS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:tS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let tX=tT({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),tV=tT({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var tz=Object.freeze({__proto__:null,base64:tX,base64pad:tV,base64url:tT({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:tT({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let t$=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),tG=t$.reduce((e,t,r)=>(e[r]=t,e),[]),tJ=t$.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var tZ=Object.freeze({__proto__:null,base256emoji:tA({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=tG[t],"")},decode:function(e){let t=[];for(let r of e){let e=tJ[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function tY(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,tY.bytes=r-n+1,t}var tQ={encode:tY,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let t0=(e,t,r=0)=>(tQ.encode(e,t,r),t),t1=e=>tQ.encodingLength(e),t2=(e,t)=>{let r=t.byteLength,n=t1(e),i=n+t1(r),s=new Uint8Array(i+r);return t0(e,s,0),t0(r,s,n),s.set(t,i),new t5(e,r,t,s)};class t5{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let t6=({name:e,code:t,encode:r})=>new t3(e,t,r);class t3{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?t2(this.code,t):t.then(e=>t2(this.code,e))}throw Error("Unknown type, must be binary type")}}let t4=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var t8=Object.freeze({__proto__:null,sha256:t6({name:"sha2-256",code:18,encode:t4("SHA-256")}),sha512:t6({name:"sha2-512",code:19,encode:t4("SHA-512")})}),t9=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:tE,digest:e=>t2(0,tE(e))}});new TextEncoder,new TextDecoder;let t7={...tR,...tI,...tP,...tk,...tD,...tH,...tF,...tq,...tz,...tZ};function re(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...t8,...t9});let rt=re("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),rr=re("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=tb((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),rn={utf8:rt,"utf-8":rt,hex:t7.base16,latin1:rr,ascii:rr,binary:rr,...t7};function ri(e,t="utf8"){let r=rn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function rs(e,t="utf8"){let r=rn[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?ty(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function ro(e){return(0,R.j)(ri(rs(e,tp),tf))}function ra(e){return ri(rs((0,R.h)(e),tf),tp)}function rc(e){return["did:key","z"+ri(tv([rs("K36",tm),e]),tm)].join(":")}function rl(e){let t=e.split("."),r=ro(t[0]),n=ro(t[1]);return{header:r,payload:n,signature:rs(t[2],tp),data:rs(t.slice(0,2).join("."),tg)}}function rd(e=ed(32)){let t=tu.getPublicKey(e);return{secretKey:tv([e,t]),publicKey:t}}async function rh(e,t,r,n,i=(0,a.fromMiliseconds)(Date.now())){let s={alg:"EdDSA",typ:"JWT"},o={iss:rc(n.publicKey),sub:e,aud:t,iat:i,exp:i+r},c=rs([ra((l={header:s,payload:o}).header),ra(l.payload)].join("."),tg);var l,d={header:s,payload:o,signature:tu.sign(c,n.secretKey.slice(0,32))};return[ra(d.header),ra(d.payload),ri(d.signature,tp)].join(".")}var ru=r(87358),rp=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},rf=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},rg=function(e){this.version=e,this.type="node",this.name="node",this.os=ru.platform},rm=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},ry=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},rb=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},rv=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,rw=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],rE=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]],rC=r(26662),r_=r(88955);let rO="2.31.0",rx={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${rO}`};class rN extends Error{constructor(e,t={}){let r=t.cause instanceof rN?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof rN&&t.cause.docsPath||t.docsPath,i=rx.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...rx.version?[`Version: ${rx.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=rO}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}function rA(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class rS extends rN{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function rT(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new rS({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new rS({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let s="right"===t;n[s?i:r-i-1]=e[s?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class rR extends rN{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class rI extends rN{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function rP(e){return rA(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function rk(e,{size:t}){if(rP(e)>t)throw new rI({givenSize:rP(e),maxSize:t})}function rD(e,t={}){let{signed:r}=t;t.size&&rk(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}let rU=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rM(e,t={}){return"number"==typeof e||"bigint"==typeof e?rj(e,t):"string"==typeof e?function(e,t={}){return rL(rB.encode(e),t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(rk(r,{size:t.size}),rT(r,{size:t.size})):r}(e,t):rL(e,t)}function rL(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=rU[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(rk(n,{size:t.size}),rT(n,{dir:"right",size:t.size})):n}function rj(e,t={}){let r,{signed:n,size:i}=t,s=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof r&&n?-r-1n:0;if(r&&s>r||s<o){let t="bigint"==typeof e?"n":"";throw new rR({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:n,size:i,value:`${e}${t}`})}let a=`0x${(n&&s<0?(1n<<BigInt(8*i))+BigInt(s):s).toString(16)}`;return i?rT(a,{size:i}):a}let rB=new TextEncoder,rW=new TextEncoder,rK={zero:48,nine:57,A:65,F:70,a:97,f:102};function rH(e){return e>=rK.zero&&e<=rK.nine?e-rK.zero:e>=rK.A&&e<=rK.F?e-(rK.A-10):e>=rK.a&&e<=rK.f?e-(rK.a-10):void 0}function rF(e,t={}){let r=e;t.size&&(rk(r,{size:t.size}),r=rT(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,s=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=rH(n.charCodeAt(t++)),i=rH(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new rN(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);s[e]=16*r+i}return s}function rq(e,t={}){let r=rW.encode(e);return"number"==typeof t.size?(rk(r,{size:t.size}),rT(r,{dir:"right",size:t.size})):r}var rX=r(98761),rV=r(51826);let rz=BigInt(0),r$=BigInt(1),rG=BigInt(2),rJ=BigInt(7),rZ=BigInt(256),rY=BigInt(113),rQ=[],r0=[],r1=[];for(let e=0,t=r$,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],rQ.push(2*(5*n+r)),r0.push((e+1)*(e+2)/2%64);let i=rz;for(let e=0;e<7;e++)(t=(t<<r$^(t>>rJ)*rY)%rZ)&rG&&(i^=r$<<(r$<<BigInt(e))-r$);r1.push(i)}let r2=(0,rX.lD)(r1,!0),r5=r2[0],r6=r2[1],r3=(e,t,r)=>r>32?(0,rX.WM)(e,t,r):(0,rX.P5)(e,t,r),r4=(e,t,r)=>r>32?(0,rX.im)(e,t,r):(0,rX.B4)(e,t,r);class r8 extends rV.Vw{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,(0,rV.Fe)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,rV.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,rV.fd)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=r3(s,o,1)^r[n],c=r4(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=r0[r],s=r3(t,i,n),o=r4(t,i,n),a=rQ[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=r5[n],e[1]^=r6[n]}(0,rV.uH)(r)}(this.state32,this.rounds),(0,rV.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,rV.CC)(this),e=(0,rV.ZJ)(e),(0,rV.DO)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,rV.CC)(this,!1),(0,rV.DO)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,rV.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,rV.Ht)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,rV.uH)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new r8(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let r9=(()=>(0,rV.qj)(()=>new r8(136,1,32)))();function r7(e,t){let r=r9(rA(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?rF(rj(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(rk(r,{size:t.size}),rT(r,{size:t.size})):r}(e,t):rA(e)?rF(e,t):rq(e,t)}(e):e);return"bytes"===(t||"hex")?r:rM(r)}class ne extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let nt=new ne(8192);async function nr({hash:e,signature:t}){let n=rA(e)?e:rM(e),{secp256k1:i}=await r.e(2090).then(r.bind(r,32090)),s=(()=>{if("object"==typeof t&&"r"in t&&"s"in t){let{r:e,s:r,v:n,yParity:s}=t,o=nn(Number(s??n));return new i.Signature(rD(e),rD(r)).addRecoveryBit(o)}let e=rA(t)?t:rM(t);if(65!==rP(e))throw Error("invalid signature length");let r=nn(function(e,t={}){return Number(rD(e,t))}(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(r)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${s}`}function nn(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function ni({hash:e,signature:t}){var r=await nr({hash:e,signature:t});let n=r7(`0x${r.substring(4)}`).substring(26);return function(e,t){if(nt.has(`${e}.undefined`))return nt.get(`${e}.${void 0}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=r7(rq(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let s=`0x${i.join("")}`;return nt.set(`${e}.${t}`,s),s}(`0x${n}`)}let ns=function(e){if(e.length>=255)throw TypeError("Alphabet too long");let t=new Uint8Array(256);for(let e=0;e<t.length;e++)t[e]=255;for(let r=0;r<e.length;r++){let n=e.charAt(r),i=n.charCodeAt(0);if(255!==t[i])throw TypeError(n+" is ambiguous");t[i]=r}let r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===n;)o++,s++;let c=(e.length-s)*i+1>>>0,l=new Uint8Array(c);for(;s<e.length;){let n=e.charCodeAt(s);if(n>255)return;let i=t[n];if(255===i)return;let o=0;for(let e=c-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=r*l[e]>>>0,l[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw Error("Non-zero carry");a=o,s++}let d=c-a;for(;d!==c&&0===l[d];)d++;let h=new Uint8Array(o+(c-d)),u=o;for(;d!==c;)h[u++]=l[d++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0,c=t.length;for(;a!==c&&0===t[a];)a++,i++;let l=(c-a)*s+1>>>0,d=new Uint8Array(l);for(;a!==c;){let e=t[a],n=0;for(let t=l-1;(0!==e||n<o)&&-1!==t;t--,n++)e+=256*d[t]>>>0,d[t]=e%r>>>0,e=e/r>>>0;if(0!==e)throw Error("Non-zero carry");o=n,a++}let h=l-o;for(;h!==l&&0===d[h];)h++;let u=n.repeat(i);for(;h<l;++h)u+=e.charAt(d[h]);return u},decodeUnsafe:o,decode:function(e){let t=o(e);if(t)return t;throw Error("Non-base"+r+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function no(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}class na{constructor(e,t){this.type=e,this.data=t}}class nc extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(nc.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:nc.name})}}function nl(e,t,r){let n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function nd(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}let nh={type:-1,encode:function(e){return e instanceof Date?function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let r=e/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|3&r),i.setUint32(4,0|e),n}{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),nl(n,4,e),r}}(function(e){let t=e.getTime(),r=Math.floor(t/1e3),n=(t-1e3*r)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}(e)):null},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:nd(t,4),nsec:t.getUint32(0)};default:throw new nc(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class nu{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(nh)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let n=this.builtInEncoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new na(-1-r,i)}}for(let r=0;r<this.encoders.length;r++){let n=this.encoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new na(r,i)}}return e instanceof na?e:null}decode(e,t,r){let n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new na(t,e)}}nu.defaultCodec=new nu;let np=new TextEncoder;function nf(e,t,r){let n=t,i=n+r,s=[],o="";for(;n<i;){let t=e[n++];if((128&t)==0)s.push(t);else if((224&t)==192){let r=63&e[n++];s.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if((248&t)==240){let r=63&e[n++],i=(7&t)<<18|r<<12|(63&e[n++])<<6|63&e[n++];i>65535&&(i-=65536,s.push(i>>>10&1023|55296),i=56320|1023&i),s.push(i)}else s.push(t);s.length>=4096&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}let ng=new TextDecoder;function nm(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}class ny{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let n=this.caches[r-1];t:for(let i of n){let n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue t;return i.str}return null}store(e,t){let r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){let n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;let i=nf(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i}}let nb="array",nv="map_key",nw="map_value",nE=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new nc("The type of key must be string or number but "+typeof e)};class nC{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=nb,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=nv,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===nb&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===nv||e.type===nw)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let n_=new DataView(new ArrayBuffer(0)),nO=new Uint8Array(n_.buffer);try{n_.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let nx=RangeError("Insufficient data"),nN=new ny;class nA{constructor(e){this.totalPos=0,this.pos=0,this.view=n_,this.bytes=nO,this.headByte=-1,this.stack=new nC,this.entered=!1,this.extensionCodec=e?.extensionCodec??nu.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??0xffffffff,this.maxBinLength=e?.maxBinLength??0xffffffff,this.maxArrayLength=e?.maxArrayLength??0xffffffff,this.maxMapLength=e?.maxMapLength??0xffffffff,this.maxExtLength=e?.maxExtLength??0xffffffff,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:nN,this.mapKeyConverter=e?.mapKeyConverter??nE}clone(){return new nA({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=nm(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=nm(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:n,pos:i,totalPos:s}=this;throw RangeError(`Insufficient data in parsing ${no(n)} at ${s} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,n=-1;for await(let i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){r:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new nc(`Unrecognized type byte: ${no(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===nb)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue r;else if(t.type===nv){if("__proto__"===e)throw new nc("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=nw;continue r}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=nv;continue r}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new nc(`Unrecognized array type byte: ${no(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new nc(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new nc(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new nc(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw nx;let n=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):function(e,t,r){if(!(r>200))return nf(e,t,r);let n=e.subarray(t,t+r);return ng.decode(n)}(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===nv}decodeBinary(e,t){if(e>this.maxBinLength)throw new nc(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw nx;let r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new nc(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){var e,t;let r=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r}readI64(){let e=nd(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}class nS{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??nu.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new nS({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=function(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){if(e.length>50)np.encodeInto(e,t.subarray(r));else!function(e,t,r){let n=e.length,i=r,s=0;for(;s<n;){let r=e.charCodeAt(s++);if((0xffffff80&r)==0){t[i++]=r;continue}if((0xfffff800&r)==0)t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&s<n){let t=e.charCodeAt(s);(64512&t)==56320&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[i++]=r>>12&15|224:(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128}t[i++]=63&r|128}}(e,t,r)}(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=nm(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error(`Too large map object: ${n}`);for(let n of r){let r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/0x100000000),t.setUint32(r+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),nl(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function nT(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function nR(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function nI(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function nP(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function nk(e){if(!Array.isArray(e))throw Error("array expected")}function nD(e,t){if(!nR(!0,t))throw Error(`${e}: array of strings expected`)}function nU(e,t){if(!nR(!1,t))throw Error(`${e}: array of numbers expected`)}function nM(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function nL(e){let t="string"==typeof e?e.split(""):e,r=t.length;nD("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(nk(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(nk(t),t.map(t=>{nI("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function nj(e=""){return nI("join",e),{encode:t=>(nD("join.decode",t),t.join(e)),decode:t=>(nI("join.decode",t),t.split(e))}}function nB(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(nk(e),!e.length)return[];let n=0,i=[],s=Array.from(e,e=>{if(nP(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=n;i<o;i++){let o=s[i],c=t*e,l=c+o;if(!Number.isSafeInteger(l)||c/t!==e||l-o!==c)throw Error("convertRadix: carry overflow");let d=l/r;e=l%r;let h=Math.floor(d);if(s[i]=h,!Number.isSafeInteger(h)||h*r+e!==l)throw Error("convertRadix: carry overflow");a&&(h?a=!1:n=i)}if(i.push(e),a)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}let nW=(e,t)=>0===t?e:nW(t,e%t),nK=(e,t)=>e+(t-nW(e,t)),nH=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function nF(e,t,r,n){if(nk(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(nK(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${nK(t,r)}`);let i=0,s=0,o=nH[t],a=nH[r]-1,c=[];for(let n of e){if(nP(n),n>=o)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,s+t>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((i>>s-r&a)>>>0);let e=nH[s];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-s&a,!n&&s>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}let nq=nM(function(e,t=!1){if(nP(5),e<=0||e>32)throw Error("radix2: bits should be in (0..32]");if(nK(8,e)>32||nK(e,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!nT(r))throw Error("radix2.encode input should be Uint8Array");return nF(Array.from(r),8,e,!t)},decode:r=>(nU("radix2.decode",r),Uint8Array.from(nF(r,e,8,t)))}}(5),nL("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return nP(5),nI("padding",t),{encode(r){for(nD("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){nD("padding.decode",r);let n=r.length;if(n*e%8)throw Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}(5),nj("")),nX="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64;i=58,nP(58);"function"==typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;function nV(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function nz(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?nV(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function n$(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=nz(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return nV(r)}var nG=r(43546);function nJ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let nZ=nJ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),nY=nJ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=nz((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),nQ={utf8:nZ,"utf-8":nZ,hex:nG.bases.base16,latin1:nY,ascii:nY,binary:nY,...nG.bases};function n0(e,t="utf8"){let r=nQ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?nV(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function n1(e,t="utf8"){let r=nQ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}let n2={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var n5=r(7873),n6=r(87358),n3=r(81029).hp;function n4(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function n8(e,t){return e.includes(":")?[e]:t.chains||[]}var n9=Object.defineProperty,n7=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,ir=Object.prototype.hasOwnProperty,ii=Object.prototype.propertyIsEnumerable,is=(e,t,r)=>t in e?n9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,io=(e,t)=>{for(var r in t||(t={}))ir.call(t,r)&&is(e,r,t[r]);if(it)for(var r of it(t))ii.call(t,r)&&is(e,r,t[r]);return e},ia=(e,t,r)=>is(e,"symbol"!=typeof t?t+"":t,r);let ic={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function il(){return"u">typeof n6&&"u">typeof n6.versions&&"u">typeof n6.versions.node}function id(){return!(0,rC.getDocument)()&&!!(0,rC.getNavigator)()&&"ReactNative"===navigator.product}function ih(){return!il()&&!!(0,rC.getNavigator)()&&!!(0,rC.getDocument)()}function iu(){return id()?ic.reactNative:il()?ic.node:ih()?ic.browser:ic.unknown}function ip(){var e;try{return id()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Application)?null==(e=r.g.Application)?void 0:e.applicationId:void 0}catch{return}}function ig(){return(0,r_.g)()||{name:"",description:"",url:"",icons:[""]}}function im(e,t,n){let i=function(){if(iu()===ic.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:e,Version:t}=r.g.Platform;return[e,t].join("-")}let e="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new rb:"undefined"!=typeof navigator?function(e){var t=""!==e&&rw.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var s=i.exec(e);return!!s&&[n,s]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new ry;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=rp(rp([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,r=rE.length;t<r;t++){var n=rE[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=rv.exec(e);return a&&a[1]?new rm(r,s,o,a[1]):new rf(r,s,o)}(navigator.userAgent):void 0!==ru&&ru.version?new rg(ru.version.slice(1)):null;if(null===e)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;let t=iu();return t===ic.browser?[t,(null==(e=(0,rC.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,s].join("/")}function iy(e,t){return e.filter(e=>t.includes(e)).length===e.length}function ib(e){return Object.fromEntries(e.entries())}function iv(e){return new Map(Object.entries(e))}function iw(e=a.FIVE_MINUTES,t){let r,n,i,s,o=(0,a.toMiliseconds)(e||a.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),s=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,a)=>{if(s)return e(s);i=setTimeout(()=>{let e=Error(t);s=Promise.reject(e),a(e)},o),r=e,n=a})}}function iE(e,t,r){return new Promise(async(n,i)=>{let s=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(s)})}function iC(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function i_(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function iO(e,t){return(0,a.fromMiliseconds)((t||Date.now())+(0,a.toMiliseconds)(e))}function ix(e){return Date.now()>=(0,a.toMiliseconds)(e)}function iN(e,t){return`${e}${t?`:${t}`:""}`}function iA(e=[],t=[]){return[...new Set([...e,...t])]}async function iS({id:e,topic:t,wcDeepLink:n}){var i,s;try{if(!n)return;let o="string"==typeof n?JSON.parse(n):n,a=o?.href;if("string"!=typeof a)return;let c=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=n3.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(a,e,t),l=iu();if(l===ic.browser){let e;if(!(null!=(i=(0,rC.getDocument)())&&i.hasFocus()))return void console.warn("Document does not have focus, skipping deeplink.");s=c,e="_self",!function(){try{return window.self!==window.top}catch{return!1}}()?("u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)||s.startsWith("https://")||s.startsWith("http://"))&&(e="_blank"):e="_top",window.open(s,e,"noreferrer noopener")}else l===ic.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(c)}catch(e){console.error(e)}}async function iT(e,t){let r="";try{if(ih()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function iR(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function iI(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function iP(){return"u">typeof n6&&"true"===n6.env.IS_VITEST}function ik(e){return n3.from(e,"base64").toString("utf-8")}class iD{constructor({limit:e}){ia(this,"limit"),ia(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}let iU=BigInt(0x100000000-1),iM=BigInt(32);function iL(e,t=!1){return t?{h:Number(e&iU),l:Number(e>>iM&iU)}:{h:0|Number(e>>iM&iU),l:0|Number(e&iU)}}function ij(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:o}=iL(e[s],t);[n[s],i[s]]=[r,o]}return[n,i]}let iB=(e,t,r)=>e>>>r,iW=(e,t,r)=>e<<32-r|t>>>r,iK=(e,t,r)=>e>>>r|t<<32-r,iH=(e,t,r)=>e<<32-r|t>>>r,iF=(e,t,r)=>e<<64-r|t>>>r-32,iq=(e,t,r)=>e>>>r-32|t<<64-r;function iX(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let iV=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),iz=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,i$=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),iG=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,iJ=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),iZ=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0,iY="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function iQ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function i0(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i1(e,...t){if(!iQ(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function i2(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");i0(e.outputLen),i0(e.blockLen)}function i5(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function i6(e,t){i1(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function i3(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function i4(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function i8(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function i9(e,t){return e<<32-t|e>>>t}let i7=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function se(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let st=i7?e=>e:e=>se(e),sr=i7?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=se(e[t]);return e},sn="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,si=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ss(e){if(i1(e),sn)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=si[e[r]];return t}let so={_0:48,_9:57,A:65,F:70,a:97,f:102};function sa(e){return e>=so._0&&e<=so._9?e-so._0:e>=so.A&&e<=so.F?e-(so.A-10):e>=so.a&&e<=so.f?e-(so.a-10):void 0}function sc(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(sn)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=sa(e.charCodeAt(i)),s=sa(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function sl(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),i1(e),e}function sd(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];i1(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class sh{}function su(e){let t=t=>e().update(sl(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function sp(e=32){if(iY&&"function"==typeof iY.getRandomValues)return iY.getRandomValues(new Uint8Array(e));if(iY&&"function"==typeof iY.randomBytes)return Uint8Array.from(iY.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let sf=BigInt(0),sg=BigInt(1),sm=BigInt(2),sy=BigInt(7),sb=BigInt(256),sv=BigInt(113),sw=[],sE=[],sC=[];for(let e=0,t=sg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],sw.push(2*(5*n+r)),sE.push((e+1)*(e+2)/2%64);let i=sf;for(let e=0;e<7;e++)(t=(t<<sg^(t>>sy)*sv)%sb)&sm&&(i^=sg<<(sg<<BigInt(e))-sg);sC.push(i)}let s_=ij(sC,!0),sO=s_[0],sx=s_[1],sN=(e,t,r)=>r>32?((e,t,r)=>t<<r-32|e>>>64-r)(e,t,r):((e,t,r)=>e<<r|t>>>32-r)(e,t,r),sA=(e,t,r)=>r>32?((e,t,r)=>e<<r-32|t>>>64-r)(e,t,r):((e,t,r)=>t<<r|e>>>32-r)(e,t,r);class sS extends sh{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,i0(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=i3(this.state)}clone(){return this._cloneInto()}keccak(){sr(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=sN(s,o,1)^r[n],c=sA(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=sE[r],s=sN(t,i,n),o=sA(t,i,n),a=sw[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=sO[n],e[1]^=sx[n]}i4(r)}(this.state32,this.rounds),sr(this.state32),this.posOut=0,this.pos=0}update(e){i5(this),i1(e=sl(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){i5(this,!1),i1(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return i0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(i6(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,i4(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new sS(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let sT=su(()=>new sS(136,1,32));class sR extends sh{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=i8(this.buffer)}update(e){i5(this),i1(e=sl(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let t=i8(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){i5(this),i6(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,i4(this.buffer.subarray(s)),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=4*!!n,l=4*!n;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=i8(e),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=a/4,l=this.get();if(c>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let sI=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),sP=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),sk=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),sD=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),sU=new Uint32Array(64);class sM extends sR{constructor(e=32){super(64,e,8,!1),this.A=0|sI[0],this.B=0|sI[1],this.C=0|sI[2],this.D=0|sI[3],this.E=0|sI[4],this.F=0|sI[5],this.G=0|sI[6],this.H=0|sI[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[e,t,r,n,i,s,o,a]}set(e,t,r,n,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)sU[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=sU[e-15],r=sU[e-2],n=i9(t,7)^i9(t,18)^t>>>3,i=i9(r,17)^i9(r,19)^r>>>10;sU[e]=i+sU[e-7]+n+sU[e-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:c,H:l}=this;for(let e=0;e<64;e++){var d,h,u,p;let t=l+(i9(o,6)^i9(o,11)^i9(o,25))+((d=o)&a^~d&c)+sD[e]+sU[e]|0,f=(i9(r,2)^i9(r,13)^i9(r,22))+((h=r)&(u=n)^h&(p=i)^u&p)|0;l=c,c=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+f|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,i,s,o,a,c,l)}roundClean(){i4(sU)}destroy(){this.set(0,0,0,0,0,0,0,0),i4(this.buffer)}}let sL=ij(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),sj=sL[0],sB=sL[1],sW=new Uint32Array(80),sK=new Uint32Array(80);class sH extends sR{constructor(e=64){super(128,e,16,!1),this.Ah=0|sk[0],this.Al=0|sk[1],this.Bh=0|sk[2],this.Bl=0|sk[3],this.Ch=0|sk[4],this.Cl=0|sk[5],this.Dh=0|sk[6],this.Dl=0|sk[7],this.Eh=0|sk[8],this.El=0|sk[9],this.Fh=0|sk[10],this.Fl=0|sk[11],this.Gh=0|sk[12],this.Gl=0|sk[13],this.Hh=0|sk[14],this.Hl=0|sk[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:c,El:l,Fh:d,Fl:h,Gh:u,Gl:p,Hh:f,Hl:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|c,this.El=0|l,this.Fh=0|d,this.Fl=0|h,this.Gh=0|u,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)sW[r]=e.getUint32(t),sK[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|sW[e-15],r=0|sK[e-15],n=iK(t,r,1)^iK(t,r,8)^iB(t,r,7),i=iH(t,r,1)^iH(t,r,8)^iW(t,r,7),s=0|sW[e-2],o=0|sK[e-2],a=iK(s,o,19)^iF(s,o,61)^iB(s,o,6),c=i$(i,iH(s,o,19)^iq(s,o,61)^iW(s,o,6),sK[e-7],sK[e-16]),l=iG(c,n,a,sW[e-7],sW[e-16]);sW[e]=0|l,sK[e]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:c,Dl:l,Eh:d,El:h,Fh:u,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=iK(d,h,14)^iK(d,h,18)^iF(d,h,41),b=iH(d,h,14)^iH(d,h,18)^iq(d,h,41),v=d&u^~d&f,w=iJ(y,b,h&p^~h&g,sB[e],sK[e]),E=iZ(w,m,t,v,sj[e],sW[e]),C=0|w,_=iK(r,n,28)^iF(r,n,34)^iF(r,n,39),O=iH(r,n,28)^iq(r,n,34)^iq(r,n,39),x=r&i^r&o^i&o,N=n&s^n&a^s&a;m=0|f,y=0|g,f=0|u,g=0|p,u=0|d,p=0|h,({h:d,l:h}=iX(0|c,0|l,0|E,0|C)),c=0|o,l=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let A=iV(C,O,N);r=iz(A,E,_,x),n=0|A}({h:r,l:n}=iX(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=iX(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=iX(0|this.Ch,0|this.Cl,0|o,0|a)),({h:c,l:l}=iX(0|this.Dh,0|this.Dl,0|c,0|l)),({h:d,l:h}=iX(0|this.Eh,0|this.El,0|d,0|h)),({h:u,l:p}=iX(0|this.Fh,0|this.Fl,0|u,0|p)),({h:f,l:g}=iX(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=iX(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,c,l,d,h,u,p,f,g,m,y)}roundClean(){i4(sW,sK)}destroy(){i4(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class sF extends sH{constructor(){super(48),this.Ah=0|sP[0],this.Al=0|sP[1],this.Bh=0|sP[2],this.Bl=0|sP[3],this.Ch=0|sP[4],this.Cl=0|sP[5],this.Dh=0|sP[6],this.Dl=0|sP[7],this.Eh=0|sP[8],this.El=0|sP[9],this.Fh=0|sP[10],this.Fl=0|sP[11],this.Gh=0|sP[12],this.Gl=0|sP[13],this.Hh=0|sP[14],this.Hl=0|sP[15]}}let sq=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class sX extends sH{constructor(){super(32),this.Ah=0|sq[0],this.Al=0|sq[1],this.Bh=0|sq[2],this.Bl=0|sq[3],this.Ch=0|sq[4],this.Cl=0|sq[5],this.Dh=0|sq[6],this.Dl=0|sq[7],this.Eh=0|sq[8],this.El=0|sq[9],this.Fh=0|sq[10],this.Fl=0|sq[11],this.Gh=0|sq[12],this.Gl=0|sq[13],this.Hh=0|sq[14],this.Hl=0|sq[15]}}let sV=su(()=>new sM),sz=su(()=>new sH),s$=su(()=>new sF),sG=su(()=>new sX),sJ=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),sZ=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),sY=new Uint32Array(32);function sQ(e,t,r,n,i,s){let o=i[s],a=i[s+1],c=sY[2*e],l=sY[2*e+1],d=sY[2*t],h=sY[2*t+1],u=sY[2*r],p=sY[2*r+1],f=sY[2*n],g=sY[2*n+1],m=iV(c,d,o);l=iz(m,l,h,a),c=0|m,({Dh:g,Dl:f}={Dh:g^l,Dl:f^c}),({Dh:g,Dl:f}={Dh:f,Dl:g}),({h:p,l:u}=iX(p,u,g,f)),({Bh:h,Bl:d}={Bh:h^p,Bl:d^u}),({Bh:h,Bl:d}={Bh:iK(h,d,24),Bl:iH(h,d,24)}),sY[2*e]=c,sY[2*e+1]=l,sY[2*t]=d,sY[2*t+1]=h,sY[2*r]=u,sY[2*r+1]=p,sY[2*n]=f,sY[2*n+1]=g}function s0(e,t,r,n,i,s){let o=i[s],a=i[s+1],c=sY[2*e],l=sY[2*e+1],d=sY[2*t],h=sY[2*t+1],u=sY[2*r],p=sY[2*r+1],f=sY[2*n],g=sY[2*n+1],m=iV(c,d,o);l=iz(m,l,h,a),c=0|m,({Dh:g,Dl:f}={Dh:g^l,Dl:f^c}),({Dh:g,Dl:f}={Dh:iK(g,f,16),Dl:iH(g,f,16)}),({h:p,l:u}=iX(p,u,g,f)),({Bh:h,Bl:d}={Bh:h^p,Bl:d^u}),({Bh:h,Bl:d}={Bh:iF(h,d,63),Bl:iq(h,d,63)}),sY[2*e]=c,sY[2*e+1]=l,sY[2*t]=d,sY[2*t+1]=h,sY[2*r]=u,sY[2*r+1]=p,sY[2*n]=f,sY[2*n+1]=g}class s1 extends sh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,i0(e),i0(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=i3(this.buffer)}update(e){i5(this),i1(e=sl(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(sr(n),this.compress(n,0,!1),sr(n),this.pos=0);let c=Math.min(t-this.pos,i-a),l=s+a;if(c===t&&!(l%4)&&a+c<i){let e=new Uint32Array(o,l,Math.floor((i-a)/4));sr(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);sr(e);continue}r.set(e.subarray(a,a+c),this.pos),this.pos+=c,this.length+=c,a+=c}return this}digestInto(e){i5(this),i6(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,i4(this.buffer.subarray(t)),sr(r),this.compress(r,0,!0),sr(r);let n=i3(e);this.get().forEach((e,t)=>n[t]=st(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class s2 extends s1{constructor(e={}){let t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|sZ[0],this.v0h=0|sZ[1],this.v1l=0|sZ[2],this.v1h=0|sZ[3],this.v2l=0|sZ[4],this.v2h=0|sZ[5],this.v3l=0|sZ[6],this.v3h=0|sZ[7],this.v4l=0|sZ[8],this.v4h=0|sZ[9],this.v5l=0|sZ[10],this.v5h=0|sZ[11],this.v6l=0|sZ[12],this.v6h=0|sZ[13],this.v7l=0|sZ[14],this.v7h=0|sZ[15],function(e,t={},r,n,i){if(i0(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>r))throw Error("key length must be undefined or 1.."+r);if(void 0!==o&&16!==o.length)throw Error("salt must be undefined or 16");if(void 0!==a&&16!==a.length)throw Error("personalization must be undefined or 16")}(t,e,64,16,16);let{key:r,personalization:n,salt:i}=e,s=0;if(void 0!==r&&(s=(r=sl(r)).length),this.v0l^=this.outputLen|s<<8|0x1010000,void 0!==i){let e=i3(i=sl(i));this.v4l^=st(e[0]),this.v4h^=st(e[1]),this.v5l^=st(e[2]),this.v5h^=st(e[3])}if(void 0!==n){let e=i3(n=sl(n));this.v6l^=st(e[0]),this.v6h^=st(e[1]),this.v7l^=st(e[2]),this.v7h^=st(e[3])}if(void 0!==r){let e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:c,v4h:l,v5l:d,v5h:h,v6l:u,v6h:p,v7l:f,v7h:g}=this;return[e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g]}set(e,t,r,n,i,s,o,a,c,l,d,h,u,p,f,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|c,this.v4h=0|l,this.v5l=0|d,this.v5h=0|h,this.v6l=0|u,this.v6h=0|p,this.v7l=0|f,this.v7h=0|g}compress(e,t,r){this.get().forEach((e,t)=>sY[t]=e),sY.set(sZ,16);let{h:n,l:i}=iL(BigInt(this.length));sY[24]=sZ[8]^i,sY[25]=sZ[9]^n,r&&(sY[28]=~sY[28],sY[29]=~sY[29]);let s=0;for(let r=0;r<12;r++)sQ(0,4,8,12,e,t+2*sJ[s++]),s0(0,4,8,12,e,t+2*sJ[s++]),sQ(1,5,9,13,e,t+2*sJ[s++]),s0(1,5,9,13,e,t+2*sJ[s++]),sQ(2,6,10,14,e,t+2*sJ[s++]),s0(2,6,10,14,e,t+2*sJ[s++]),sQ(3,7,11,15,e,t+2*sJ[s++]),s0(3,7,11,15,e,t+2*sJ[s++]),sQ(0,5,10,15,e,t+2*sJ[s++]),s0(0,5,10,15,e,t+2*sJ[s++]),sQ(1,6,11,12,e,t+2*sJ[s++]),s0(1,6,11,12,e,t+2*sJ[s++]),sQ(2,7,8,13,e,t+2*sJ[s++]),s0(2,7,8,13,e,t+2*sJ[s++]),sQ(3,4,9,14,e,t+2*sJ[s++]),s0(3,4,9,14,e,t+2*sJ[s++]);this.v0l^=sY[0]^sY[16],this.v0h^=sY[1]^sY[17],this.v1l^=sY[2]^sY[18],this.v1h^=sY[3]^sY[19],this.v2l^=sY[4]^sY[20],this.v2h^=sY[5]^sY[21],this.v3l^=sY[6]^sY[22],this.v3h^=sY[7]^sY[23],this.v4l^=sY[8]^sY[24],this.v4h^=sY[9]^sY[25],this.v5l^=sY[10]^sY[26],this.v5h^=sY[11]^sY[27],this.v6l^=sY[12]^sY[28],this.v6h^=sY[13]^sY[29],this.v7l^=sY[14]^sY[30],this.v7h^=sY[15]^sY[31],i4(sY)}destroy(){this.destroyed=!0,i4(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let s5=function(e){let t=(t,r)=>e(r).update(sl(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new s2(e));function s6(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+n3.from(sT(r)).toString("hex")}async function s3(e,t,r,n,i,s){switch(r.t){case"eip191":return await s4(e,t,r.s);case"eip1271":return await s8(e,t,r.s,n,i,s);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function s4(e,t,r){return(await ni({hash:s6(t),signature:r})).toLowerCase()===e.toLowerCase()}async function s8(e,t,r,n,i,s){let o=n4(n);if(!o.namespace||!o.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let o="0x1626ba7e",a=r.substring(2),c=(a.length/2).toString(16).padStart(64,"0"),l=(t.startsWith("0x")?t:s6(t)).substring(2),d=o+l+"0000000000000000000000000000000000000000000000000000000000000040"+c+a,h=await fetch(`${s||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:u}=await h.json();return!!u&&u.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function s9(e){let t=new Uint8Array(sV(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return ns.encode(t)}function s7(e){var t;let r=(t=n3.from(e,"base64"),new nA(void 0).decode(t)).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=new nS(void 0).encodeSharedRef(r),i=n3.from("TX"),s=sG(n3.concat([i,n3.from(n)]));return nq.encode(s).replace(/=+$/,"")}function oe(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),n3.from(t)}var ot=Object.defineProperty,or=Object.defineProperties,on=Object.getOwnPropertyDescriptors,oi=Object.getOwnPropertySymbols,os=Object.prototype.hasOwnProperty,oo=Object.prototype.propertyIsEnumerable,oa=(e,t,r)=>t in e?ot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;let oc=e=>e?.split(":"),ol=e=>{let t=e&&oc(e);if(t)return t[2]+":"+t[3]},od=e=>{let t=e&&oc(e);if(t)return t.pop()};async function oh(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,s=ou(i,i.iss),o=od(i.iss);return await s3(o,s,n,ol(i.iss),r)}let ou=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=od(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{let t=e&&oc(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,u=e.requestId?`Request ID: ${e.requestId}`:void 0,p=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,f=ob(e.resources);return f&&(i=function(e="",t){op(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let s={};r.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});let o=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));n.push(o.join(", ").replace(".,","."))});let s=n.join(" "),o=`${r}${s}`;return`${e?e+" ":""}${o}`}(i,og(f))),[r,n,"",i,"",s,o,a,c,l,d,h,u,p].filter(e=>null!=e).join(`
`)};function op(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function of(e){return op(e),`urn:recap:${n3.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function og(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(n3.from(t,"base64").toString("utf-8")));return op(r),r}function om(e){var t;let r=og(e);op(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function oy(e){let t=og(e);op(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function ob(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function ov(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ow(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function oE(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function oC(e,...t){if(!ov(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function o_(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function oO(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ox(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let oN=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function oA(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(ov(e))e=oR(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function oS(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function oT(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(0xffffffff),o=Number(r>>i&s),a=Number(r&s),c=4*!!n,l=4*!n;e.setUint32(t+c,o,n),e.setUint32(t+l,a,n)}function oR(e){return Uint8Array.from(e)}let oI=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),oP=oI("expand 16-byte k"),ok=oI("expand 32-byte k"),oD=oO(oP),oU=oO(ok);function oM(e,t){return e<<t|e>>>32-t}function oL(e){return e.byteOffset%4==0}let oj=0x100000000-1,oB=new Uint32Array,oW=(e,t)=>255&e[t++]|(255&e[t++])<<8;class oK{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,oC(e=oA(e),32);let t=oW(e,0),r=oW(e,2),n=oW(e,4),i=oW(e,6),s=oW(e,8),o=oW(e,10),a=oW(e,12),c=oW(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|o<<2)&8191,this.r[7]=(o>>>11|a<<5)&8065,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=oW(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,s=i[0],o=i[1],a=i[2],c=i[3],l=i[4],d=i[5],h=i[6],u=i[7],p=i[8],f=i[9],g=oW(e,t+0),m=oW(e,t+2),y=oW(e,t+4),b=oW(e,t+6),v=oW(e,t+8),w=oW(e,t+10),E=oW(e,t+12),C=oW(e,t+14),_=n[0]+(8191&g),O=n[1]+((g>>>13|m<<3)&8191),x=n[2]+((m>>>10|y<<6)&8191),N=n[3]+((y>>>7|b<<9)&8191),A=n[4]+((b>>>4|v<<12)&8191),S=n[5]+(v>>>1&8191),T=n[6]+((v>>>14|w<<2)&8191),R=n[7]+((w>>>11|E<<5)&8191),I=n[8]+((E>>>8|C<<8)&8191),P=n[9]+(C>>>5|2048*!r),k=0,D=0+_*s+5*f*O+5*p*x+5*u*N+5*h*A;k=D>>>13,D&=8191,D+=5*d*S+5*l*T+5*c*R+5*a*I+5*o*P,k+=D>>>13,D&=8191;let U=k+_*o+O*s+5*f*x+5*p*N+5*u*A;k=U>>>13,U&=8191,U+=5*h*S+5*d*T+5*l*R+5*c*I+5*a*P,k+=U>>>13,U&=8191;let M=k+_*a+O*o+x*s+5*f*N+5*p*A;k=M>>>13,M&=8191,M+=5*u*S+5*h*T+5*d*R+5*l*I+5*c*P,k+=M>>>13,M&=8191;let L=k+_*c+O*a+x*o+N*s+5*f*A;k=L>>>13,L&=8191,L+=5*p*S+5*u*T+5*h*R+5*d*I+5*l*P,k+=L>>>13,L&=8191;let j=k+_*l+O*c+x*a+N*o+A*s;k=j>>>13,j&=8191,j+=5*f*S+5*p*T+5*u*R+5*h*I+5*d*P,k+=j>>>13,j&=8191;let B=k+_*d+O*l+x*c+N*a+A*o;k=B>>>13,B&=8191,B+=S*s+5*f*T+5*p*R+5*u*I+5*h*P,k+=B>>>13,B&=8191;let W=k+_*h+O*d+x*l+N*c+A*a;k=W>>>13,W&=8191,W+=S*o+T*s+5*f*R+5*p*I+5*u*P,k+=W>>>13,W&=8191;let K=k+_*u+O*h+x*d+N*l+A*c;k=K>>>13,K&=8191,K+=S*a+T*o+R*s+5*f*I+5*p*P,k+=K>>>13,K&=8191;let H=k+_*p+O*u+x*h+N*d+A*l;k=H>>>13,H&=8191,H+=S*c+T*a+R*o+I*s+5*f*P,k+=H>>>13,H&=8191;let F=k+_*f+O*p+x*u+N*h+A*d;k=F>>>13,F&=8191,F+=S*l+T*c+R*a+I*o+P*s,k+=F>>>13,F&=8191,D=8191&(k=(k=(k<<2)+k|0)+D|0),k>>>=13,U+=k,n[0]=D,n[1]=U,n[2]=M,n[3]=L,n[4]=j,n[5]=B,n[6]=W,n[7]=K,n[8]=H,n[9]=F}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;ox(r)}update(e){o_(this),oC(e=oA(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let s=Math.min(r-this.pos,n-i);if(s===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){ox(this.h,this.r,this.buffer,this.pad)}digestInto(e){o_(this),function(e,t){oC(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let oH=function(e){let t=(t,r)=>e(r).update(oA(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new oK(e)),oF=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return oE(i),oE(o),ow(s),ow(r),(t,a,c,l,d=0)=>{oC(t),oC(a),oC(c);let h=c.length;if(void 0===l&&(l=new Uint8Array(h)),oC(l),oE(d),d<0||d>=oj)throw Error("arx: counter overflow");if(l.length<h)throw Error(`arx: output (${l.length}) is shorter than data (${h})`);let u=[],p=t.length,f,g;if(32===p)u.push(f=oR(t)),g=oU;else if(16===p&&r)(f=new Uint8Array(32)).set(t),f.set(t,16),g=oD,u.push(f);else throw Error(`arx: invalid 32-byte key, got length=${p}`);oL(a)||u.push(a=oR(a));let m=oO(f);if(n){if(24!==a.length)throw Error("arx: extended nonce must be 24 bytes");n(g,m,oO(a.subarray(0,16)),m),a=a.subarray(16)}let y=16-i;if(y!==a.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,u.push(a)}return function(e,t,r,n,i,s,o,a){let c=i.length,l=new Uint8Array(64),d=oO(l),h=oL(i)&&oL(s),u=h?oO(i):oB,p=h?oO(s):oB;for(let f=0;f<c;o++){if(e(t,r,n,d,o,a),o>=oj)throw Error("arx: counter overflow");let g=Math.min(64,c-f);if(h&&64===g){let e=f/4;if(f%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)p[r=e+t]=u[r]^d[t];f+=64;continue}for(let e=0,t;e<g;e++)s[t=f+e]=i[t]^l[e];f+=g}}(e,g,m,oO(a),c,l,d,o),ox(...u),l}}(function(e,t,r,n,i,s=20){let o=e[0],a=e[1],c=e[2],l=e[3],d=t[0],h=t[1],u=t[2],p=t[3],f=t[4],g=t[5],m=t[6],y=t[7],b=r[0],v=r[1],w=r[2],E=o,C=a,_=c,O=l,x=d,N=h,A=u,S=p,T=f,R=g,I=m,P=y,k=i,D=b,U=v,M=w;for(let e=0;e<s;e+=2)T=T+(k=oM(k^(E=E+x|0),16))|0,E=E+(x=oM(x^T,12))|0,T=T+(k=oM(k^E,8))|0,x=oM(x^T,7),R=R+(D=oM(D^(C=C+N|0),16))|0,C=C+(N=oM(N^R,12))|0,R=R+(D=oM(D^C,8))|0,N=oM(N^R,7),I=I+(U=oM(U^(_=_+A|0),16))|0,_=_+(A=oM(A^I,12))|0,I=I+(U=oM(U^_,8))|0,A=oM(A^I,7),P=P+(M=oM(M^(O=O+S|0),16))|0,O=O+(S=oM(S^P,12))|0,P=P+(M=oM(M^O,8))|0,S=oM(S^P,7),I=I+(M=oM(M^(E=E+N|0),16))|0,E=E+(N=oM(N^I,12))|0,I=I+(M=oM(M^E,8))|0,N=oM(N^I,7),P=P+(k=oM(k^(C=C+A|0),16))|0,C=C+(A=oM(A^P,12))|0,P=P+(k=oM(k^C,8))|0,A=oM(A^P,7),T=T+(D=oM(D^(_=_+S|0),16))|0,_=_+(S=oM(S^T,12))|0,T=T+(D=oM(D^_,8))|0,S=oM(S^T,7),R=R+(U=oM(U^(O=O+x|0),16))|0,O=O+(x=oM(x^R,12))|0,R=R+(U=oM(U^O,8))|0,x=oM(x^R,7);let L=0;n[L++]=o+E|0,n[L++]=a+C|0,n[L++]=c+_|0,n[L++]=l+O|0,n[L++]=d+x|0,n[L++]=h+N|0,n[L++]=u+A|0,n[L++]=p+S|0,n[L++]=f+T|0,n[L++]=g+R|0,n[L++]=m+I|0,n[L++]=y+P|0,n[L++]=i+k|0,n[L++]=b+D|0,n[L++]=v+U|0,n[L++]=w+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),oq=new Uint8Array(16),oX=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(oq.subarray(r))},oV=new Uint8Array(32);function oz(e,t,r,n,i){let s=e(t,r,oV),o=oH.create(s);i&&oX(o,i),oX(o,n);let a=function(e,t,r){ow(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return oT(i,0,BigInt(t),r),oT(i,8,BigInt(e),r),n}(n.length,i?i.length:0,!0);o.update(a);let c=o.digest();return ox(s,a),c}let o$=((e,t)=>{function r(n,...i){if(oC(n),!oN)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?oC(t):oC(t,e.nonceLength)}let s=e.tagLength;s&&void 0!==i[1]&&oC(i[1]);let o=t(n,...i),a=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");oC(t)}},c=!1;return{encrypt(e,t){if(c)throw Error("cannot encrypt() twice with same key + nonce");return c=!0,oC(e),a(o.encrypt.length,t),o.encrypt(e,t)},decrypt(e,t){if(oC(e),s&&e.length<s)throw Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,t),o.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,r,n)=>({encrypt(i,s){let o=i.length;(s=oS(o+16,s,!1)).set(i);let a=s.subarray(0,-16);e(t,r,a,a,1);let c=oz(e,t,r,a,n);return s.set(c,o),ox(c),s},decrypt(i,s){s=oS(i.length-16,s,!1);let o=i.subarray(0,-16),a=i.subarray(-16),c=oz(e,t,r,o,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(a,c))throw Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),ox(c),s}}))(oF));class oG extends sh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i2(e);let r=sl(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i4(i)}update(e){return i5(this),this.iHash.update(e),this}digestInto(e){i5(this),i1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let oJ=(e,t,r)=>new oG(e,t).update(r).digest();oJ.create=(e,t)=>new oG(e,t);let oZ=Uint8Array.from([0]),oY=Uint8Array.of(),oQ=BigInt(0),o0=BigInt(1);function o1(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function o2(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function o5(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?oQ:BigInt("0x"+e)}function o6(e){return i1(e),o5(ss(Uint8Array.from(e).reverse()))}function o3(e,t){return sc(e.toString(16).padStart(2*t,"0"))}function o4(e,t){return o3(e,t).reverse()}function o8(e,t,r){let n;if("string"==typeof t)try{n=sc(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(iQ(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let o9=e=>"bigint"==typeof e&&oQ<=e;function o7(e,t,r,n){if(!(o9(t)&&o9(r)&&o9(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let ae=e=>(o0<<BigInt(e))-o0;function at(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let s=typeof i;if(s!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${s}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function ar(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let s=e(r,...n);return t.set(r,s),s}}let an=BigInt(0),ai=BigInt(1),as=BigInt(2),ao=BigInt(3),aa=BigInt(4),ac=BigInt(5),al=BigInt(8);function ad(e,t){let r=e%t;return r>=an?r:t+r}function ah(e,t,r){let n=e;for(;t-- >an;)n*=n,n%=r;return n}function au(e,t){if(e===an)throw Error("invert: expected non-zero number");if(t<=an)throw Error("invert: expected positive modulus, got "+t);let r=ad(e,t),n=t,i=an,s=ai;for(;r!==an;){let e=n/r,t=n%r,o=i-s*e;n=r,r=t,i=s,s=o}if(n!==ai)throw Error("invert: does not exist");return ad(i,t)}function ap(e,t){let r=(e.ORDER+ai)/aa,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function af(e,t){let r=(e.ORDER-ac)/al,n=e.mul(t,as),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,as),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw Error("Cannot find square root");return a}let ag=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function am(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),s=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),s),n}function ay(e,t){let r=(e.ORDER-ai)/as,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw Error("invalid Legendre symbol result");return i?1:s?0:-1}function ab(e,t,r=!1,n={}){let i,s,o;if(e<=an)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(i=t.BITS),t.sqrt&&(s=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE)}else"number"==typeof t&&(i=t),n.sqrt&&(s=n.sqrt);let{nBitLength:a,nByteLength:c}=function(e,t){void 0!==t&&i0(t);let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}(e,i);if(c>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let l=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:c,MASK:ae(a),ZERO:an,ONE:ai,create:t=>ad(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return an<=t&&t<e},is0:e=>e===an,isValidNot0:e=>!l.is0(e)&&l.isValid(e),isOdd:e=>(e&ai)===ai,neg:t=>ad(-t,e),eql:(e,t)=>e===t,sqr:t=>ad(t*t,e),add:(t,r)=>ad(t+r,e),sub:(t,r)=>ad(t-r,e),mul:(t,r)=>ad(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<an)throw Error("invalid exponent, negatives unsupported");if(r===an)return e.ONE;if(r===ai)return t;let n=e.ONE,i=t;for(;r>an;)r&ai&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ai;return n})(l,e,t),div:(t,r)=>ad(t*au(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>au(t,e),sqrt:s||(t=>(o||(o=e%aa===ao?ap:e%al===ac?af:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-ai,r=0;for(;t%as===an;)t/=as,r++;let n=as,i=ab(e);for(;1===ay(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return ap;let s=i.pow(n,t),o=(t+ai)/as;return function(e,n){if(e.is0(n))return n;if(1!==ay(e,n))throw Error("Cannot find square root");let i=r,a=e.mul(e.ONE,s),c=e.pow(n,t),l=e.pow(n,o);for(;!e.eql(c,e.ONE);){if(e.is0(c))return e.ZERO;let t=1,r=e.sqr(c);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=ai<<BigInt(i-t-1),s=e.pow(a,n);i=t,a=e.sqr(s),c=e.mul(c,a),l=e.mul(l,s)}return l}}(e)),o(l,t))),toBytes:e=>r?o4(e,c):o3(e,c),fromBytes:e=>{if(e.length!==c)throw Error("Field.fromBytes: expected "+c+" bytes, got "+e.length);return r?o6(e):o5(ss(e))},invertBatch:e=>am(l,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(l)}function av(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function aw(e){let t=av(e);return t+Math.ceil(t/2)}let aE=BigInt(0),aC=BigInt(1);function a_(e,t){let r=t.negate();return e?r:t}function aO(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function ax(e,t){aO(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:ae(e),maxNumber:i,shiftBy:BigInt(e)}}function aN(e,t,r){let{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r,a=Number(e&i),c=e>>o;a>n&&(a-=s,c+=aC);let l=t*n;return{nextN:c,offset:l+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:l}}let aA=new WeakMap,aS=new WeakMap;function aT(e){return aS.get(e)||1}function aR(e){if(e!==aE)throw Error("invalid wNAF")}function aI(e,t){if(!t)return ab(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return at(t,ag.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let aP=BigInt(0),ak=BigInt(1),aD=BigInt(2);BigInt(0);let aU=BigInt(1),aM=BigInt(2),aL=BigInt(3),aj=BigInt(5),aB=BigInt(8),aW={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:aB,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function aK(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}let aH=(()=>{let e=aW.p;return function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:s}=(at(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),o="x25519"===r;if(!o&&"x448"!==r)throw Error("invalid type");let a=s||sp,c=o?255:448,l=o?32:56,d=BigInt(o?9:5),h=BigInt(o?121665:39081),u=o?aD**BigInt(254):aD**BigInt(447),p=u+(o?BigInt(8)*aD**BigInt(251)-ak:BigInt(4)*aD**BigInt(445)-ak)+ak,f=e=>ad(e,t),g=o4(f(d),l);function m(e,r){let s=function(e,r){o7("u",e,aP,t),o7("scalar",r,u,p);let n=ak,s=aP,o=e,a=ak,l=aP;for(let t=BigInt(c-1);t>=aP;t--){let i=r>>t&ak;l^=i,({x_2:n,x_3:o}=b(l,n,o)),({x_2:s,x_3:a}=b(l,s,a)),l=i;let c=n+s,d=f(c*c),u=n-s,p=f(u*u),g=d-p,m=o+a,y=f((o-a)*c),v=f(m*u),w=y+v,E=y-v;o=f(w*w),a=f(e*f(E*E)),n=f(d*p),s=f(g*(d+f(h*g)))}return{x_2:n,x_3:o}=b(l,n,o),{x_2:s,x_3:a}=b(l,s,a),f(n*i(s))}(function(e){let t=o8("u coordinate",e,l);return o&&(t[31]&=127),f(o6(t))}(r),o6(n(o8("scalar",e,l))));if(s===aP)throw Error("invalid private or public key received");return o4(f(s),l)}function y(e){return m(e,g)}function b(e,t,r){let n=f(e*(t-r));return{x_2:t=f(t-n),x_3:r=f(r+n)}}return{scalarMult:m,scalarMultBase:y,getSharedSecret:(e,t)=>m(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>a(l)},GuBytes:g.slice()}}({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=function(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=aW.p,o=e*e%s*e%s,a=ah(o,aM,s)*o%s,c=ah(a,aU,s)*e%s,l=ah(c,aj,s)*c%s,d=ah(l,t,s)*l%s,h=ah(d,r,s)*d%s,u=ah(h,n,s)*h%s,p=ah(u,i,s)*u%s,f=ah(p,i,s)*u%s,g=ah(f,t,s)*l%s;return{pow_p_5_8:ah(g,aM,s)*e%s,b2:o}}(t);return ad(ah(r,aL,e)*n,e)},adjustScalarBytes:aK})})();function aF(e){void 0!==e.lowS&&o1("lowS",e.lowS),void 0!==e.prehash&&o1("prehash",e.prehash)}class aq extends Error{constructor(e=""){super(e)}}let aX={Err:aq,_tlv:{encode:(e,t)=>{let{Err:r}=aX;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=o2(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let s=n>127?o2(i.length/2|128):"";return o2(e)+s+i+t},decode(e,t){let{Err:r}=aX,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],s=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)s=s<<8|e;if(n+=e,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;let o=t.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+s)}}},_int:{encode(e){let{Err:t}=aX;if(e<aV)throw new t("integer: negative integers are not allowed");let r=o2(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=aX;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return o5(ss(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=aX,i=o8("signature",e),{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,s),{v:l,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=aX,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},aV=BigInt(0),az=BigInt(1),a$=BigInt(2),aG=BigInt(3),aJ=BigInt(4);function aZ(e,t,r){let{BYTES:n}=e;return function(i){let s;if("bigint"==typeof i)s=i;else{let r=o8("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{s=e.fromBytes(r)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(s=e.create(s)),!e.isValidNot0(s))throw Error("invalid private key: out of range [1..N-1]");return s}}function aY(e){return Uint8Array.of(e?2:3)}function aQ(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let{CURVE:t,curveOpts:r}=function(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:ab(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:r}}(e);return{CURVE:t,curveOpts:r,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),i=function(e,t,r={}){at(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||sp,i=t.hmac||((e,...r)=>oJ(t.hash,e,sd(...r))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:c}=o;function l(e,t){if(!o.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class d{constructor(e,t,r){l("r",e),l("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=o.BYTES,r=o8("compactSignature",e,2*t);return new d(o.fromBytes(r.subarray(0,t)),o.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=aX.toSig(o8("DER",e));return new d(t,r)}assertValidity(){}addRecoveryBit(e){return new d(this.r,this.s,e)}recoverPublicKey(t){let r=s.ORDER,{r:n,s:i,recovery:c}=this;if(null==c||![0,1,2,3].includes(c))throw Error("recovery id invalid");if(a*a$<r&&c>1)throw Error("recovery id is ambiguous for h>1 curve");let l=2===c||3===c?n+a:n;if(!s.isValid(l))throw Error("recovery id 2 or 3 invalid");let d=s.toBytes(l),h=e.fromHex(sd(aY((1&c)==0),d)),u=o.inv(l),p=f(o8("msgHash",t)),g=o.create(-p*u),m=o.create(i*u),y=e.BASE.multiplyUnsafe(g).add(h.multiplyUnsafe(m));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>a>>az}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return sd(o.toBytes(this.r),o.toBytes(this.s));if("der"===e)return sc(aX.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ss(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ss(this.toBytes("compact"))}}let h=aZ(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function u(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=o8("key",t).length,i=s.BYTES,a=i+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===a))return n===a||n===2*i+1}let p=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=o5(ss(e)),r=8*e.length-c;return r>0?t>>BigInt(r):t},f=t.bits2int_modN||function(e){return o.create(p(e))},g=ae(c);function m(e){return o7("num < 2^"+c,e,aV,g),o.toBytes(e)}let y={lowS:t.lowS,prehash:!1},b={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===u(t))throw Error("first arg must be private key");if(!1===u(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(h(t)).toBytes(n)},sign:function(r,c,l=y){let{seed:u,k2sig:g}=function(r,i,c=y){if(["recovered","canonical"].some(e=>e in c))throw Error("sign() legacy options not supported");let{hash:l}=t,{lowS:u,prehash:g,extraEntropy:b}=c;null==u&&(u=!0),r=o8("msgHash",r),aF(c),g&&(r=o8("prehashed msgHash",l(r)));let v=f(r),w=h(i),E=[m(w),m(v)];if(null!=b&&!1!==b){let e=!0===b?n(s.BYTES):b;E.push(o8("extraEntropy",e))}return{seed:sd(...E),k2sig:function(t){var r;let n=p(t);if(!o.isValidNot0(n))return;let i=o.inv(n),s=e.BASE.multiply(n).toAffine(),c=o.create(s.x);if(c===aV)return;let l=o.create(i*o.create(v+c*w));if(l===aV)return;let h=2*(s.x!==c)|Number(s.y&az),f=l;return u&&l>a>>az&&(f=(r=l)>a>>az?o.neg(r):r,h^=1),new d(c,f,h)}}}(r,c,l);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=e=>Uint8Array.of(e),s=n(e),o=n(e),a=0,c=()=>{s.fill(1),o.fill(0),a=0},l=(...e)=>r(o,s,...e),d=(e=n(0))=>{o=l(i(0),e),s=l(),0!==e.length&&(o=l(i(1),e),s=l())},h=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(s=l()).slice();r.push(t),e+=s.length}return sd(...r)};return(e,t)=>{let r;for(c(),d(e);!(r=t(h()));)d();return c(),r}})(t.hash.outputLen,o.BYTES,i)(u,g)},verify:function(r,n,i,s=b){let a,c;n=o8("msgHash",n),i=o8("publicKey",i),aF(s);let{lowS:l,prehash:h,format:u}=s;if("strict"in s)throw Error("options.strict was renamed to lowS");if(void 0!==u&&!["compact","der","js"].includes(u))throw Error('format must be "compact", "der" or "js"');let p="string"==typeof r||iQ(r),g=!p&&!u&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!p&&!g)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(g)if(void 0===u||"js"===u)a=new d(r.r,r.s);else throw Error("invalid format");if(p){try{"compact"!==u&&(a=d.fromDER(r))}catch(e){if(!(e instanceof aX.Err))throw e}a||"der"===u||(a=d.fromCompact(r))}c=e.fromHex(i)}catch{return!1}if(!a||l&&a.hasHighS())return!1;h&&(n=t.hash(n));let{r:m,s:y}=a,v=f(n),w=o.inv(y),E=o.create(v*w),C=o.create(m*w),_=e.BASE.multiplyUnsafe(E).add(c.multiplyUnsafe(C));return!_.is0()&&o.create(_.x)===m},utils:{isValidPrivateKey(e){try{return h(e),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>(function(e,t,r=!1){let n=e.length,i=av(t),s=aw(t);if(n<16||n<s||n>1024)throw Error("expected "+s+"-1024 bytes of input, got "+n);let o=ad(r?o6(e):o5(ss(e)),t-ai)+ai;return r?o4(o,i):o3(o,i)})(n(aw(a)),a),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:d})}(function(e,t={}){var r,n,i;let{Fp:s,Fn:o}=function(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>aE))throw Error(`CURVE.${e} must be positive bigint`)}let n=aI(t.p,r.Fp),i=aI(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}("weierstrass",e,t),{h:a,n:c}=e;at(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:l}=t;if(l&&(!s.is0(e.a)||"bigint"!=typeof l.beta||"function"!=typeof l.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function d(){if(!s.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let h=t.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),o=s.toBytes(n);return(o1("isCompressed",r),r)?(d(),sd(aY(!s.isOdd(i)),o)):sd(Uint8Array.of(4),o,s.toBytes(i))},u=t.fromBytes||function(e){i1(e);let t=s.BYTES,r=t+1,n=2*t+1,i=e.length,o=e[0],a=e.subarray(1);if(i===r&&(2===o||3===o)){let e,t=s.fromBytes(a);if(!s.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=p(t);try{e=s.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return d(),(1&o)==1!==s.isOdd(e)&&(e=s.neg(e)),{x:t,y:e}}if(i===n&&4===o){let e=s.fromBytes(a.subarray(0*t,+t)),r=s.fromBytes(a.subarray(+t,2*t));if(!f(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${r} or uncompressed=${n}`)},p=(r=e.a,n=e.b,function(e){let t=s.sqr(e),i=s.mul(t,e);return s.add(s.add(i,s.mul(e,r)),n)});function f(e,t){let r=s.sqr(t),n=p(e);return s.eql(r,n)}if(!f(e.Gx,e.Gy))throw Error("bad curve params: generator point");let g=s.mul(s.pow(e.a,aG),aJ),m=s.mul(s.sqr(e.b),BigInt(27));if(s.is0(s.add(g,m)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!s.isValid(t)||r&&s.is0(t))throw Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof C))throw Error("ProjectivePoint expected")}let v=ar((e,t)=>{let{px:r,py:n,pz:i}=e;if(s.eql(i,s.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?s.ONE:s.inv(i));let a=s.mul(r,t),c=s.mul(n,t),l=s.mul(i,t);if(o)return{x:s.ZERO,y:s.ZERO};if(!s.eql(l,s.ONE))throw Error("invZ was invalid");return{x:a,y:c}}),w=ar(e=>{if(e.is0()){if(t.allowInfinityPoint&&!s.is0(e.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!s.isValid(r)||!s.isValid(n))throw Error("bad point: x or y not field elements");if(!f(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function E(e,t,r,n,i){return r=new C(s.mul(r.px,e),r.py,r.pz),t=a_(n,t),r=a_(i,r),t.add(r)}class C{constructor(e,t,r){this.px=y("x",e),this.py=y("y",t,!0),this.pz=y("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!s.isValid(t)||!s.isValid(r))throw Error("invalid affine point");if(e instanceof C)throw Error("projective point not allowed");return s.is0(t)&&s.is0(r)?C.ZERO:new C(t,r,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=am(C.Fp,e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(C.fromAffine)}static fromBytes(e){return i1(e),C.fromHex(e)}static fromHex(e){let t=C.fromAffine(u(o8("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=aZ(o,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return C.BASE.multiply(r(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,s=n.length;if(i!==s)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,a=function(e){let t;for(t=0;e>oQ;e>>=o0,t+=1);return t}(BigInt(i)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=ae(c),d=Array(Number(l)+1).fill(o),h=Math.floor((t.BITS-1)/c)*c,u=o;for(let e=h;e>=0;e-=c){d.fill(o);for(let t=0;t<s;t++){let i=Number(n[t]>>BigInt(e)&l);d[i]=d[i].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(u=u.add(t),0!==e)for(let e=0;e<c;e++)u=u.double()}return u}(C,o,e,t)}precompute(e=8,t=!0){return O.setWindowSize(this,e),t||this.multiply(aG),this}_setWindowSize(e){this.precompute(e)}assertValidity(){w(this)}hasEvenY(){let{y:e}=this.toAffine();if(!s.isOdd)throw Error("Field doesn't support isOdd");return!s.isOdd(e)}equals(e){b(e);let{px:t,py:r,pz:n}=this,{px:i,py:o,pz:a}=e,c=s.eql(s.mul(t,a),s.mul(i,n)),l=s.eql(s.mul(r,a),s.mul(o,n));return c&&l}negate(){return new C(this.px,s.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=s.mul(r,aG),{px:i,py:o,pz:a}=this,c=s.ZERO,l=s.ZERO,d=s.ZERO,h=s.mul(i,i),u=s.mul(o,o),p=s.mul(a,a),f=s.mul(i,o);return f=s.add(f,f),d=s.mul(i,a),d=s.add(d,d),c=s.mul(t,d),l=s.mul(n,p),l=s.add(c,l),c=s.sub(u,l),l=s.add(u,l),l=s.mul(c,l),c=s.mul(f,c),d=s.mul(n,d),p=s.mul(t,p),f=s.sub(h,p),f=s.mul(t,f),f=s.add(f,d),d=s.add(h,h),h=s.add(d,h),h=s.add(h,p),h=s.mul(h,f),l=s.add(l,h),p=s.mul(o,a),p=s.add(p,p),h=s.mul(p,f),c=s.sub(c,h),d=s.mul(p,u),d=s.add(d,d),new C(c,l,d=s.add(d,d))}add(t){b(t);let{px:r,py:n,pz:i}=this,{px:o,py:a,pz:c}=t,l=s.ZERO,d=s.ZERO,h=s.ZERO,u=e.a,p=s.mul(e.b,aG),f=s.mul(r,o),g=s.mul(n,a),m=s.mul(i,c),y=s.add(r,n),v=s.add(o,a);y=s.mul(y,v),v=s.add(f,g),y=s.sub(y,v),v=s.add(r,i);let w=s.add(o,c);return v=s.mul(v,w),w=s.add(f,m),v=s.sub(v,w),w=s.add(n,i),l=s.add(a,c),w=s.mul(w,l),l=s.add(g,m),w=s.sub(w,l),h=s.mul(u,v),l=s.mul(p,m),h=s.add(l,h),l=s.sub(g,h),h=s.add(g,h),d=s.mul(l,h),g=s.add(f,f),g=s.add(g,f),m=s.mul(u,m),v=s.mul(p,v),g=s.add(g,m),m=s.sub(f,m),m=s.mul(u,m),v=s.add(v,m),f=s.mul(g,v),d=s.add(d,f),f=s.mul(w,v),l=s.mul(y,l),l=s.sub(l,f),f=s.mul(y,g),h=s.mul(w,h),new C(l,d,h=s.add(h,f))}subtract(e){return this.add(e.negate())}is0(){return this.equals(C.ZERO)}multiply(e){let r,n,{endo:i}=t;if(!o.isValidNot0(e))throw Error("invalid scalar: out of range");let s=e=>O.wNAFCached(this,e,C.normalizeZ);if(i){let{k1neg:t,k1:o,k2neg:a,k2:c}=i.splitScalar(e),{p:l,f:d}=s(o),{p:h,f:u}=s(c);n=d.add(u),r=E(i.beta,l,h,t,a)}else{let{p:t,f:i}=s(e);r=t,n=i}return C.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!o.isValid(e))throw Error("invalid scalar: out of range");if(e===aV||this.is0())return C.ZERO;if(e===az)return this;if(O.hasPrecomputes(this))return this.multiply(e);if(!r)return O.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:s}=r.splitScalar(e),{p1:o,p2:a}=function(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>aE||n>aE;)r&aC&&(s=s.add(i)),n&aC&&(o=o.add(i)),i=i.double(),r>>=aC,n>>=aC;return{p1:s,p2:o}}(C,this,n,s);return E(r.beta,o,a,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return a===az||(e?e(C,this):O.wNAFCachedUnsafe(this,c).is0())}clearCofactor(){let{clearCofactor:e}=t;return a===az?this:e?e(C,this):this.multiplyUnsafe(a)}toBytes(e=!0){return o1("isCompressed",e),this.assertValidity(),h(C,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return ss(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(e.Gx,e.Gy,s.ONE),C.ZERO=new C(s.ZERO,s.ONE,s.ZERO),C.Fp=s,C.Fn=o;let _=o.BITS,O=(i=t.endo?Math.ceil(_/2):_,{constTimeNegate:a_,hasPrecomputes:e=>1!==aT(e),unsafeLadder(e,t,r=C.ZERO){let n=e;for(;t>aE;)t&aC&&(r=r.add(n)),n=n.double(),t>>=aC;return r},precomputeWindow(e,t){let{windows:r,windowSize:n}=ax(t,i),s=[],o=e,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let e=1;e<n;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,t,r){let n=C.ZERO,s=C.BASE,o=ax(e,i);for(let e=0;e<o.windows;e++){let{nextN:i,offset:a,isZero:c,isNeg:l,isNegF:d,offsetF:h}=aN(r,e,o);r=i,c?s=s.add(a_(d,t[h])):n=n.add(a_(l,t[a]))}return aR(r),{p:n,f:s}},wNAFUnsafe(e,t,r,n=C.ZERO){let s=ax(e,i);for(let e=0;e<s.windows&&r!==aE;e++){let{nextN:i,offset:o,isZero:a,isNeg:c}=aN(r,e,s);if(r=i,!a){let e=t[o];n=n.add(c?e.negate():e)}}return aR(r),n},getPrecomputes(e,t,r){let n=aA.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),aA.set(t,n))),n},wNAFCached(e,t,r){let n=aT(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=aT(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,t){aO(t,i),aS.set(e,t),aA.delete(e)}});return C}(t,r),n,r);return Object.assign({},i,{ProjectivePoint:i.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}let a0={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},a1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},a2={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},a5=ab(a0.p),a6=ab(a1.p),a3=ab(a2.p),a4=aQ({...a0,Fp:a5,lowS:!1},sV);aQ({...a1,Fp:a6,lowS:!1},s$),aQ({...a2,Fp:a3,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},sz);let a8="base10",a9="base16",a7="base64pad",ce="base64url",ct="utf8";function cr(){return n1(sp(32),a9)}function cn(e){return n1(sV(n0(e,a9)),a9)}function ci(e){return n1(sV(n0(e,ct)),a9)}function cs(e){return Number(n1(e,a8))}function co(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ca(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function cc(e){if(2===cs(e.type))return n1(n$([e.type,e.sealed]),a7);if(1===cs(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return n1(n$([e.type,e.senderPublicKey,e.iv,e.sealed]),a7)}return n1(n$([e.type,e.iv,e.sealed]),a7)}function cl(e){let t=n0((e.encoding||a7)===ce?ca(e.encoded):e.encoded,a7),r=t.slice(0,1);if(1===cs(r)){let e=t.slice(1,33),n=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:n,senderPublicKey:e}}if(2===cs(r))return{type:r,sealed:t.slice(1),iv:sp(12)};let n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function cd(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function ch(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function cu(e){return e?.relay||{protocol:"irn"}}function cp(e){let t=n2[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}function cf(e){var t;if(!e.includes("wc:")){let t=ik(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),s=e.substring(r+1,n).split("@"),o=new URLSearchParams("u">typeof n?e.substring(n):""),a={};o.forEach((e,t)=>{a[t]=e});let c="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:i,topic:(t=s[0]).startsWith("//")?t.substring(2):t,version:parseInt(s[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),s=e[t];r[i]=s}}),r}(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function cg(e){let t=new URLSearchParams,r=function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay);Object.keys(r).sort().forEach(e=>{t.set(e,r[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));let n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function cm(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var cy=Object.defineProperty,cb=Object.defineProperties,cv=Object.getOwnPropertyDescriptors,cw=Object.getOwnPropertySymbols,cE=Object.prototype.hasOwnProperty,cC=Object.prototype.propertyIsEnumerable,c_=(e,t,r)=>t in e?cy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cO=(e,t)=>{for(var r in t||(t={}))cE.call(t,r)&&c_(e,r,t[r]);if(cw)for(var r of cw(t))cC.call(t,r)&&c_(e,r,t[r]);return e},cx=(e,t)=>cb(e,cv(t));function cN(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function cA(e){return e.includes(":")}function cS(e){return cA(e)?e.split(":")[0]:e}function cT(e){var t,r,n;let i={};if(!cM(e))return i;for(let[s,o]of Object.entries(e)){let e=cA(s)?[s]:o.chains,a=o.methods||[],c=o.events||[],l=cS(s);i[l]=cx(cO({},i[l]),{chains:iA(e,null==(t=i[l])?void 0:t.chains),methods:iA(a,null==(r=i[l])?void 0:r.methods),events:iA(c,null==(n=i[l])?void 0:n.events)})}return i}function cR(e,t){let r=function(e){let t={};return e?.forEach(e=>{var r;let[n,i]=e.split(":");t[n]||(t[n]={accounts:[],chains:[],events:[],methods:[]}),t[n].accounts.push(e),null==(r=t[n].chains)||r.push(`${n}:${i}`)}),t}(t=t.map(e=>e.replace("did:pkh:","")));for(let[t,n]of Object.entries(r))n.methods?n.methods=iA(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}let cI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},cP={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ck(e,t){let{message:r,code:n}=cP[e];return{message:t?`${r} ${t}`:r,code:n}}function cD(e,t){let{message:r,code:n}=cI[e];return{message:t?`${r} ${t}`:r,code:n}}function cU(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function cM(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function cL(e){return typeof e>"u"}function cj(e,t){return!!(t&&cL(e))||"string"==typeof e&&!!e.trim().length}function cB(e,t){return!!(t&&cL(e))||"number"==typeof e&&!isNaN(e)}function cW(e){return!!(cj(e,!1)&&e.includes(":"))&&2===e.split(":").length}function cK(e){let t=!0;return cU(e)?e.length&&(t=e.every(e=>cj(e,!1))):t=!1,t}function cH(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let s=(n=`${t}, namespace`,i=null,cK(e?.methods)?cK(e?.events)||(i=cD("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=cD("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);s&&(r=s)}),r}function cF(e,t){let r=null;if(e&&cM(e)){let n,i=cH(e,t);i&&(r=i);let s=(n=null,Object.values(e).forEach(e=>{var r,i;let s;if(n)return;let o=(r=e?.accounts,i=`${t} namespace`,s=null,cU(r)?r.forEach(e=>{s||function(e){if(cj(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&cW(e)}}return!1}(e)||(s=cD("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):s=cD("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),s);o&&(n=o)}),n);s&&(r=s)}else r=ck("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function cq(e){return cj(e.protocol,!0)}function cX(e){return"u">typeof e}function cV(e,t){return!(!cW(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...cN(e.accounts))}),t})(e).includes(t))}function cz(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),s=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=cN(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),c=c$(Object.keys(e)),l=c$(Object.keys(t)),d=c.filter(e=>!l.includes(e));return d.length&&(n=ck("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(t).toString()}`)),iy(o,a)||(n=ck("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=cN(t[e].accounts);i.includes(e)||(n=ck("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),o.forEach(e=>{n||(iy(i[e].methods,s[e].methods)?iy(i[e].events,s[e].events)||(n=ck("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=ck("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function c$(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function cG(){let e=iu();return new Promise(t=>{switch(e){case ic.browser:t(ih()&&navigator?.onLine);break;case ic.reactNative:t(cJ());break;case ic.node:default:t(!0)}})}async function cJ(){if(id()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo){let e=await (null==r.g?void 0:r.g.NetInfo.fetch());return e?.isConnected}return!0}let cZ={};class cY{static get(e){return cZ[e]}static set(e,t){cZ[e]=t}static delete(e){delete cZ[e]}}function cQ(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function c0(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let c1=c0("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),c2=c0("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){if(null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe){var t;return t=globalThis.Buffer.allocUnsafe(e),null!=globalThis.Buffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}return new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),c5={utf8:c1,"utf-8":c1,hex:nG.bases.base16,latin1:c2,ascii:c2,binary:c2,...nG.bases},c6="INTERNAL_ERROR",c3="SERVER_ERROR",c4=[-32700,-32600,-32601,-32602,-32603],c8={PARSE_ERROR:{code:-32700,message:"Parse error"},INVALID_REQUEST:{code:-32600,message:"Invalid Request"},METHOD_NOT_FOUND:{code:-32601,message:"Method not found"},INVALID_PARAMS:{code:-32602,message:"Invalid params"},[c6]:{code:-32603,message:"Internal error"},[c3]:{code:-32e3,message:"Server error"}};function c9(e){return Object.keys(c8).includes(e)?c8[e]:c8[c3]}function c7(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?Error(`Unavailable ${r} RPC url at ${t}`):e}var le=r(87822);function lt(e=3){return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function lr(e=6){return BigInt(lt(e))}function ln(e,t,r){return{id:r||lt(),jsonrpc:"2.0",method:e,params:t}}function li(e,t){return{id:e,jsonrpc:"2.0",result:t}}function ls(e,t,r){var n,i,s;return{id:e,jsonrpc:"2.0",error:(n=t,i=r,void 0===n?c9(c6):("string"==typeof n&&(n=Object.assign(Object.assign({},c9(c3)),{message:n})),void 0!==i&&(n.data=i),s=n.code,c4.includes(s)&&(n=function(e){let t=Object.values(c8).find(t=>t.code===e);return t||c8[c3]}(n.code)),n))}}class lo{}class la extends lo{constructor(){super()}}class lc extends la{constructor(e){super()}}function ll(e,t){let r=function(e){let t=e.match(RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return void 0!==r&&new RegExp(t).test(r)}function ld(e){return ll(e,"^https?:")}function lh(e){return ll(e,"^wss?:")}function lu(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function lp(e){return lu(e)&&"method"in e}function lf(e){return lu(e)&&(lg(e)||lm(e))}function lg(e){return"result"in e}function lm(e){return"error"in e}class ly extends lc{constructor(e){super(e),this.events=new s.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(ln(e.method,e.params||[],e.id||lr().toString()),t)}async requestStrict(e,t){return new Promise(async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(e){n(e)}this.events.on(`${e.id}`,e=>{lm(e)?n(e.error):r(e.result)});try{await this.connection.send(e,t)}catch(e){n(e)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),lf(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}let lb=e=>e.split("?")[0],lv="u">typeof WebSocket?WebSocket:"u">typeof r.g&&"u">typeof r.g.WebSocket?r.g.WebSocket:"u">typeof window&&"u">typeof window.WebSocket?window.WebSocket:"u">typeof self&&"u">typeof self.WebSocket?self.WebSocket:r(46793);class lw{constructor(e){if(this.url=e,this.events=new s.EventEmitter,this.registering=!1,!lh(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return"u">typeof this.socket}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u")return void t(Error("Connection already closed"));this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send((0,R.h)(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!lh(e))throw Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{let i=(0,le.isReactNative)()?void 0:{rejectUnauthorized:!RegExp("wss?://localhost(:d{2,5})?").test(e)},s=new lv(e,[],i);"u">typeof WebSocket||"u">typeof r.g&&"u">typeof r.g.WebSocket||"u">typeof window&&"u">typeof window.WebSocket||"u">typeof self&&"u">typeof self.WebSocket?s.onerror=e=>{n(this.emitError(e.error))}:s.on("error",e=>{n(this.emitError(e))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,R.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=ls(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return c7(e,lb(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){let t=this.parseError(Error(e?.message||`WebSocket connection failed for host: ${lb(this.url)}`));return this.events.emit("register_error",t),t}}var lE=r(81029).hp,lC=r(87358);let l_="core",lO=`wc@2:${l_}:`,lx={logger:"error"},lN={database:":memory:"},lA="client_ed25519_seed",lS=a.ONE_DAY,lT=a.SIX_HOURS,lR="wss://relay.walletconnect.org",lI={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",publish:"relayer_publish"},lP={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lk="2.21.7",lD={link_mode:"link_mode",relay:"relay"},lU={inbound:"inbound",outbound:"outbound"},lM="WALLETCONNECT_LINK_MODE_APPS",lL={created:"subscription_created",deleted:"subscription_deleted",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},lj=(a.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:a.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:a.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:a.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:a.ONE_DAY,prompt:!1,tag:0},res:{ttl:a.ONE_DAY,prompt:!1,tag:0}}}),lB={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},lW={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},lK={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},lH="https://verify.walletconnect.org",lF=`${lH}/v3`,lq=["https://verify.walletconnect.com",lH],lX={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal"},lV={no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_listener_not_found:"proposal_listener_not_found"},lz={session_approve_started:"session_approve_started",session_namespaces_validation_success:"session_namespaces_validation_success",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session"},l$={no_internet_connection:"no_internet_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},lG={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},lJ={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"};var lZ=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var s=(e.length-t)*l+1>>>0,o=new Uint8Array(s);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var h=0,u=s-1;(0!==d||h<i)&&-1!==u;u--,h++)d+=a*o[u]>>>0,o[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var p=s-i;p!==s&&0===o[p];)p++;for(var f=new Uint8Array(n+(s-p)),g=n;p!==s;)f[g++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var o=(s-i)*d+1>>>0,l=new Uint8Array(o);i!==s;){for(var h=t[i],u=0,p=o-1;(0!==h||u<n)&&-1!==p;p--,u++)h+=256*l[p]>>>0,l[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=u,i++}for(var f=o-n;f!==o&&0===l[f];)f++;for(var g=c.repeat(r);f<o;++f)g+=e.charAt(l[f]);return g},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};let lY=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class lQ{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class l0{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return l2(this,e)}}class l1{constructor(e){this.decoders=e}or(e){return l2(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let l2=(e,t)=>new l1({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class l5{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new lQ(e,t,r),this.decoder=new l0(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let l6=({name:e,prefix:t,encode:r,decode:n})=>new l5(e,t,r,n),l3=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=lZ(r,t);return l6({prefix:e,name:t,encode:n,decode:e=>lY(i(e))})},l4=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>l6({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,s="",o=0,a=0;for(let n=0;n<e.length;++n)for(a=a<<8|e[n],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let s=e.length;for(;"="===e[s-1];)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,l=0;for(let t=0;t<s;++t){let s=i[e[t]];if(void 0===s)throw SyntaxError(`Non-${n} character`);c=c<<r|s,(a+=r)>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw SyntaxError("Unexpected end of data");return o})(t,n,r,e)});var l8=Object.freeze({__proto__:null,identity:l6({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),l9=Object.freeze({__proto__:null,base2:l4({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),l7=Object.freeze({__proto__:null,base8:l4({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),de=Object.freeze({__proto__:null,base10:l3({prefix:"9",name:"base10",alphabet:"0123456789"})}),dt=Object.freeze({__proto__:null,base16:l4({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:l4({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});let dr=l4({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dn=l4({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),di=l4({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ds=l4({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),da=l4({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dc=l4({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),dl=l4({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});var dd=Object.freeze({__proto__:null,base32:dr,base32upper:dn,base32pad:di,base32padupper:ds,base32hex:da,base32hexupper:dc,base32hexpad:dl,base32hexpadupper:l4({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:l4({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),dh=Object.freeze({__proto__:null,base36:l3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:l3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),du=Object.freeze({__proto__:null,base58btc:l3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:l3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});let dp=l4({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),df=l4({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});var dg=Object.freeze({__proto__:null,base64:dp,base64pad:df,base64url:l4({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:l4({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let dm=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),dy=dm.reduce((e,t,r)=>(e[r]=t,e),[]),db=dm.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var dv=Object.freeze({__proto__:null,base256emoji:l6({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=dy[t],"")},decode:function(e){let t=[];for(let r of e){let e=db[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function dw(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,dw.bytes=r-n+1,t}var dE={encode:dw,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10}};let dC=(e,t,r=0)=>(dE.encode(e,t,r),t),d_=e=>dE.encodingLength(e),dO=(e,t)=>{let r=t.byteLength,n=d_(e),i=n+d_(r),s=new Uint8Array(i+r);return dC(e,s,0),dC(r,s,n),s.set(t,i),new dx(e,r,t,s)};class dx{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let dN=({name:e,code:t,encode:r})=>new dA(e,t,r);class dA{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?dO(this.code,t):t.then(e=>dO(this.code,e))}throw Error("Unknown type, must be binary type")}}let dS=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var dT=Object.freeze({__proto__:null,sha256:dN({name:"sha2-256",code:18,encode:dS("SHA-256")}),sha512:dN({name:"sha2-512",code:19,encode:dS("SHA-512")})}),dR=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:lY,digest:e=>dO(0,lY(e))}});new TextEncoder,new TextDecoder;let dI={...l8,...l9,...l7,...de,...dt,...dd,...dh,...du,...dg,...dv};function dP(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function dk(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...dT,...dR});let dD=dk("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),dU=dk("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?dP(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),dM={utf8:dD,"utf-8":dD,hex:dI.base16,latin1:dU,ascii:dU,binary:dU,...dI};var dL=Object.defineProperty,dj=(e,t,r)=>((e,t,r)=>t in e?dL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class dB{constructor(e,t){this.core=e,this.logger=t,dj(this,"keychain",new Map),dj(this,"name","keychain"),dj(this,"version","0.3"),dj(this,"initialized",!1),dj(this,"storagePrefix",lO),dj(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),dj(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),dj(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),dj(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=ck("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),dj(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,B.U5)(t,this.name)}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ib(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?iv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var dW=Object.defineProperty,dK=(e,t,r)=>((e,t,r)=>t in e?dW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class dH{constructor(e,t,r){this.core=e,this.logger=t,dK(this,"name","crypto"),dK(this,"keychain"),dK(this,"randomSessionIdentifier",cr()),dK(this,"initialized",!1),dK(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),dK(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),dK(this,"getClientId",async()=>(this.isInitialized(),rc(rd(await this.getClientSeed()).publicKey))),dK(this,"generateKeyPair",()=>{this.isInitialized();let e=function(){let e=aH.utils.randomPrivateKey(),t=aH.getPublicKey(e);return{privateKey:n1(e,a9),publicKey:n1(t,a9)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),dK(this,"signJWT",async e=>{this.isInitialized();let t=rd(await this.getClientSeed()),r=this.randomSessionIdentifier;return await rh(r,e,lS,t)}),dK(this,"generateSharedKey",(e,t,r)=>{this.isInitialized();let n=function(e,t){var r;let n,i=aH.getSharedSecret(n0(e,a9),n0(t,a9));return n1((n=void 0,function(e,t,r,n=32){i2(e),i0(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let s=Math.ceil(n/i);void 0===r&&(r=oY);let o=new Uint8Array(s*i),a=oJ.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let e=0;e<s;e++)oZ[0]=e+1,c.update(0===e?oY:l).update(r).update(oZ).digestInto(l),o.set(l,i*e),a._cloneInto(c);return a.destroy(),c.destroy(),i4(l,oZ),o.slice(0,n)}(sV,(r=void 0,i2(sV),void 0===r&&(r=new Uint8Array(sV.outputLen)),oJ(sV,sl(r),sl(i))),n,32)),a9)}(this.getPrivateKey(e),t);return this.setSymKey(n,r)}),dK(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||cn(e);return await this.keychain.set(r,e),r}),dK(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),dK(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),dK(this,"encode",async(e,t,r)=>{this.isInitialized();let n=cd(r),i=(0,R.h)(t);if(2===n.type)return function(e,t){let r=n0("2",a8),n=sp(12),i=cc({type:r,sealed:n0(e,ct),iv:n});return t===ce?co(i):i}(i,r?.encoding);if(ch(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let s=this.getSymKey(e),{type:o,senderPublicKey:a}=n;return function(e){var t;let r=(t="u">typeof e.type?e.type:0,n0(`${t}`,a8));if(1===cs(r)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let n="u">typeof e.senderPublicKey?n0(e.senderPublicKey,a9):void 0,i="u">typeof e.iv?n0(e.iv,a9):sp(12),s=cc({type:r,sealed:o$(n0(e.symKey,a9),i).encrypt(n0(e.message,ct)),iv:i,senderPublicKey:n});return e.encoding===ce?co(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:r?.encoding})}),dK(this,"decode",async(e,t,r)=>{this.isInitialized();let n=function(e,t){let r=cl({encoded:e,encoding:t?.encoding});return cd({type:cs(r.type),senderPublicKey:"u">typeof r.senderPublicKey?n1(r.senderPublicKey,a9):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,r);if(2===n.type){let e=function(e,t){let{sealed:r}=cl({encoded:e,encoding:t});return n1(r,ct)}(t,r?.encoding);return(0,R.j)(e)}if(ch(n)){let t=n.receiverPublicKey,r=n.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=n0(e.symKey,a9),{sealed:r,iv:n}=cl({encoded:e.encoded,encoding:e.encoding}),i=o$(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return n1(i,ct)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,R.j)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),dK(this,"getPayloadType",(e,t=a7)=>cs(cl({encoded:e,encoding:t}).type)),dK(this,"getPayloadSenderPublicKey",(e,t=a7)=>{let r=cl({encoded:e,encoding:t});return r.senderPublicKey?function(e,t="utf8"){let r=c5[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}(r.senderPublicKey,a9):void 0}),this.core=e,this.logger=(0,B.U5)(t,this.name),this.keychain=r||new dB(this.core,this.logger)}get context(){return(0,B.oI)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(lA)}catch{e=cr(),await this.keychain.set(lA,e)}return function(e,t="utf8"){let r=dM[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?dP(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var dF=Object.defineProperty,dq=Object.defineProperties,dX=Object.getOwnPropertyDescriptors,dV=Object.getOwnPropertySymbols,dz=Object.prototype.hasOwnProperty,d$=Object.prototype.propertyIsEnumerable,dG=(e,t,r)=>t in e?dF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dJ=(e,t,r)=>dG(e,"symbol"!=typeof t?t+"":t,r);class dZ extends X{constructor(e,t){super(e,t),this.logger=e,this.core=t,dJ(this,"messages",new Map),dJ(this,"messagesWithoutClientAck",new Map),dJ(this,"name","messages"),dJ(this,"version","0.3"),dJ(this,"initialized",!1),dJ(this,"storagePrefix",lO),dJ(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),dJ(this,"set",async(e,t,r)=>{this.isInitialized();let n=ci(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===lU.inbound){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,dq(((e,t)=>{for(var r in t||(t={}))dz.call(t,r)&&dG(e,r,t[r]);if(dV)for(var r of dV(t))d$.call(t,r)&&dG(e,r,t[r]);return e})({},r),dX({[n]:t})))}return await this.persist(),n}),dJ(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),dJ(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),dJ(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[ci(t)])),dJ(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=ci(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),dJ(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,B.U5)(e,this.name),this.core=t}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ib(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ib(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?iv(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?iv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var dY=Object.defineProperty,dQ=Object.defineProperties,d0=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertySymbols,d2=Object.prototype.hasOwnProperty,d5=Object.prototype.propertyIsEnumerable,d6=(e,t,r)=>t in e?dY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d3=(e,t)=>{for(var r in t||(t={}))d2.call(t,r)&&d6(e,r,t[r]);if(d1)for(var r of d1(t))d5.call(t,r)&&d6(e,r,t[r]);return e},d4=(e,t)=>dQ(e,d0(t)),d8=(e,t,r)=>d6(e,"symbol"!=typeof t?t+"":t,r);class d9 extends V{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,d8(this,"events",new s.EventEmitter),d8(this,"name","publisher"),d8(this,"queue",new Map),d8(this,"publishTimeout",(0,a.toMiliseconds)(a.ONE_MINUTE)),d8(this,"initialPublishTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),d8(this,"needsTransportRestart",!1),d8(this,"publish",async(e,t,r)=>{var n,i,s,o,a;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let c=r?.ttl||lT,l=r?.prompt||!1,d=r?.tag||0,h=r?.id||lr().toString(),u=cp(cu().protocol),p={id:h,method:r?.publishMethod||u.publish,params:d3({topic:e,message:t,ttl:c,prompt:l,tag:d,attestation:r?.attestation},r?.tvf&&{tvf:r.tvf})},f=`Failed to publish payload, please try again. id:${h} tag:${d}`;try{cL(null==(n=p.params)?void 0:n.prompt)&&(null==(i=p.params)||delete i.prompt),cL(null==(s=p.params)?void 0:s.tag)&&(null==(o=p.params)||delete o.tag);let a=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=p.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(lI.publish,t),e())};this.relayer.events.on(lI.publish,t);let n=iE(new Promise((e,t)=>{this.rpcPublish(p,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${d}`);try{await n,this.events.removeListener(lI.publish,t)}catch(e){this.queue.set(h,{request:p,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:e,message:t,opts:r}}),await iE(a,this.publishTimeout,f)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=r?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(h)}}),d8(this,"publishCustom",async e=>{var t,r,n,i,s;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:o,opts:c={}}=e,{attestation:l,tvf:d,publishMethod:h,prompt:u,tag:p,ttl:f=a.FIVE_MINUTES}=c,g=c.id||lr().toString(),m=cp(cu().protocol),y=h||m.publish,b={id:g,method:y,params:d3(d4(d3({},o),{ttl:f,prompt:u,tag:p,attestation:l}),d)},v=`Failed to publish custom payload, please try again. id:${g} tag:${p}`;try{cL(null==(t=b.params)?void 0:t.prompt)&&(null==(r=b.params)||delete r.prompt),cL(null==(n=b.params)?void 0:n.tag)&&(null==(i=b.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=b.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(lI.publish,t),e())};this.relayer.events.on(lI.publish,t);let r=iE(new Promise((e,t)=>{this.rpcPublish(b,c).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${y} id:${g} tag:${p}`);try{await r,this.events.removeListener(lI.publish,t)}catch(e){this.queue.set(g,{request:b,opts:c,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:g,payload:o,opts:c}}),await iE(e,this.publishTimeout,v)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=c?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(g)}}),d8(this,"on",(e,t)=>{this.events.on(e,t)}),d8(this,"once",(e,t)=>{this.events.once(e,t)}),d8(this,"off",(e,t)=>{this.events.off(e,t)}),d8(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,B.U5)(t,this.name),this.registerEventListeners()}get context(){return(0,B.oI)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(lI.publish,d3(d3({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,d4(d3({},e),{attempt:n})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(h.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(lI.connection_stalled);return}this.checkQueue()}),this.relayer.on(lI.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var d7=Object.defineProperty,he=(e,t,r)=>((e,t,r)=>t in e?d7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class ht{constructor(){he(this,"map",new Map),he(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),he(this,"get",e=>this.map.get(e)||[]),he(this,"exists",(e,t)=>this.get(e).includes(t)),he(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);if(!n.length)return void this.map.delete(e);this.map.set(e,n)}),he(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var hr=Object.defineProperty,hn=Object.defineProperties,hi=Object.getOwnPropertyDescriptors,hs=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,hc=(e,t,r)=>t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hl=(e,t)=>{for(var r in t||(t={}))ho.call(t,r)&&hc(e,r,t[r]);if(hs)for(var r of hs(t))ha.call(t,r)&&hc(e,r,t[r]);return e},hd=(e,t)=>hn(e,hi(t)),hh=(e,t,r)=>hc(e,"symbol"!=typeof t?t+"":t,r);class hu extends G{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,hh(this,"subscriptions",new Map),hh(this,"topicMap",new ht),hh(this,"events",new s.EventEmitter),hh(this,"name","subscription"),hh(this,"version","0.3"),hh(this,"pending",new Map),hh(this,"cached",[]),hh(this,"initialized",!1),hh(this,"storagePrefix",lO),hh(this,"subscribeTimeout",(0,a.toMiliseconds)(a.ONE_MINUTE)),hh(this,"initialSubscribeTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),hh(this,"clientId"),hh(this,"batchSubscribeTopicsLimit",500),hh(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),hh(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=cu(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let s=await this.rpcSubscribe(e,n,t);return"string"==typeof s&&(this.onSubscribe(s,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),s}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),hh(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),hh(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),hh(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),hh(this,"on",(e,t)=>{this.events.on(e,t)}),hh(this,"once",(e,t)=>{this.events.once(e,t)}),hh(this,"off",(e,t)=>{this.events.off(e,t)}),hh(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),hh(this,"start",async()=>{await this.onConnect()}),hh(this,"stop",async()=>{await this.onDisconnect()}),hh(this,"restart",async()=>{await this.restore(),await this.onRestart()}),hh(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),hh(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(h.pulse,async()=>{await this.checkPending()}),this.events.on(lL.created,async e=>{let t=lL.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(lL.deleted,async e=>{let t=lL.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,B.U5)(t,this.name),this.clientId=""}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=cu(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=cD("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let s=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return s;r&&r?.transportType!==lD.relay||await this.restartToComplete({topic:e,id:e,relay:t});let o={method:cp(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});let c=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===lD.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,a.toMiliseconds)(a.ONE_SECOND)),s;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(lL.created,r),t(n.id))};this.events.on(lL.created,r);try{let n=await iE(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(lL.created,r),t(n)}catch{}}),n=await iE(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&c)throw Error(`Subscribing to ${e} failed, please try again`);return n?s:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(lI.connection_stalled),c)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:cp(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await iE(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(lI.connection_stalled)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:cp(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await iE(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(lI.connection_stalled)}return t}rpcUnsubscribe(e,t,r){let n={method:cp(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,hd(hl({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,hl({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,hl({},t)),this.topicMap.set(t.topic,e),this.events.emit(lL.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=ck("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(lL.deleted,hd(hl({},r),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(lL.sync)}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(lL.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=ck("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>hd(hl({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,a.toMiliseconds)(a.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ci(e+await this.getClientId())}}var hp=Object.defineProperty,hf=Object.getOwnPropertySymbols,hg=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,hy=(e,t,r)=>t in e?hp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hb=(e,t)=>{for(var r in t||(t={}))hg.call(t,r)&&hy(e,r,t[r]);if(hf)for(var r of hf(t))hm.call(t,r)&&hy(e,r,t[r]);return e},hv=(e,t,r)=>hy(e,"symbol"!=typeof t?t+"":t,r);class hw extends z{constructor(e){super(e),hv(this,"protocol","wc"),hv(this,"version",2),hv(this,"core"),hv(this,"logger"),hv(this,"events",new s.EventEmitter),hv(this,"provider"),hv(this,"messages"),hv(this,"subscriber"),hv(this,"publisher"),hv(this,"name","relayer"),hv(this,"transportExplicitlyClosed",!1),hv(this,"initialized",!1),hv(this,"connectionAttemptInProgress",!1),hv(this,"relayUrl"),hv(this,"projectId"),hv(this,"packageName"),hv(this,"bundleId"),hv(this,"hasExperiencedNetworkDisruption",!1),hv(this,"pingTimeout"),hv(this,"heartBeatTimeout",(0,a.toMiliseconds)(a.THIRTY_SECONDS+a.FIVE_SECONDS)),hv(this,"reconnectTimeout"),hv(this,"connectPromise"),hv(this,"reconnectInProgress",!1),hv(this,"requestsInFlight",[]),hv(this,"connectTimeout",(0,a.toMiliseconds)(15*a.ONE_SECOND)),hv(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||lr().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),hv(this,"resetPingTimeout",()=>{il()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),hv(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),hv(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \uD83D\uDEDC"),this.startPingTimeout(),this.events.emit(lI.connect)}),hv(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \uD83D\uDED1"),this.requestsInFlight=[],this.onProviderDisconnect()}),hv(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(lI.error,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),hv(this,"registerProviderListeners",()=>{this.provider.on(lP.payload,this.onPayloadHandler),this.provider.on(lP.connect,this.onConnectHandler),this.provider.on(lP.disconnect,this.onDisconnectHandler),this.provider.on(lP.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger="u">typeof e.logger&&"string"!=typeof e.logger?(0,B.U5)(e.logger,this.name):(0,B.h6)((0,B.iP)({level:e.logger||"error"})),this.messages=new dZ(this.logger,e.core),this.subscriber=new hu(this,this.logger),this.publisher=new d9(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||lR,id()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="android"?this.packageName=ip():id()&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)&&(null==r.g?void 0:r.g.Platform.OS)==="ios"&&(this.bundleId=ip()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return(0,B.oI)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:lD.relay},lU.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let s=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),o=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",a,c=t=>{t.topic===e&&(this.subscriber.off(lL.created,c),a())};return await Promise.all([new Promise(e=>{a=e,this.subscriber.on(lL.created,c)}),new Promise(async(r,n)=>{o=await this.subscriber.subscribe(e,hb({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&n(e)})||o,r()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await iE(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics)return void this.logger.info("Starting WS connection skipped because the client has no topics to work with.");if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await cG())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0)return void this.logger.trace("Batch message events is empty. Ignoring...");let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=iO(a.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(lI.message,e),await this.recordMessageEvent(e,lU.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(lP.disconnect,r),await iE(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(lP.disconnect,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(lP.disconnect,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(lP.disconnect,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,a.toMiliseconds)(+t))),t++}}startPingTimeout(){var e,t,r,n,i;if(il())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new ly(new lw(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){let l=r.split("?"),d=im(e,t,n),h=function(e,t){let r=new URLSearchParams(e);for(let e of Object.keys(t).sort())if(t.hasOwnProperty(e)){let n=t[e];void 0!==n&&r.set(e,n)}return r.toString()}(l[1]||"",{auth:i,ua:d,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0});return l[0]+"?"+h}({sdkVersion:lk,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),lp(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:s}=t.data,o={topic:r,message:n,publishedAt:i,transportType:lD.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(hb({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else lf(e)&&this.events.emit(lI.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,lU.inbound),this.events.emit(lI.message,e))}async acknowledgePayload(e){let t=li(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(lP.payload,this.onPayloadHandler),this.provider.off(lP.connect,this.onConnectHandler),this.provider.off(lP.disconnect,this.onDisconnectHandler),this.provider.off(lP.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await cG();(function(e){var t,n;switch(iu()){case ic.browser:t=e,!id()&&ih()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)));break;case ic.reactNative:n=e,id()&&"u">typeof r.g&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener(e=>n(e?.isConnected));case ic.node:}})(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(h.pulse,async()=>{var e;if(!this.transportExplicitlyClosed&&!this.connected&&(!(ih()&&(0,rC.getDocument)())||(null==(e=(0,rC.getDocument)())?void 0:e.visibilityState)==="visible"))try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(lI.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,a.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function hE(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function hC(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let h_="[object Arguments]",hO="[object Object]";function hx(){}function hN(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}var hA=Object.defineProperty,hS=Object.getOwnPropertySymbols,hT=Object.prototype.hasOwnProperty,hR=Object.prototype.propertyIsEnumerable,hI=(e,t,r)=>t in e?hA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hP=(e,t)=>{for(var r in t||(t={}))hT.call(t,r)&&hI(e,r,t[r]);if(hS)for(var r of hS(t))hR.call(t,r)&&hI(e,r,t[r]);return e},hk=(e,t,r)=>hI(e,"symbol"!=typeof t?t+"":t,r);class hD extends ${constructor(e,t,r,n=lO,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,hk(this,"map",new Map),hk(this,"version","0.3"),hk(this,"cached",[]),hk(this,"initialized",!1),hk(this,"getKey"),hk(this,"storagePrefix",lO),hk(this,"recentlyDeleted",[]),hk(this,"recentlyDeletedLimit",200),hk(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!cL(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),hk(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),hk(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),hk(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>{var n;return n=t[r],function e(t,r,n,i,s,o,a){let c=a(t,r,n,i,s,o);if(void 0!==c)return c;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,s){if(Object.is(r,n))return!0;let o=hC(r),a=hC(n);if(o===h_&&(o=hO),a===h_&&(a=hO),o!==a)return!1;switch(o){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let c=(i=i??new Map).get(r),l=i.get(n);if(null!=c&&null!=l)return c===n;i.set(r,n),i.set(n,r);try{switch(o){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,o]of r.entries())if(!n.has(t)||!e(o,n.get(t),t,r,n,i,s))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),o=Array.from(n.values());for(let a=0;a<t.length;a++){let c=t[a],l=o.findIndex(t=>e(c,t,void 0,r,n,i,s));if(-1===l)return!1;o.splice(l,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof lE&&lE.isBuffer(r)!==lE.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,s))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,s);case"[object Error]":return r.name===n.name&&r.message===n.message;case hO:{if(!(t(r.constructor,n.constructor,i,s)||hN(r)&&hN(n)))return!1;let o=[...Object.keys(r),...hE(r)],a=[...Object.keys(n),...hE(n)];if(o.length!==a.length)return!1;for(let t=0;t<o.length;t++){let a=o[t],c=r[a];if(!Object.hasOwn(n,a))return!1;let l=n[a];if(!e(c,l,a,r,n,i,s))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,o,a)}(n,e[r],void 0,void 0,void 0,void 0,hx)})):this.values)),hk(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=hP(hP({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),hk(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,B.U5)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=ck("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=ck("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=ck("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var hU=Object.defineProperty,hM=(e,t,r)=>((e,t,r)=>t in e?hU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class hL{constructor(e,t){this.core=e,this.logger=t,hM(this,"name","pairing"),hM(this,"version","0.3"),hM(this,"events",new(o())),hM(this,"pairings"),hM(this,"initialized",!1),hM(this,"storagePrefix",lO),hM(this,"ignoredPayloadTypes",[1]),hM(this,"registeredMethods",[]),hM(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),hM(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),hM(this,"create",async e=>{this.isInitialized();let t=cr(),r=await this.core.crypto.setSymKey(t),n=iO(a.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},o=cg({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(lB.create,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:o}}),hM(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[lX.pairing_started]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:s,expiryTimestamp:o,methods:c}=cf(e.uri);if(r.props.properties.topic=n,r.addTrace(lX.pairing_uri_validation_success),r.addTrace(lX.pairing_uri_not_expired),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace(lX.existing_pairing),t.active)throw r.setError(lV.active_pairing_already_exists),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace(lX.pairing_not_expired)}let l=o||iO(a.FIVE_MINUTES),d={topic:n,relay:s,expiry:l,active:!1,methods:c};this.core.expirer.set(n,l),await this.pairings.set(n,d),r.addTrace(lX.store_new_pairing),e.activatePairing&&await this.activate({topic:n}),this.events.emit(lB.create,d),r.addTrace(lX.emit_inactive_pairing),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace(lX.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError(lV.no_internet_connection)}try{await this.core.relayer.subscribe(n,{relay:s})}catch(e){throw r.setError(lV.subscribe_pairing_topic_failure),e}return r.addTrace(lX.subscribe_pairing_topic_success),d}),hM(this,"activate",async({topic:e})=>{this.isInitialized();let t=iO(a.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),hM(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=iw();this.events.once(iN("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),hM(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),hM(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),hM(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),hM(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",cD("USER_DISCONNECTED")),await this.deletePairing(t))}),hM(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,s=this.core.crypto.keychain.get(t);return cg({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:r,expiryTimestamp:n,methods:i})}),hM(this,"sendRequest",async(e,t,r)=>{let n=ln(t,r),i=await this.core.crypto.encode(e,n),s=lj[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,s),n.id}),hM(this,"sendResult",async(e,t,r)=>{let n=li(e,r),i=await this.core.crypto.encode(t,n),s=lj[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,s),await this.core.history.resolve(n)}),hM(this,"sendError",async(e,t,r)=>{let n=ls(e,r),i=await this.core.crypto.encode(t,n),s=(await this.core.history.get(t,e)).request.method,o=lj[s]?lj[s].res:lj.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)}),hM(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,cD("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),hM(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>ix(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),hM(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),hM(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),hM(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit(lB.ping,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),hM(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{lg(t)?this.events.emit(iN("pairing_ping",r),{}):lm(t)&&this.events.emit(iN("pairing_ping",r),{error:t.error})},500)}),hM(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(lB.delete,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),hM(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=cD("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),hM(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(cD("WC_METHOD_UNSUPPORTED",e))}),hM(this,"isValidPair",(e,t)=>{var r;if(!cX(e)){let{message:r}=ck("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(lV.malformed_pairing_uri),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(cj(e,!1)){if(t(e))return!0;let r=ik(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=ck("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(lV.malformed_pairing_uri),Error(r)}let n=cf(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=ck("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(lV.malformed_pairing_uri),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=ck("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(lV.malformed_pairing_uri),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,a.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError(lV.pairing_expired);let{message:e}=ck("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),hM(this,"isValidPing",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),hM(this,"isValidDisconnect",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),hM(this,"isValidPairingTopic",async e=>{if(!cj(e,!1)){let{message:t}=ck("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=ck("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(ix(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=ck("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,B.U5)(t,this.name),this.pairings=new hD(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,B.oI)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(lI.message,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==lD.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);lp(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):lf(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(lK.expired,async e=>{let{topic:t}=i_(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(lB.expire,{topic:t}))})}}var hj=Object.defineProperty,hB=(e,t,r)=>((e,t,r)=>t in e?hj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class hW extends q{constructor(e,t){super(e,t),this.core=e,this.logger=t,hB(this,"records",new Map),hB(this,"events",new s.EventEmitter),hB(this,"name","history"),hB(this,"version","0.3"),hB(this,"cached",[]),hB(this,"initialized",!1),hB(this,"storagePrefix",lO),hB(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),hB(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:iO(a.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(lW.created,n)}),hB(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=lm(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(lW.updated,t))}),hB(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),hB(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(lW.deleted,r)))}),this.persist()}),hB(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),hB(this,"on",(e,t)=>{this.events.on(e,t)}),hB(this,"once",(e,t)=>{this.events.once(e,t)}),hB(this,"off",(e,t)=>{this.events.off(e,t)}),hB(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,B.U5)(t,this.name)}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:ln(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=ck("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(lW.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=ck("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(lW.created,e=>{let t=lW.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(lW.updated,e=>{let t=lW.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(lW.deleted,e=>{let t=lW.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(h.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,a.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(lW.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var hK=Object.defineProperty,hH=(e,t,r)=>((e,t,r)=>t in e?hK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class hF extends J{constructor(e,t){super(e,t),this.core=e,this.logger=t,hH(this,"expirations",new Map),hH(this,"events",new s.EventEmitter),hH(this,"name","expirer"),hH(this,"version","0.3"),hH(this,"cached",[]),hH(this,"initialized",!1),hH(this,"storagePrefix",lO),hH(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),hH(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),hH(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(lK.created,{target:r,expiration:n})}),hH(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),hH(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(lK.deleted,{target:t,expiration:r})}}),hH(this,"on",(e,t)=>{this.events.on(e,t)}),hH(this,"once",(e,t)=>{this.events.once(e,t)}),hH(this,"off",(e,t)=>{this.events.off(e,t)}),hH(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,B.U5)(t,this.name)}get context(){return(0,B.oI)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return iC("topic",e);if("number"==typeof e)return iC("id",e);let{message:t}=ck("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(lK.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=ck("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=ck("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,a.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(lK.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(h.pulse,()=>this.checkExpirations()),this.events.on(lK.created,e=>{let t=lK.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(lK.expired,e=>{let t=lK.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(lK.deleted,e=>{let t=lK.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}}var hq=Object.defineProperty,hX=(e,t,r)=>((e,t,r)=>t in e?hq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class hV extends Z{constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,hX(this,"name","verify-api"),hX(this,"abortController"),hX(this,"isDevEnv"),hX(this,"verifyUrlV3",lF),hX(this,"storagePrefix",lO),hX(this,"version",2),hX(this,"publicKey"),hX(this,"fetchPromise"),hX(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,a.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),hX(this,"register",async e=>{if(!ih()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,rC.getDocument)(),t=this.startAbortTimer(5*a.ONE_SECOND),n=await new Promise((n,s)=>{let o=()=>{window.removeEventListener("message",c),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});let c=i=>{if(i.data&&"string"==typeof i.data)try{let s=JSON.parse(i.data);if("verify_attestation"===s.type){if(rl(s.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",c),n(null===s.attestation?"":s.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(a),window.addEventListener("message",c,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""}),hX(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(rl(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),hX(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*a.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),hX(this,"getVerifyUrl",e=>{let t=e||lH;return lq.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${lH}`),t=lH),t}),hX(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(a.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),hX(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),hX(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),hX(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),hX(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),hX(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),hX(this,"validateAttestation",(e,t)=>{let r=function(e,t){let[r,n,i]=e.split("."),s=n3.from(ca(i),"base64");if(64!==s.length)throw Error("Invalid signature length");let o=s.slice(0,32),a=s.slice(32,64),c=sV(`${r}.${n}`),l=function(e){let t=n3.from(e.x,"base64"),r=n3.from(e.y,"base64");return n$([new Uint8Array([4]),t,r])}(t);if(!a4.verify(n$([o,a]),c,l))throw Error("Invalid signature");return rl(e).payload}(e,t.publicKey),n={hasExpired:(0,a.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=(0,B.U5)(t,this.name),this.abortController=new AbortController,this.isDevEnv=iP(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,B.oI)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,a.toMiliseconds)(e))}}var hz=Object.defineProperty,h$=(e,t,r)=>((e,t,r)=>t in e?hz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class hG extends Y{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,h$(this,"context","echo"),h$(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=(0,B.U5)(t,this.context)}}var hJ=Object.defineProperty,hZ=Object.getOwnPropertySymbols,hY=Object.prototype.hasOwnProperty,hQ=Object.prototype.propertyIsEnumerable,h0=(e,t,r)=>t in e?hJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h1=(e,t)=>{for(var r in t||(t={}))hY.call(t,r)&&h0(e,r,t[r]);if(hZ)for(var r of hZ(t))hQ.call(t,r)&&h0(e,r,t[r]);return e},h2=(e,t,r)=>h0(e,"symbol"!=typeof t?t+"":t,r);class h5 extends Q{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,h2(this,"context","event-client"),h2(this,"storagePrefix",lO),h2(this,"storageVersion",.1),h2(this,"events",new Map),h2(this,"shouldPersist",!1),h2(this,"init",async()=>{if(!iP())try{let e={eventId:iI(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:im(this.core.relayer.protocol,this.core.relayer.version,lk)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),h2(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,s=iI(),o=this.core.projectId||"",a=h1({eventId:s,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,a),this.shouldPersist=!0),a}),h2(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return h1(h1({},n),this.setMethods(n.eventId))}),h2(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),h2(this,"setEventListeners",()=>{this.core.heartbeat.on(h.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,a.fromMiliseconds)(Date.now())-(0,a.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),h2(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),h2(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),h2(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),h2(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),h2(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,h1(h1({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),h2(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),h2(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${lk}${t}`,{method:"POST",body:JSON.stringify(e)})}),h2(this,"getAppDomain",()=>ig().url),this.logger=(0,B.U5)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var h6=Object.defineProperty,h3=Object.getOwnPropertySymbols,h4=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,h9=(e,t,r)=>t in e?h6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h7=(e,t)=>{for(var r in t||(t={}))h4.call(t,r)&&h9(e,r,t[r]);if(h3)for(var r of h3(t))h8.call(t,r)&&h9(e,r,t[r]);return e},ue=(e,t,r)=>h9(e,"symbol"!=typeof t?t+"":t,r);class ut extends H{constructor(e){var t;super(e),ue(this,"protocol","wc"),ue(this,"version",2),ue(this,"name",l_),ue(this,"relayUrl"),ue(this,"projectId"),ue(this,"customStoragePrefix"),ue(this,"events",new s.EventEmitter),ue(this,"logger"),ue(this,"heartbeat"),ue(this,"relayer"),ue(this,"crypto"),ue(this,"storage"),ue(this,"history"),ue(this,"expirer"),ue(this,"pairing"),ue(this,"verify"),ue(this,"echoClient"),ue(this,"linkModeSupportedApps"),ue(this,"eventClient"),ue(this,"initialized",!1),ue(this,"logChunkController"),ue(this,"on",(e,t)=>this.events.on(e,t)),ue(this,"once",(e,t)=>this.events.once(e,t)),ue(this,"off",(e,t)=>this.events.off(e,t)),ue(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),ue(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:lD.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});let r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||lR,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=(0,B.iP)({level:"string"==typeof e?.logger&&e.logger?e.logger:lx.logger,name:l_}),{logger:i,chunkLoggerController:o}=(0,B.D5)({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,B.U5)(i,this.name),this.heartbeat=new u,this.crypto=new dH(this,this.logger,e?.keychain),this.history=new hW(this,this.logger),this.expirer=new hF(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new j(h7(h7({},lN),e?.storageOptions)),this.relayer=new hw({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hL(this,this.logger),this.verify=new hV(this,this.logger,this.storage),this.echoClient=new hG(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new h5(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new ut(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,B.oI)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(lM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(lM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof lC&&"true"===lC.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let ur="client",un=`wc@2:${ur}:`,ui={name:ur,logger:"error"},us="WALLETCONNECT_DEEPLINK_CHOICE",uo="Proposal expired",ua=a.SEVEN_DAYS,uc={wc_sessionPropose:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1104},res:{ttl:a.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1106},res:{ttl:a.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:a.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1112},res:{ttl:a.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:a.ONE_DAY,prompt:!1,tag:1114},res:{ttl:a.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:a.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:a.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:a.FIVE_MINUTES,prompt:!1,tag:1119}}},ul={min:a.FIVE_MINUTES,max:a.SEVEN_DAYS},ud={idle:"IDLE",active:"ACTIVE"},uh={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},uu=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],up="wc@1.5:auth:",uf=`${up}:PUB_KEY`;var ug=Object.defineProperty,um=Object.defineProperties,uy=Object.getOwnPropertyDescriptors,ub=Object.getOwnPropertySymbols,uv=Object.prototype.hasOwnProperty,uw=Object.prototype.propertyIsEnumerable,uE=(e,t,r)=>t in e?ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uC=(e,t)=>{for(var r in t||(t={}))uv.call(t,r)&&uE(e,r,t[r]);if(ub)for(var r of ub(t))uw.call(t,r)&&uE(e,r,t[r]);return e},u_=(e,t)=>um(e,uy(t)),uO=(e,t,r)=>uE(e,"symbol"!=typeof t?t+"":t,r);class ux extends en{constructor(e){super(e),uO(this,"name","engine"),uO(this,"events",new(o())),uO(this,"initialized",!1),uO(this,"requestQueue",{state:ud.idle,queue:[]}),uO(this,"sessionRequestQueue",{state:ud.idle,queue:[]}),uO(this,"emittedSessionRequests",new iD({limit:500})),uO(this,"requestQueueDelay",a.ONE_SECOND),uO(this,"expectedPairingMethodMap",new Map),uO(this,"recentlyDeletedMap",new Map),uO(this,"recentlyDeletedLimit",200),uO(this,"relayMessageCache",[]),uO(this,"pendingSessions",new Map),uO(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(uc)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,a.toMiliseconds)(this.requestQueueDelay)))}),uO(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=u_(uC({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var r,n,i,s,o,a;let c=cT(e),l=cT(t),d={};for(let e of Object.keys(c).concat(Object.keys(l)))d[e]={chains:iA(null==(r=c[e])?void 0:r.chains,null==(n=l[e])?void 0:n.chains),methods:iA(null==(i=c[e])?void 0:i.methods,null==(s=l[e])?void 0:s.methods),events:iA(null==(o=c[e])?void 0:o.events,null==(a=l[e])?void 0:a.events)};return d}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:c}=t,l=r,d,h=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!h){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,d=t}if(!l){let{message:e}=ck("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw Error(e)}let u=await this.client.core.crypto.generateKeyPair(),p=uc.wc_sessionPropose.req.ttl||a.FIVE_MINUTES,f=iO(p),g=u_(uC(uC({requiredNamespaces:n,optionalNamespaces:i,relays:c??[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata},expiryTimestamp:f,pairingTopic:l},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:lt()}),m=iN("session_connect",g.id),{reject:y,resolve:b,done:v}=iw(p,uo),w=({id:e})=>{e===g.id&&(this.client.events.off("proposal_expire",w),this.pendingSessions.delete(g.id),this.events.emit(m,{error:{message:uo,code:0}}))};return this.client.events.on("proposal_expire",w),this.events.once(m,({error:e,session:t})=>{this.client.events.off("proposal_expire",w),e?y(e):t&&b(t)}),await this.sendProposeSession({proposal:g,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:g.id}}}),await this.setProposal(g.id,g),{uri:d,approval:v}}),uO(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),uO(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[lz.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError(l$.no_internet_connection),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(l$.proposal_not_found),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(l$.session_approve_namespace_validation_failure),e}let{id:s,relayProtocol:o,namespaces:a,sessionProperties:c,scopedProperties:l,sessionConfig:d}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:u,proposer:p,requiredNamespaces:f,optionalNamespaces:g}=h,m=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:u});m||(m=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:lz.session_approve_started,properties:{topic:u,trace:[lz.session_approve_started,lz.session_namespaces_validation_success]}}));let y=await this.client.core.crypto.generateKeyPair(),b=p.publicKey,v=await this.client.core.crypto.generateSharedKey(y,b),w=uC(uC(uC({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:y,metadata:this.client.metadata},expiry:iO(ua)},c&&{sessionProperties:c}),l&&{scopedProperties:l}),d&&{sessionConfig:d}),E=lD.relay;m.addTrace(lz.subscribing_session_topic);try{await this.client.core.relayer.subscribe(v,{transportType:E,internal:{skipSubscribe:!0}})}catch(e){throw m.setError(l$.subscribe_session_topic_failure),e}m.addTrace(lz.subscribe_session_topic_success);let C=u_(uC({},w),{topic:v,requiredNamespaces:f,optionalNamespaces:g,pairingTopic:u,acknowledged:!1,self:w.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:y,transportType:lD.relay});await this.client.session.set(v,C),m.addTrace(lz.store_session);try{await this.sendApproveSession({sessionTopic:v,proposal:h,pairingProposalResponse:{relay:{protocol:o??"irn"},responderPublicKey:y},sessionSettleRequest:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:s}}}),m.addTrace(lz.session_approve_publish_success)}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,cD("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:u,metadata:p.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:u}),await this.setExpiry(v,iO(ua)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),uO(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:uc.wc_sessionPropose.reject}),await this.deleteProposal(r)}),uO(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:s}=iw(),o=lt(),a=lr().toString(),c=this.client.session.get(t).namespaces;return this.events.once(iN("session_update",o),({error:e})=>{e?s(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:c}),s(e)}),{acknowledged:n}}),uO(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=lt(),{done:n,resolve:i,reject:s}=iw();return this.events.once(iN("session_extend",r),({error:e})=>{e?s(e):i()}),await this.setExpiry(t,iO(ua)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:n}}),uO(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=uc.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(n);s?.transportType===lD.relay&&await this.confirmOnlineStateOrThrow();let o=lt(),a=lr().toString(),{done:c,resolve:l,reject:d}=iw(i,"Request expired. Please try again.");this.events.once(iN("session_request",o),({error:e,result:t})=>{e?d(e):l(t)});let h="wc_sessionRequest",u=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(u)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:h,params:{request:u_(uC({},r),{expiryTimestamp:iO(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:u}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),await c();let p={request:u_(uC({},r),{expiryTimestamp:iO(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:h,params:p,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,p)}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(!(null!=(t=s.sessionConfig)&&t.disableDeepLink)){let e=await iT(this.client.core.storage,us);await iS({id:o,topic:n,wcDeepLink:e})}e()}),c()]).then(e=>e[2])}),uO(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===lD.relay&&await this.confirmOnlineStateOrThrow();let s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);lg(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:s}):lm(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:s}),this.cleanupAfterResponse(e)}),uO(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=lt(),r=lr().toString(),{done:n,resolve:i,reject:s}=iw();this.events.once(iN("session_ping",e),({error:e})=>{e?s(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),uO(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=lr().toString(),s=lt();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),uO(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:cD("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=ck("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),uO(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),s=!0;return!!iy(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:o}=e.namespaces[t],a=cN(n),c=r[t];iy(n8(t,c),a)&&iy(c.methods,i)&&iy(c.events,o)||(s=!1)}),s)})(t,e)))),uO(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),uO(this,"authenticate",async(e,t)=>{var r,n,i;let s;this.isInitialized(),this.isValidAuthenticate(e);let o=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),a=o?lD.link_mode:lD.relay;a===lD.relay&&await this.confirmOnlineStateOrThrow();let{chains:c,statement:l="",uri:d,domain:h,nonce:u,type:p,exp:f,nbf:g,methods:m=[],expiry:y}=e,b=[...e.resources||[]],{topic:v,uri:w}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:w}});let E=await this.client.core.crypto.generateKeyPair(),C=cn(E);if(await Promise.all([this.client.auth.authKeys.set(uf,{responseTopic:C,publicKey:E}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:v})]),await this.client.core.relayer.subscribe(C,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${v}`),m.length>0){let{namespace:e}=n4(c[0]),t=of(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(e,"request",m));ob(b)&&(n=t,i=b.pop(),t=of(function(e,t){op(e),op(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),n={att:{}};return r.forEach(r=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[r])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;n.att[r]=or(((e,t)=>{for(var r in t||(t={}))os.call(t,r)&&oa(e,r,t[r]);if(oi)for(var r of oi(t))oo.call(t,r)&&oa(e,r,t[r]);return e})({},n.att[r]),on({[i]:(null==(s=e.att[r])?void 0:s[i])||(null==(o=t.att[r])?void 0:o[i])}))})}),n}(og(n),og(i)))),b.push(t)}let _=y&&y>uc.wc_sessionAuthenticate.req.ttl?y:uc.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:p??"caip122",chains:c,statement:l,aud:d,domain:h,version:"1",nonce:u,iat:new Date().toISOString(),exp:f,nbf:g,resources:b},requester:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:iO(_)},x={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:c,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:iO(uc.wc_sessionPropose.req.ttl),id:lt()},{done:N,resolve:A,reject:S}=iw(_,"Request expired"),T=lt(),R=iN("session_connect",x.id),I=iN("session_request",T),P=async({error:e,session:t})=>{this.events.off(I,k),e?S(e):t&&A({session:t})},k=async e=>{var r,n,i;let s;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),e.error){let t=cD("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(R,P),S(e.error.message))}await this.deleteProposal(x.id),this.events.off(R,P);let{cacaos:o,responder:c}=e.result,l=[],d=[];for(let e of o){await oh({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),S(cD("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=ob(t.resources),n=[ol(t.iss)],i=od(t.iss);if(r){let e=om(r),t=oy(r);l.push(...e),n.push(...t)}for(let e of n)d.push(`${e}:${i}`)}let h=await this.client.core.crypto.generateSharedKey(E,c.publicKey);l.length>0&&(s={topic:h,acknowledged:!0,self:{publicKey:E,metadata:this.client.metadata},peer:c,controller:c.publicKey,expiry:iO(ua),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:cR([...new Set(l)],[...new Set(d)]),transportType:a},await this.client.core.relayer.subscribe(h,{transportType:a}),await this.client.session.set(h,s),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:c.metadata}),s=this.client.session.get(h)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=c.metadata.redirect)&&n.linkMode&&null!=(i=c.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.session.update(h,{transportType:lD.link_mode})),A({auths:o,session:s})};this.events.once(R,P),this.events.once(I,k);try{if(o){let e=ln("wc_sessionAuthenticate",O,T);this.client.core.history.set(v,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:ce});s=cm(t,v,r)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:O,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:x,expiry:uc.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:x.id})])}catch(e){throw this.events.off(R,P),this.events.off(I,k),e}return await this.setProposal(x.id,x),await this.setAuthRequest(T,{request:u_(uC({},O),{verifyContext:{}}),pairingTopic:v,transportType:a}),{uri:s??w,response:N}}),uO(this,"approveSessionAuthenticate",async e=>{let t,{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[lG.authenticated_session_approve_started]}});try{this.isInitialized()}catch(e){throw i.setError(lJ.no_internet_connection),e}let s=this.getPendingAuthRequest(r);if(!s)throw i.setError(lJ.authenticated_session_pending_request_not_found),Error(`Could not find pending auth request with id ${r}`);let o=s.transportType||lD.relay;o===lD.relay&&await this.confirmOnlineStateOrThrow();let a=s.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),l=cn(a),d={type:1,receiverPublicKey:a,senderPublicKey:c},h=[],u=[];for(let e of n){if(!await oh({cacao:e,projectId:this.client.core.projectId})){i.setError(lJ.invalid_cacao);let e=cD("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:l,error:e,encodeOpts:d}),Error(e.message)}i.addTrace(lG.cacaos_verified);let{p:t}=e,n=ob(t.resources),s=[ol(t.iss)],o=od(t.iss);if(n){let e=om(n),t=oy(n);h.push(...e),s.push(...t)}for(let e of s)u.push(`${e}:${o}`)}let p=await this.client.core.crypto.generateSharedKey(c,a);if(i.addTrace(lG.create_authenticated_session_topic),h?.length>0){t={topic:p,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:a,metadata:s.requester.metadata},controller:a,expiry:iO(ua),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:cR([...new Set(h)],[...new Set(u)]),transportType:o},i.addTrace(lG.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:o})}catch(e){throw i.setError(lJ.subscribe_authenticated_session_topic_failure),e}i.addTrace(lG.subscribe_authenticated_session_topic_success),await this.client.session.set(p,t),i.addTrace(lG.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})}i.addTrace(lG.publishing_authenticated_session_approve);try{await this.sendResult({topic:l,id:r,result:{cacaos:n,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(s.requester.metadata,o)})}catch(e){throw i.setError(lJ.authenticated_session_approve_publish_failure),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),uO(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===lD.relay&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=cn(i);await this.sendError({id:t,topic:o,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:s},rpcOpts:uc.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),uO(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return ou(t,r)}),uO(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),uO(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),uO(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,cD("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(us).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,cD("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=ud.idle),i&&this.client.events.emit("session_delete",{id:s,topic:r})}),uO(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError(l$.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(e,cD("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),uO(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=ud.idle,this.client.events.emit("session_request_expire",{id:e}))}),uO(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),uO(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),uO(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,iO(uc.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),uO(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=lD.relay}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),uO(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,s=n.request.expiryTimestamp||iO(uc.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),uO(this,"sendRequest",async e=>{let t,n,{topic:i,method:s,params:o,expiry:a,relayRpcId:c,clientRpcId:l,throwOnFailedPublish:d,appLink:h,tvf:u,publishOpts:p={}}=e,f=ln(s,o,l),g=!!h;try{let e=g?ce:a7;t=await this.client.core.crypto.encode(i,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),e}if(uu.includes(s)){let e=ci(JSON.stringify(f)),r=ci(t);n=await this.client.core.verify.register({id:r,decryptedId:e})}let m=uC(uC({},uc[s].req),p);if(m.attestation=n,a&&(m.ttl=a),c&&(m.id=c),this.client.core.history.set(i,f),g){let e=cm(h,i,t);await r.g.Linking.openURL(e,this.client.name)}else m.tvf=u_(uC({},u),{correlationId:f.id}),d?(m.internal=u_(uC({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,t,m)):this.client.core.relayer.publish(i,t,m).catch(e=>this.client.logger.error(e));return f.id}),uO(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=ln("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:a7}),s=ci(JSON.stringify(n)),o=ci(i),a=await this.client.core.verify.register({id:o,decryptedId:s});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:u_(uC({},r),{publishMethod:"wc_proposeSession",attestation:a})})}),uO(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:s}=e,o=li(n.id,r),a=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:a7}),c=ln("wc_sessionSettle",i,s?.id),l=await this.client.core.crypto.encode(t,c,{encoding:a7});this.client.core.history.set(t,c),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:a,sessionSettlementRequest:l},opts:u_(uC({},s),{publishMethod:"wc_approveSession"})})}),uO(this,"sendResult",async e=>{let t,n,i,{id:s,topic:o,result:a,throwOnFailedPublish:c,encodeOpts:l,appLink:d}=e,h=li(s,a),u=d&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=u?ce:a7;t=await this.client.core.crypto.encode(o,h,u_(uC({},l||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${o} failed`),e}try{let e=(n=await this.client.core.history.get(o,s)).request;try{i=this.getTVFParams(s,e.params,a)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${o}, ${s}) failed`),e}if(u){let e=cm(d,o,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=uc[n.request.method].res;e.tvf=u_(uC({},i),{correlationId:s}),c?(e.internal=u_(uC({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(o,t,e)):this.client.core.relayer.publish(o,t,e).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(h)}),uO(this,"sendError",async e=>{let t,n,{id:i,topic:s,error:o,encodeOpts:a,rpcOpts:c,appLink:l}=e,d=ls(i,o),h=l&&"u">typeof(null==r.g?void 0:r.g.Linking);try{let e=h?ce:a7;t=await this.client.core.crypto.encode(s,d,u_(uC({},a||{}),{encoding:e}))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),e}try{n=await this.client.core.history.get(s,i)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${s}, ${i}) failed`),e}if(h){let e=cm(l,s,t);await r.g.Linking.openURL(e,this.client.name)}else{let e=n.request.method,r=c||uc[e].res;this.client.core.relayer.publish(s,t,r)}await this.client.core.history.resolve(d)}),uO(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;ix(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{ix(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),uO(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),uO(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),uO(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ud.active)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ud.active;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=ud.idle}),uO(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:s}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),uO(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),uO(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=ck("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),uO(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),uO(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:s,id:o}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(lV.proposal_listener_not_found)),this.isValidConnect(uC({},r.params));let a=s.expiryTimestamp||iO(uc.wc_sessionPropose.req.ttl),c=uC({id:o,pairingTopic:t,expiryTimestamp:a,attestation:n,encryptedId:i},s);await this.setProposal(o,c);let l=await this.getVerifyContext({attestationId:n,hash:ci(JSON.stringify(r)),encryptedId:i,metadata:c.proposer.metadata});e?.addTrace(lX.emit_session_proposal),this.client.events.emit("session_proposal",{id:o,params:c,verifyContext:l})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:uc.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),uO(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if(lg(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});let o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});let c=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(n,{sessionTopic:c,pairingTopic:e,proposalId:n,publicKey:o});let l=await this.client.core.relayer.subscribe(c,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:l}),await this.client.core.pairing.activate({topic:e})}else if(lm(t)){await this.deleteProposal(n);let e=iN("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),uO(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{this.isValidSessionSettleRequest(n);let{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:c,sessionConfig:l}=t.params,d=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!d)return this.client.logger.error(`Pending session not found for topic ${e}`);let h=this.client.proposal.get(d.proposalId),u=u_(uC(uC(uC({topic:e,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:d.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:d.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),c&&{scopedProperties:c}),l&&{sessionConfig:l}),{transportType:lD.relay});await this.client.session.set(u.topic,u),await this.setExpiry(u.topic,u.expiry),await this.client.core.pairing.updateMetadata({topic:d.pairingTopic,metadata:u.peer.metadata}),this.client.events.emit("session_connect",{session:u}),this.events.emit(iN("session_connect",d.proposalId),{session:u}),this.pendingSessions.delete(d.proposalId),this.deleteProposal(d.proposalId,!1),this.cleanupDuplicatePairings(u),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),uO(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;lg(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(iN("session_approve",r),{})):lm(t)&&(await this.client.session.delete(e,cD("USER_DISCONNECTED")),this.events.emit(iN("session_approve",r),{error:t.error}))}),uO(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=cY.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:cD("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(uC({topic:e},r));try{cY.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw cY.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),uO(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),uO(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=iN("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);lg(t)?this.events.emit(iN("session_update",r),{}):lm(t)&&this.events.emit(iN("session_update",r),{error:t.error})}),uO(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,iO(ua)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),uO(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=iN("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);lg(t)?this.events.emit(iN("session_extend",r),{}):lm(t)&&this.events.emit(iN("session_extend",r),{error:t.error})}),uO(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),uO(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=iN("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);lg(t)?this.events.emit(iN("session_ping",r),{}):lm(t)&&this.events.emit(iN("session_ping",r),{error:t.error})},500)}),uO(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(lI.publish,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:cD("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),uO(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=e,{id:l,params:d}=s;try{await this.isValidRequest(uC({topic:i},d));let e=this.client.session.get(i),s=await this.getVerifyContext({attestationId:o,hash:ci(JSON.stringify(ln("wc_sessionRequest",d,l))),encryptedId:a,metadata:e.peer.metadata,transportType:c}),h={id:l,topic:i,params:d,verifyContext:s};await this.setPendingSessionRequest(h),c===lD.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(h):(this.addSessionRequestToSessionRequestQueue(h),this.processSessionRequestQueue())}catch(e){await this.sendError({id:l,topic:i,error:e}),this.client.logger.error(e)}}),uO(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=iN("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);lg(t)?this.events.emit(iN("session_request",r),{result:t.result}):lm(t)&&this.events.emit(iN("session_request",r),{error:t.error})}),uO(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=cY.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(uC({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),cY.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),uO(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),lg(t)?this.events.emit(iN("session_request",r),{result:t.result}):lm(t)&&this.events.emit(iN("session_request",r),{error:t.error})}),uO(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:s,transportType:o}=e;try{let{requester:e,authPayload:a,expiryTimestamp:c}=n.params,l=await this.getVerifyContext({attestationId:i,hash:ci(JSON.stringify(n)),encryptedId:s,metadata:e.metadata,transportType:o}),d={requester:e,pairingTopic:r,id:n.id,authPayload:a,verifyContext:l,expiryTimestamp:c};await this.setAuthRequest(n.id,{request:d,pairingTopic:r,transportType:o}),o===lD.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:l})}catch(s){this.client.logger.error(s);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,o);await this.sendError({id:n.id,topic:r,error:s,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:uc.wc_sessionAuthenticate.autoReject,appLink:i})}}),uO(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),uO(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ud.idle,this.processSessionRequestQueue()},(0,a.toMiliseconds)(this.requestQueueDelay))}),uO(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=iN("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(iN("session_request",e.request.id),{error:t})})}),uO(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ud.active)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),uO(this,"emitSessionRequest",e=>{if(this.emittedSessionRequests.has(e.id))return void this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`);this.sessionRequestQueue.state=ud.active,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e)}),uO(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:ln("wc_sessionPropose",u_(uC({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),uO(this,"isValidConnect",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:t,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,scopedProperties:s,relays:o}=e;if(cL(t)||await this.isValidPairingTopic(t),!function(e,t){let r=!1;return t&&!e?r=!0:e&&cU(e)&&e.length&&e.forEach(e=>{r=cq(e)}),r}(o,!0)){let{message:e}=ck("MISSING_OR_INVALID",`connect() relays: ${o}`);throw Error(e)}if(!cL(r)&&0!==cM(r)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(r,"requiredNamespaces")}if(cL(n)||0===cM(n)||this.validateNamespaces(n,"optionalNamespaces"),cL(i)||this.validateSessionProps(i,"sessionProperties"),!cL(s)){this.validateSessionProps(s,"scopedProperties");let e=Object.keys(r||{}).concat(Object.keys(n||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),uO(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&cM(e)){let i,s=cH(e,t);s&&(n=s);let o=(i=null,Object.entries(e).forEach(([e,n])=>{var s,o;let a;if(i)return;let c=(s=n8(e,n),o=`${t} ${r}`,a=null,cU(s)&&s.length?s.forEach(e=>{a||cW(e)||(a=cD("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):cW(e)||(a=cD("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);c&&(i=c)}),i);o&&(n=o)}else n=ck("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)}),uO(this,"isValidApprove",async e=>{if(!cX(e))throw Error(ck("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let o=this.client.proposal.get(t),a=cF(r,"approve()");if(a)throw Error(a.message);let c=cz(o.requiredNamespaces,r,"approve()");if(c)throw Error(c.message);if(!cj(n,!0)){let{message:e}=ck("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(cL(i)||this.validateSessionProps(i,"sessionProperties"),!cL(s)){this.validateSessionProps(s,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),uO(this,"isValidReject",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!cB(e.code,!1)||!e.message||!cj(e.message,!1))}(r)){let{message:e}=ck("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),uO(this,"isValidSessionSettleRequest",e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:t,controller:r,namespaces:n,expiry:i}=e;if(!cq(t)){let{message:e}=ck("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let s=function(e,t){let r=null;return cj(e?.publicKey,!1)||(r=ck("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw Error(s.message);let o=cF(n,"onSessionSettleRequest()");if(o)throw Error(o.message);if(ix(i)){let{message:e}=ck("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),uO(this,"isValidUpdate",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=cF(r,"update()");if(i)throw Error(i.message);let s=cz(n.requiredNamespaces,r,"update()");if(s)throw Error(s.message)}),uO(this,"isValidExtend",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),uO(this,"isValidRequest",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:t,request:r,chainId:n,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let{namespaces:s}=this.client.session.get(t);if(!cV(s,n)){let{message:e}=ck("MISSING_OR_INVALID",`request() chainId: ${n}`);throw Error(e)}if(!function(e){return!(cL(e)||!cj(e.method,!1))}(r)){let{message:e}=ck("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw Error(e)}if(!function(e,t,r){return!!cj(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{cN(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}(s,n,r.method)){let{message:e}=ck("MISSING_OR_INVALID",`request() method: ${r.method}`);throw Error(e)}if(i&&!function(e,t){return cB(e,!1)&&e<=t.max&&e>=t.min}(i,ul)){let{message:e}=ck("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${ul.min} and ${ul.max}`);throw Error(e)}}),uO(this,"isValidRespond",async e=>{var t;if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(!function(e){return!(cL(e)||cL(e.result)&&cL(e.error)||!cB(e.id,!1)||!cj(e.jsonrpc,!1))}(n)){let{message:e}=ck("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}}),uO(this,"isValidPing",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),uO(this,"isValidEmit",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:t,event:r,chainId:n}=e;await this.isValidSessionTopic(t);let{namespaces:i}=this.client.session.get(t);if(!cV(i,n)){let{message:e}=ck("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw Error(e)}if(!function(e){return!(cL(e)||!cj(e.name,!1))}(r)||!function(e,t,r){return!!cj(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{cN(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}(i,n,r.name)){let{message:e}=ck("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw Error(e)}}),uO(this,"isValidDisconnect",async e=>{if(!cX(e)){let{message:t}=ck("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),uO(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!cj(r,!1))throw Error("uri is required parameter");if(!cj(n,!1))throw Error("domain is required parameter");if(!cj(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>n4(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:s}=n4(t[0]);if("eip155"!==s)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),uO(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||lH,validation:"UNKNOWN",origin:i.url||""}};try{if(s===lD.link_mode){let e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),uO(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=ck("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),uO(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),uO(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),uO(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=ck("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),uO(this,"isLinkModeEnabled",(e,t)=>{var n,i,s,o,a,c,l,d,h;return!!e&&t===lD.link_mode&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)!==void 0&&(null==(c=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:c.universal)!==""&&(null==(l=e?.redirect)?void 0:l.universal)!==void 0&&(null==(d=e?.redirect)?void 0:d.universal)!==""&&(null==(h=e?.redirect)?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&"u">typeof(null==r.g?void 0:r.g.Linking)}),uO(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),uO(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=iR(e,"topic")||"",r=decodeURIComponent(iR(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:lD.link_mode}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),uO(this,"registerLinkModeListeners",async()=>{var e;if(iP()||id()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){let e=null==r.g?void 0:r.g.Linking;if("u">typeof e){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);let t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),uO(this,"getTVFParams",(e,t,r)=>{var n,i,s;if(!(null!=(n=t.request)&&n.method))return{};let o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{o.txHashes=this.extractTxHashesFromResult(t.request,r),o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(e){this.client.logger.warn("Error getting TVF params",e)}return o}),uO(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),uO(this,"extractTxHashesFromResult",(e,t)=>{var r;try{if(!t)return[];let n=e.method,i=uh[n];if("sui_signTransaction"===n)return[function(e){let t=new Uint8Array(n3.from(e,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let i=s5(n,{dkLen:32});return ns.encode(i)}(t.transactionBytes)];if("near_signTransaction"===n)return[s9(t)];if("near_signTransactions"===n)return t.map(e=>s9(e));if("xrpl_signTransactionFor"===n||"xrpl_signTransaction"===n)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===n)return[function(e){let t=Uint8Array.from(n3.from(e.signature,"hex")),r=function({publicKey:e,signature:t,payload:r}){var n,i;let s=cQ(r.method),o=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),a=function(e){let t=ns.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),c="00"===r.era?new Uint8Array([0]):cQ(r.era);if(1!==c.length&&2!==c.length)throw Error("Invalid era length");let l=parseInt(r.nonce,16),d=new Uint8Array([255&l,l>>8&255]),h=new Uint8Array([0,...e,a,...t,...c,...d,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt(`0x${(i=r.tip).startsWith("0x")?i.slice(2):i}`)),...s]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<0x40000000){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(h.length+1),o,...h])}({publicKey:function(e){let t=ns.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),signature:t,payload:e.transaction});var n=n3.from(r).toString("hex");let i=cQ(n),s=(0,n5.blake2b)(i,void 0,32);return"0x"+n3.from(s).toString("hex")}({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===n)return cU(t)?t.map(e=>s7(e)):[s7(t)];if("cosmos_signDirect"===n)return[function(e){let t=n3.from(e.signed.bodyBytes,"base64"),r=n3.from(e.signed.authInfoBytes,"base64"),n=n3.from(e.signature.signature,"base64"),i=[];i.push(n3.from([10])),i.push(oe(t.length)),i.push(t),i.push(n3.from([18])),i.push(oe(r.length)),i.push(r),i.push(n3.from([26])),i.push(oe(n.length)),i.push(n);let s=sV(n3.concat(i));return n3.from(s).toString("hex").toUpperCase()}(t)];if("string"==typeof t)return[t];let s=t[i.key];if(cU(s))return"solana_signAllTransactions"===n?s.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=n3.from(e,"base64").slice(1,65);return ns.encode(i)})(e)):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn("Error extracting tx hashes from result",e)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=ck("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(lI.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(uf)?this.client.auth.authKeys.get(uf):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:s,encoding:i===lD.link_mode?ce:a7});lp(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:ci(r)})):lf(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(lK.expired,async e=>{let{topic:t,id:r}=i_(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,ck("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,ck("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(lB.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(lB.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!cj(e,!1)){let{message:t}=ck("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=ck("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(ix(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=ck("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!cj(e,!1)){let{message:t}=ck("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=ck("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(ix(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=ck("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=ck("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(cj(e,!1)){let{message:t}=ck("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=ck("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=ck("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=ck("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(ix(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=ck("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class uN extends hD{constructor(e,t){super(e,t,"proposal",un),this.core=e,this.logger=t}}class uA extends hD{constructor(e,t){super(e,t,"session",un),this.core=e,this.logger=t}}class uS extends hD{constructor(e,t){super(e,t,"request",un,e=>e.id),this.core=e,this.logger=t}}class uT extends hD{constructor(e,t){super(e,t,"authKeys",up,()=>uf),this.core=e,this.logger=t}}class uR extends hD{constructor(e,t){super(e,t,"pairingTopics",up),this.core=e,this.logger=t}}class uI extends hD{constructor(e,t){super(e,t,"requests",up,e=>e.id),this.core=e,this.logger=t}}var uP=Object.defineProperty,uk=(e,t,r)=>((e,t,r)=>t in e?uP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class uD{constructor(e,t){this.core=e,this.logger=t,uk(this,"authKeys"),uk(this,"pairingTopics"),uk(this,"requests"),this.authKeys=new uT(this.core,this.logger),this.pairingTopics=new uR(this.core,this.logger),this.requests=new uI(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var uU=Object.defineProperty,uM=(e,t,r)=>((e,t,r)=>t in e?uU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class uL extends er{constructor(e){super(e),uM(this,"protocol","wc"),uM(this,"version",2),uM(this,"name",ui.name),uM(this,"metadata"),uM(this,"core"),uM(this,"logger"),uM(this,"events",new s.EventEmitter),uM(this,"engine"),uM(this,"session"),uM(this,"proposal"),uM(this,"pendingRequest"),uM(this,"auth"),uM(this,"signConfig"),uM(this,"on",(e,t)=>this.events.on(e,t)),uM(this,"once",(e,t)=>this.events.once(e,t)),uM(this,"off",(e,t)=>this.events.off(e,t)),uM(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),uM(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),uM(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),uM(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),uM(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||ui.name,this.metadata=function(e){var t,r;let n=ig();try{let i,s;return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),i=io(io({},n),e),s={url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons},n7(i,ie(s))}catch(t){return console.warn("Error populating app metadata",t),e||n}}(e?.metadata),this.signConfig=e?.signConfig;let t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,B.h6)((0,B.iP)({level:e?.logger||ui.logger}));this.core=e?.core||new ut(e),this.logger=(0,B.U5)(t,this.name),this.session=new uA(this.core,this.logger),this.proposal=new uN(this.core,this.logger),this.pendingRequest=new uS(this.core,this.logger),this.engine=new ux(this),this.auth=new uD(this.core,this.logger)}static async init(e){let t=new uL(e);return await t.initialize(),t}get context(){return(0,B.oI)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var uj=r(37370),uB=r.n(uj),uW=Object.defineProperty,uK=Object.defineProperties,uH=Object.getOwnPropertyDescriptors,uF=Object.getOwnPropertySymbols,uq=Object.prototype.hasOwnProperty,uX=Object.prototype.propertyIsEnumerable,uV=(e,t,r)=>t in e?uW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uz=(e,t)=>{for(var r in t||(t={}))uq.call(t,r)&&uV(e,r,t[r]);if(uF)for(var r of uF(t))uX.call(t,r)&&uV(e,r,t[r]);return e},u$=(e,t)=>uK(e,uH(t));let uG={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class uJ{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new s.EventEmitter,this.isAvailable=!1,this.registering=!1,!ld(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{let t=(0,R.h)(e),r=await (await uB()(this.url,u$(uz({},uG),{body:t}))).json();this.onPayload({data:r})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!ld(e))throw Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){let e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return t(Error("HTTP connection is missing or invalid"));e()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){let t=(0,R.h)({id:1,jsonrpc:"2.0",method:"test",params:[]});await uB()(e,u$(uz({},uG),{body:t}))}this.onOpen()}catch(t){let e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,R.j)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let r=this.parseError(t),n=ls(e,r.message||r.toString());this.events.emit("payload",n)}parseError(e,t=this.url){return c7(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}var uZ=r(81029).hp;let uY="error",uQ="wc@2:universal_provider:",u0="https://rpc.walletconnect.org/v1/",u1="generic",u2=`${u0}bundler`,u5={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function u6(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function u3(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function u4(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let u8="[object String]",u9="[object Number]",u7="[object Boolean]",pe="[object Arguments]";function pt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pr(e,t,r,n=new Map,i){let s=i?.(e,t,r,n);if(null!=s)return s;if(u6(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=pr(e[s],s,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[s,o]of(n.set(e,t),e))t.set(s,pr(o,s,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let s of(n.set(e,t),e))t.add(pr(s,void 0,r,n,i));return t}if("u">typeof uZ&&uZ.isBuffer(e))return e.subarray();if(pt(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let s=0;s<e.length;s++)t[s]=pr(e[s],s,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),pn(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),pn(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),pn(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,pn(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(u4(e)){case pe:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case u7:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case u9:case"[object Object]":case"[object RegExp]":case"[object Set]":case u8:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),pn(t,e,r,n,i),t}return e}function pn(e,t,r=e,n,i){let s=[...Object.keys(t),...u3(t)];for(let o=0;o<s.length;o++){let a=s[o],c=Object.getOwnPropertyDescriptor(e,a);(null==c||c.writable)&&(e[a]=pr(t[a],a,r,n,i))}}function pi(e){var t;return t=(t,r,n,i)=>{let s=void 0;if(null!=s)return s;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case u9:case u8:case u7:{let t=new e.constructor(e?.valueOf());return pn(t,e),t}case pe:{let t={};return pn(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},pr(e,void 0,e,new Map,t)}function ps(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===u4(e)}function po(e){return"object"==typeof e&&null!==e}function pa(){}var pc=Object.defineProperty,pl=Object.defineProperties,pd=Object.getOwnPropertyDescriptors,ph=Object.getOwnPropertySymbols,pu=Object.prototype.hasOwnProperty,pp=Object.prototype.propertyIsEnumerable,pf=(e,t,r)=>t in e?pc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pg=(e,t)=>{for(var r in t||(t={}))pu.call(t,r)&&pf(e,r,t[r]);if(ph)for(var r of ph(t))pp.call(t,r)&&pf(e,r,t[r]);return e},pm=(e,t)=>pl(e,pd(t));function py(e,t,r){var n;let i=n4(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${u0}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function pb(e){return e.includes(":")?e.split(":")[1]:e}function pv(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function pw(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var r,n;return(null==(r=t?.chains)?void 0:r.length)&&(null==(n=t?.chains)?void 0:n.length)>0}))}function pE(e={},t={}){return function(e,...t){return function(e,...t){let r=t.slice(0,-1),n=t[t.length-1],i=e;for(let e=0;e<r.length;e++)i=function e(t,r,n,i){if(u6(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(u6(e))return e;if(Array.isArray(e)||pt(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]=r[e]??void 0}let s=[...Object.keys(r),...u3(r)];for(let o=0;o<s.length;o++){let a=s[o],c=r[a],l=t[a];if(ps(c)&&(c={...c}),ps(l)&&(l={...l}),"u">typeof uZ&&uZ.isBuffer(c)&&(c=pi(c)),Array.isArray(c))if("object"==typeof l&&null!=l){let e=[],t=Reflect.ownKeys(l);for(let r=0;r<t.length;r++){let n=t[r];e[n]=l[n]}l=e}else l=[];let d=n(l,c,a,t,r,i);null!=d?t[a]=d:Array.isArray(c)||po(l)&&po(c)?t[a]=e(l,c,n,i):null==l&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(c)?t[a]=e({},c,n,i):null==l&&pt(c)?t[a]=pi(c):(void 0===l||void 0!==c)&&(t[a]=c)}return t}(i,r[e],n,new Map);return i}(e,...t,pa)}(pw(pC(e)),pw(pC(t)))}function pC(e){var t,r,n,i,s;let o={};if(!cM(e))return o;for(let[a,c]of Object.entries(e)){let e=cA(a)?[a]:c.chains,l=c.methods||[],d=c.events||[],h=c.rpcMap||{},u=cS(a);o[u]=pm(pg(pg({},o[u]),c),{chains:iA(e,null==(t=o[u])?void 0:t.chains),methods:iA(l,null==(r=o[u])?void 0:r.methods),events:iA(d,null==(n=o[u])?void 0:n.events)}),(cM(h)||cM((null==(i=o[u])?void 0:i.rpcMap)||{}))&&(o[u].rpcMap=pg(pg({},h),null==(s=o[u])?void 0:s.rpcMap))}return o}function p_(e){return e.includes(":")?e.split(":")[2]:e}function pO(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],s=n.accounts||[],o=cA(r)?[r]:n.chains?n.chains:pv(n.accounts);t[r]={chains:o,methods:e,events:i,accounts:s}}return t}function px(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let pN={},pA=e=>pN[e],pS=(e,t)=>{pN[e]=t};var pT=Object.defineProperty,pR=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,pP=Object.prototype.propertyIsEnumerable,pk=(e,t,r)=>t in e?pT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pD=(e,t)=>{for(var r in t||(t={}))pI.call(t,r)&&pk(e,r,t[r]);if(pR)for(var r of pR(t))pP.call(t,r)&&pk(e,r,t[r]);return e};let pU="eip155",pM=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],pL=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,pj=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,pB=e=>Object.keys(e).filter(e=>pM.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{});var pW=Object.defineProperty,pK=(e,t,r)=>((e,t,r)=>t in e?pW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class pH{constructor(e){pK(this,"name","polkadot"),pK(this,"client"),pK(this,"httpProviders"),pK(this,"events"),pK(this,"namespace"),pK(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=pb(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var pF=Object.defineProperty,pq=Object.defineProperties,pX=Object.getOwnPropertyDescriptors,pV=Object.getOwnPropertySymbols,pz=Object.prototype.hasOwnProperty,p$=Object.prototype.propertyIsEnumerable,pG=(e,t,r)=>t in e?pF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pJ=(e,t)=>{for(var r in t||(t={}))pz.call(t,r)&&pG(e,r,t[r]);if(pV)for(var r of pV(t))p$.call(t,r)&&pG(e,r,t[r]);return e},pZ=(e,t)=>pq(e,pX(t)),pY=(e,t,r)=>pG(e,"symbol"!=typeof t?t+"":t,r);class pQ{constructor(e){pY(this,"name","eip155"),pY(this,"client"),pY(this,"chainId"),pY(this,"namespace"),pY(this,"httpProviders"),pY(this,"events"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||py(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(pb(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n,i,s;let o,a=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],c=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!a)throw Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(e.topic),d=(null==(s=l?.sessionProperties)?void 0:s.capabilities)||{},h=`${a}${c.join(",")}`,u=d?.[h];if(u)return u;try{o=((e,t,r)=>{let{sessionProperties:n={},scopedProperties:i={}}=e,s={};if(!cM(i)&&!cM(n))return;let o=pB(n);for(let e of r){let r=pL(e);if(!r)continue;s[pj(r)]=o;let n=i?.[`${pU}:${r}`];if(n){let e=n?.[`${pU}:${r}:${t}`];s[pj(r)]=pD(pD({},s[pj(r)]),pB(e||n))}}for(let[e,t]of Object.entries(s))0===Object.keys(t).length&&delete s[e];return Object.keys(s).length>0?s:void 0})(l,a,c)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(o)return o;let p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:pZ(pJ({},l.sessionProperties||{}),{capabilities:pZ(pJ({},d||{}),{[h]:p})})})}catch(e){console.warn("Failed to update session with capabilities",e)}return p}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let s=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,s)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ln("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${u2}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var p0=Object.defineProperty,p1=(e,t,r)=>((e,t,r)=>t in e?p0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class p2{constructor(e){p1(this,"name","solana"),p1(this,"client"),p1(this,"httpProviders"),p1(this,"events"),p1(this,"namespace"),p1(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=pb(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var p5=Object.defineProperty,p6=(e,t,r)=>((e,t,r)=>t in e?p5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class p3{constructor(e){p6(this,"name","cosmos"),p6(this,"client"),p6(this,"httpProviders"),p6(this,"events"),p6(this,"namespace"),p6(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=pb(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var p4=Object.defineProperty,p8=(e,t,r)=>((e,t,r)=>t in e?p4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class p9{constructor(e){p8(this,"name","algorand"),p8(this,"client"),p8(this,"httpProviders"),p8(this,"events"),p8(this,"namespace"),p8(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||py(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new ly(new uJ(r,pA("disableProviderPing")))}}var p7=Object.defineProperty,fe=(e,t,r)=>((e,t,r)=>t in e?p7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class ft{constructor(e){fe(this,"name","cip34"),fe(this,"client"),fe(this,"httpProviders"),fe(this,"events"),fe(this,"namespace"),fe(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=pb(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var fr=Object.defineProperty,fn=(e,t,r)=>((e,t,r)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class fi{constructor(e){fn(this,"name","elrond"),fn(this,"client"),fn(this,"httpProviders"),fn(this,"events"),fn(this,"namespace"),fn(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=pb(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var fs=Object.defineProperty,fo=(e,t,r)=>((e,t,r)=>t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class fa{constructor(e){fo(this,"name","multiversx"),fo(this,"client"),fo(this,"httpProviders"),fo(this,"events"),fo(this,"namespace"),fo(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=pb(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var fc=Object.defineProperty,fl=(e,t,r)=>((e,t,r)=>t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class fd{constructor(e){fl(this,"name","near"),fl(this,"client"),fl(this,"httpProviders"),fl(this,"events"),fl(this,"namespace"),fl(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||py(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace);return typeof r>"u"?void 0:new ly(new uJ(r,pA("disableProviderPing")))}}var fh=Object.defineProperty,fu=(e,t,r)=>((e,t,r)=>t in e?fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class fp{constructor(e){fu(this,"name","tezos"),fu(this,"client"),fu(this,"httpProviders"),fu(this,"events"),fu(this,"namespace"),fu(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||py(`${this.name}:${e}`,this.namespace);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace);return typeof r>"u"?void 0:new ly(new uJ(r))}}var ff=Object.defineProperty,fg=(e,t,r)=>((e,t,r)=>t in e?ff(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);class fm{constructor(e){fg(this,"name",u1),fg(this,"client"),fg(this,"httpProviders"),fg(this,"events"),fg(this,"namespace"),fg(this,"chainId"),this.namespace=e.namespace,this.events=pA("events"),this.client=pA("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(u5.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return n4(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{r[n4(e).reference]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||py(e,this.namespace,this.client.core.projectId);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new ly(new uJ(r,pA("disableProviderPing")))}}var fy=Object.defineProperty,fb=Object.defineProperties,fv=Object.getOwnPropertyDescriptors,fw=Object.getOwnPropertySymbols,fE=Object.prototype.hasOwnProperty,fC=Object.prototype.propertyIsEnumerable,f_=(e,t,r)=>t in e?fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fO=(e,t)=>{for(var r in t||(t={}))fE.call(t,r)&&f_(e,r,t[r]);if(fw)for(var r of fw(t))fC.call(t,r)&&f_(e,r,t[r]);return e},fx=(e,t)=>fb(e,fv(t)),fN=(e,t,r)=>f_(e,"symbol"!=typeof t?t+"":t,r);class fA{constructor(e){fN(this,"client"),fN(this,"namespaces"),fN(this,"optionalNamespaces"),fN(this,"sessionProperties"),fN(this,"scopedProperties"),fN(this,"events",new(o())),fN(this,"rpcProviders",{}),fN(this,"session"),fN(this,"providerOpts"),fN(this,"logger"),fN(this,"uri"),fN(this,"disableProviderPing",!1),this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,B.h6)((0,B.iP)({level:e?.logger||uY})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new fA(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:fO({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,li(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:cD("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=pO(this.session.namespaces);this.namespaces=pE(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=pO(n.namespaces);return this.namespaces=pE(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(!cU(t))return;for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn("Failed to cleanup pending pairings",e)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await uL.init({core:this.providerOpts.core,logger:this.providerOpts.logger||uY,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>cS(e)))];pS("client",this.client),pS("events",this.events),pS("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session);if(t?.length===0)return;let r=pv(t),n=fx(fO({},pE(this.namespaces,this.optionalNamespaces)[e]),{accounts:t,chains:r});switch(e){case"eip155":this.rpcProviders[e]=new pQ({namespace:n});break;case"algorand":this.rpcProviders[e]=new p9({namespace:n});break;case"solana":this.rpcProviders[e]=new p2({namespace:n});break;case"cosmos":this.rpcProviders[e]=new p3({namespace:n});break;case"polkadot":this.rpcProviders[e]=new pH({namespace:n});break;case"cip34":this.rpcProviders[e]=new ft({namespace:n});break;case"elrond":this.rpcProviders[e]=new fi({namespace:n});break;case"multiversx":this.rpcProviders[e]=new fa({namespace:n});break;case"near":this.rpcProviders[e]=new fd({namespace:n});break;case"tezos":this.rpcProviders[e]=new fp({namespace:n});break;default:this.rpcProviders[e]=new fm({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&cU(e)&&this.events.emit("accountsChanged",e.map(p_))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=cS(e),i=px(e)!==px(t)?`${n}:${px(t)}`:e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;let{namespaces:i}=t,s=null==(n=this.client)?void 0:n.session.get(e);this.session=fx(fO({},s),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",fx(fO({},cD("USER_DISCONNECTED")),{data:e.topic})))}),this.on(u5.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[u1]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=pE(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>cS(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=cS(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(r,n);let i=this.getProvider(r).getDefaultChain();t?(this.events.emit("chainChanged",n),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e})):this.getProvider(r).setDefaultChain(n),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:r}){var n,i;try{if(t===r)return;let s=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!s)return;let o=s.filter(e=>e.includes(`${r}:`)).map(p_);if(!cU(o))return;this.events.emit("accountsChanged",o)}catch(e){this.logger.warn("Failed to emit accountsChanged on chain change",e)}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:`${e}:${t}`;this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${uQ}/${e}${n}`,t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${uQ}/${e}${r}`)}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${uQ}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(uQ)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn("Failed to cleanup storage",e)}}}},62016:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.InjectConnector=void 0;let i=r(14903),s=r(71994),o=r(55982);class a{constructor(){this.disconnectListener=[],this.providerMap=new Map,this.disconnectHandler=null,this.walletName="",this.icon="",this.walletNameKey="",this.enable=!0}setAccountChangeListener(e){(0,s.logDebug)("setAccountChangeListener: inject",e),this.accountChangeListener=e}setConnectionManager(e){this.connectionManager=e}getInjectProvider(e){if(e){for(let[t,r]of this.providerMap.entries())if(e.includes(t))return r}}send(e,t){return n(this,void 0,void 0,function*(){var r;try{if((0,s.logDebug)("InjectEngine send  > request:",(0,s.safeJsonStringify)(e)),"disconnect"===e.method){yield this.disconnect(),this.disconnectListener.forEach(e=>e()),this.disconnectListener=[],null==(r=t.onAck)||r.call(t);return}yield this.checkWalletMatch();let n=this.getInjectProvider((0,s.getNamespaceKeyByChain)(e.chainId));if(n)return void n.send(e).then(e=>{var r;(0,s.logDebug)("InjectEngine ==>> send > result:",e),null==(r=t.resolve)||r.call(t,e)}).catch(r=>{var n;let o=i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,a="";r&&(o=r.code,a=r.message),4001===o&&(o=i.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);let c={requestId:Date.now().toString(),method:e.method,error:{code:o,message:a}};(0,s.logDebug)("InjectEngine ==>> send > errorResponse:",JSON.stringify(c)),null==(n=t.resolve)||n.call(t,c)});throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED)}catch(e){return(0,s.logDebug)("InjectEngine ==>> send  ===> error:",e),Promise.reject(e)}})}checkWalletMatch(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>{var r;let n=null==(r=this.connectionManager)?void 0:r.getSessionContent("connectSession");n||t(new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED)),this.restoreconnect(n,r=>{r?e():t(new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.WALLET_NOT_SUPPORTED))})})})}clearData(){this.connectResultListener=void 0}addDisconnectListener(e){this.disconnectListener.push(e)}setOnConnectResultListener(e){this.connectResultListener=e}connectManagerDisconnect(){return n(this,arguments,void 0,function*(e=!1){})}getCurrentConnectionReady(e){return!!e}getTag(){return o.OKX_INJECT_WALLET}toJSON(){return"inject-connector"}getSupportNameSpaces(){return Array.from(this.providerMap.keys())}}t.InjectConnector=a},62023:(e,t,r)=>{"use strict";r.d(t,{eL:()=>n,sz:()=>i});let n={gwei:9,wei:18},i={ether:-9,wei:9}},62609:(e,t,r)=>{"use strict";r.d(t,{f:()=>g});var n=r(12661),i=r(98866);let s={convertEVMChainIdToCoinType(e){if(e>=0x80000000)throw Error("Invalid chainId");return(0x80000000|e)>>>0}};var o=r(58653),a=r(36964),c=r(58051),l=r(44826),d=r(93481),h=r(3824),u=r(10899),p=r(67869);let f=(0,n.BX)({suggestions:[],loading:!1}),g=(0,a.X)({state:f,subscribe:e=>(0,n.B1)(f,()=>e(f)),subscribeKey:(e,t)=>(0,i.u$)(f,e,t),async resolveName(e){try{return await l.T.lookupEnsName(e)}catch(e){throw Error(e?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await l.T.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{return f.loading=!0,f.suggestions=[],f.suggestions=(await l.T.getEnsNameSuggestions(e)).suggestions||[],f.suggestions}catch(e){throw Error(g.parseEnsApiError(e,"Error fetching name suggestions"))}finally{f.loading=!1}},async getNamesForAddress(e){try{if(!d.W.state.activeCaipNetwork)return[];let t=o.i.getEnsFromCacheForAddress(e);if(t)return t;let r=await l.T.reverseLookupEnsName({address:e});return o.i.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(e){throw Error(g.parseEnsApiError(e,"Error fetching names for address"))}},async registerName(e){let t=d.W.state.activeCaipNetwork,r=c.U.state.address,n=u.a.getAuthConnector();if(!t)throw Error("Network not found");if(!r||!n)throw Error("Address or auth connector not found");f.loading=!0;try{let n=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});p.I.pushTransactionStack({onCancel(){p.I.replace("RegisterAccountName")}});let i=await h.x.signMessage(n);f.loading=!1;let a=t.id;if(!a)throw Error("Network not found");let d=s.convertEVMChainIdToCoinType(Number(a));await l.T.registerEnsName({coinType:d,address:r,signature:i,message:n}),c.U.setProfileName(e,t.chainNamespace),o.i.updateEnsCache({address:r,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),p.I.replace("RegisterAccountNameSuccess")}catch(r){let t=g.parseEnsApiError(r,`Error registering name ${e}`);throw p.I.replace("RegisterAccountName"),Error(t)}finally{f.loading=!1}},validateName:e=>/^[a-zA-Z0-9-]{4,}$/u.test(e),parseEnsApiError:(e,t)=>e?.reasons?.[0]?.description||t})},62648:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=t.StandardEvents=void 0,t.StandardEvents="standard:events",t.Events=t.StandardEvents},63254:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},63621:(e,t,r)=>{"use strict";r.d(t,{aG:()=>m});var n=r(12661),i=r(98866),s=r(45553),o=r(28977),a=r(36964),c=r(72880),l=r(44826),d=r(93481),h=r(55480);let u={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},p={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},f={providers:o.tM,selectedProvider:null,error:null,purchaseCurrency:u,paymentCurrency:p,purchaseCurrencies:[u],paymentCurrencies:[],quotesLoading:!1},g=(0,n.BX)(f),m=(0,a.X)({state:g,subscribe:e=>(0,n.B1)(g,()=>e(g)),subscribeKey:(e,t)=>(0,i.u$)(g,e,t),setSelectedProvider(e){if(e&&"meld"===e.name){let t=d.W.state.activeChain,r=t===s.o.CHAIN.SOLANA?"SOL":"USDC",n=t?d.W.state.chains.get(t)?.accountState?.address??"":"",i=new URL(e.url);i.searchParams.append("publicKey",o.Db),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",h.H.state.projectId),g.selectedProvider={...e,url:i.toString()}}else g.selectedProvider=e},setOnrampProviders(e){Array.isArray(e)&&e.every(e=>"string"==typeof e)?g.providers=o.tM.filter(t=>e.includes(t.name)):g.providers=[]},setPurchaseCurrency(e){g.purchaseCurrency=e},setPaymentCurrency(e){g.paymentCurrency=e},setPurchaseAmount(e){m.state.purchaseAmount=e},setPaymentAmount(e){m.state.paymentAmount=e},async getAvailableCurrencies(){let e=await l.T.getOnrampOptions();g.purchaseCurrencies=e.purchaseCurrencies,g.paymentCurrencies=e.paymentCurrencies,g.paymentCurrency=e.paymentCurrencies[0]||p,g.purchaseCurrency=e.purchaseCurrencies[0]||u,await c.N.fetchCurrencyImages(e.paymentCurrencies.map(e=>e.id)),await c.N.fetchTokenImages(e.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){g.quotesLoading=!0;try{let e=await l.T.getOnrampQuote({purchaseCurrency:g.purchaseCurrency,paymentCurrency:g.paymentCurrency,amount:g.paymentAmount?.toString()||"0",network:g.purchaseCurrency?.symbol});return g.quotesLoading=!1,g.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return g.error=e.message,g.quotesLoading=!1,null}finally{g.quotesLoading=!1}},resetState(){g.selectedProvider=null,g.error=null,g.purchaseCurrency=u,g.paymentCurrency=p,g.purchaseCurrencies=[u],g.paymentCurrencies=[],g.paymentAmount=void 0,g.purchaseAmount=void 0,g.quotesLoading=!1}})},63683:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionCrypto=void 0;let i=n(r(28555)),s=r(16919);class o{constructor(e){this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return i.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,s.hexToByteArray)(e.publicKey),secretKey:(0,s.hexToByteArray)(e.secretKey)}}createNonce(){return i.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){let r=new TextEncoder().encode(e),n=this.createNonce(),o=i.default.box(r,n,(0,s.hexToByteArray)(t),this.keyPair.secretKey),a=(0,s.concatUint8Arrays)(n,o);var c=(0,s.toHexString)(a),l=new TextEncoder().encode(c);return(0,s.base64encode)(l,!1)}encryptWallet(e,t){let r=new TextEncoder().encode(e),n=this.createNonce(),o=i.default.box(r,n,(0,s.hexToByteArray)(t),this.keyPair.secretKey),a=(0,s.concatUint8Arrays)(n,o);return(0,s.base64encode)(a,!1)}decrypt(e,t){let r=(0,s.base64decode)(e,!0).toUint8Array(),[n,o]=(0,s.splitToUint8Arrays)(r,this.nonceLength),a=i.default.box.open(o,n,(0,s.hexToByteArray)(t),this.keyPair.secretKey);if(!a)throw Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${t.toString()} 
 keypair pubkey: ${(0,s.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,s.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(a)}decryptWallet(e,t){let r=(0,s.base64decode)(e,!0),n=(0,s.hexToByteArray)(r.toString()),[o,a]=(0,s.splitToUint8Arrays)(n,this.nonceLength),c=i.default.box.open(a,o,(0,s.hexToByteArray)(t),this.keyPair.secretKey);if(!c)throw Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${t.toString()} 
 keypair pubkey: ${(0,s.toHexString)(this.keyPair.publicKey)} 
 keypair secretkey: ${(0,s.toHexString)(this.keyPair.secretKey)}`);return new TextDecoder().decode(c)}stringifyKeypair(){return{publicKey:(0,s.toHexString)(this.keyPair.publicKey),secretKey:(0,s.toHexString)(this.keyPair.secretKey)}}}t.SessionCrypto=o},64663:(e,t,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){let e=n();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=n,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},65103:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});let n={validateCaipAddress(e){if(e.split(":")?.length!==3)throw Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(3!==t.length)throw Error(`Invalid CAIP-10 address: ${e}`);let[r,n,i]=t;if(!r||!n||!i)throw Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(e){let t=e.split(":");if(2!==t.length)throw Error(`Invalid CAIP-2 network id: ${e}`);let[r,n]=t;if(!r||!n)throw Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:r,chainId:n}}}},65238:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionManager=void 0;let c=r(26051),l=r(93433),d=r(12997),h=r(60573),u=r(20756),p=r(94820),f=r(25120),g=r(16919),m=r(63683),y=r(74904),b=r(14441),v=o(r(75260)),w=r(75260),E=r(87316),C=r(2195),_=r(38996);class O{constructor(e){this.events=new p.EventEmitter,this.splitManager=new _.ConnectionSplitPackages("dapp"),this.connectorEnable=!1,this.connectStorage=new f.Storage(d.OKXCONNECTOR_CACHE_KEY_DAPP+e,d.OKXCONNECTOR_CACHE_KEY_DAPP),this.tonsdkConnectStorage=new f.Storage(d.OKXCONNECTOR_TON_KEY+e,d.OKXCONNECTOR_TON_KEY),this.crypto=new m.SessionCrypto;let t=(0,C.isInTMA)();if((0,w.logDebug)("do init:",t),v.reportLog("connection manager do init"),t)try{let e=this.getCachedCryptoKeyPair();(0,w.logDebug)("use same pk:",e),this.crypto=new m.SessionCrypto(e)}catch(e){this.connectStorage.clearCache(),v.reportEvent(E.OKXReportType.LOG,"cache_fail","cache failed")}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new c.OKXWalletConnector(u.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",v.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){let e=Date.now();e==this.packageId&&(this.packageId=e+1),this.packageId=e}saveCryptoKeyPair(e){let t=(0,b.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,d.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){let e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(v.logDebug("get cached crypto key:"),v.logDebug(e),(0,b.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,g.toHexString)(e.publicKey),secretKey:(0,g.toHexString)(e.secretKey)};v.logDebug("save jwt kp");let r=(0,b.safeJsonStringify)(t);v.logDebug(r),this.connectStorage.encryptStoreMsg(r,d.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){try{let e=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_JWT_KEY);if("string"!=typeof e)return(0,y.generateKeyPair)();{v.logDebug("get cached jwt kp:"),v.logDebug(e);let t=(0,b.safeJsonParse)(e);return v.logDebug("save jwt kp"),v.logDebug(t),{publicKey:(0,g.hexToByteArray)(t.publicKey),secretKey:(0,g.hexToByteArray)(t.secretKey)}}}catch(e){return v.reportEvent(E.OKXReportType.LOG,"cache_fail","cache failed"),(0,y.generateKeyPair)()}}isWalletPKReady(){return v.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return a(this,void 0,void 0,function*(){return yield(0,y.signJWT)(e,h.OKXCONNECTOR_JWT_SIDE,h.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)})}parsePackage(e){return a(this,arguments,void 0,function*(e,t=!1){var r,n,i,s,o,c,h,u,p,f,g,m,y;if(this.events.emit(e.id,e),!t){yield this.sendACK(e.id,!0);let t=null==(r=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE))?void 0:r.content;if(t&&(null==(i=null==(n=e.params)?void 0:n.data)?void 0:i.messageId)){e.method&&e.method===l.CONNECT_METHOD_PUSH&&((0,w.logDebug)("checkExpire: update expire when get push"),this.updateExpireLimit(t));let r=this.splitManager.tryParseMessageSplitPayload(null==(o=null==(s=e.params)?void 0:s.data)?void 0:o.message);if(r){let n={topicId:null==(h=null==(c=e.params)?void 0:c.data)?void 0:h.topic,messageId:null==(p=null==(u=e.params)?void 0:u.data)?void 0:p.messageId,messageObject:r,publishedAt:null==(g=null==(f=e.params)?void 0:f.data)?void 0:g.publishedAt},i=yield this.splitManager.onReceivedPackageCheck(n);i.completeMessageIdList&&i.completeMessageIdList.forEach(e=>a(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}))}else this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),null==(y=null==(m=e.params)?void 0:m.data)?void 0:y.messageId,t)}}})}restoreConnect(e){return a(this,void 0,void 0,function*(){if(v.reportLog("connection manager restore connection"),v.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw Error("CONNECTION: invalid topic");v.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,d.OKXCONNECTOR_TOKEN_CACHE),v.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)})}getConnectInfo(){var e=(0,g.generateTopic)();return v.logDebug(`generate topic token: ${e}`),v.reportLog("connection manager generate connection info"),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return a(this,arguments,void 0,function*(e=!1){this.timeLog=new Date().getTime(),(0,w.logDebug)("ConnectTime---enter->",this.timeLog),v.reportLog("connection manager begin connect");let t=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);var r=this.currentTopic;if(v.logDebug(`generate topic token: ${r}`),e){null!=t&&(v.logDebug(`read last connect id: ${t}`),r=t.content);var n=this.connectStorage.getItem(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);n&&(this.connectedWalletPK=n.content,(0,w.logDebug)(`connectionManager connect() this.connectedWalletPK : ${this.connectedWalletPK}`)),v.reportLog("connection manager do restore connection")}if(e)try{let e=this.getCachedCryptoKeyPair();e&&(this.crypto=new m.SessionCrypto(e))}catch(e){throw v.logError("get crypto key pair from cache failed"),v.reportEvent(E.OKXReportType.LOG,"cache_fail","cache failed"),this.connectStorage.clearCache(),Error("crypto cache failed")}v.logDebug(`use crypto client id: ${this.crypto.stringifyKeypair().publicKey}`),this.connectStorage.saveContent(r,d.OKXCONNECTOR_TOKEN_CACHE);var i=yield this.makeJWT(r);return v.logDebug(`generate jwt token: ${i}`),this.connectStorage.saveContent(i,"jwt"),new Promise((t,n)=>{this.connector.onOpen(()=>a(this,void 0,void 0,function*(){v.logDebug("1. connector on open"),v.reportLog("1. connect ws open");let s=new Date().getTime();(0,w.logDebug)("ConnectTime---open->",s-this.timeLog),this.events.once(this.packageId.toString(),i=>a(this,void 0,void 0,function*(){if(i&&i.error){v.logError("failed when login"),v.reportLog("2. connect login failed"),yield this.connector.disconnect();var s=Error();s.message=i.error.message,s.name=i.error.code.toString(),n(s)}this.refreshPackageId(),this.events.once(this.packageId.toString(),i=>a(this,void 0,void 0,function*(){if(i&&i.error){v.logError("failed when subscribe"),v.reportLog("3. connect subscribe failed"),yield this.connector.disconnect();var s=Error();s.message=i.error.message,s.name=i.error.code.toString(),n(s)}this.refreshPackageId(),v.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`),v.reportLog("4. subscribe callback then send fetch");let o=new Date().getTime();(0,w.logDebug)("ConnectTime--subscribe callback->",o-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),r),v.logDebug(`5. splitmanager init: ${this.packageId}`),v.reportLog("5. splitmanager init"),yield this.splitManager.init(this.sendRaw.bind(this)),e&&(this.checkExpire(r)?((0,w.logDebug)("disconnect From topic expire"),setTimeout(()=>{this.activateDisconnect()},1e3)):((0,w.logDebug)("extends expire check"),this.updateExpireLimit(r))),t()})),v.logDebug(`3. login callback then send subscribe: ${this.packageId}`),v.reportLog("3. connect subscribe failed");let o=new Date().getTime();(0,w.logDebug)("ConnectTime---login callback->",o-this.timeLog),yield this.connector.send(()=>a(this,void 0,void 0,function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(e=>{(0,w.logDebug)("ConnectionManager connect error",e),n(e)})}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:r}})})),v.logDebug("2. login called"),v.reportLog("2. connection manager connect call login"),yield this.connector.send(()=>a(this,void 0,void 0,function*(){v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch(e=>{(0,w.logDebug)("ConnectionManager connect error",e),n(e)})}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_LOGIN,params:{token:i}}),this.connector.addPackageParse(e=>{var t;if(v.logDebug("connect: parse package"),v.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let r=null==(t=e.params.data)?void 0:t.message;if(void 0!==r&&r.length>0){r=r.replace(/'/g,'"');let e=(0,b.safeJsonParse)(r);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,v.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===l.CONNECT_METHOD_RECEIVE)})})),this.connector.connect().catch(e=>{(0,w.logDebug)("ConnectionManager connect error",e),n(e)}),this.connectorEnable=!0})})}sendSubscribe(e){return a(this,void 0,void 0,function*(){this.refreshPackageId(),yield this.connector.send(()=>a(this,void 0,void 0,function*(){}),{id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_SUB,params:{topic:e}})})}sendDisconnect(e){return a(this,void 0,void 0,function*(){return new Promise((t,r)=>a(this,void 0,void 0,function*(){if(this.refreshPackageId(),!this.connectorEnable){v.logDebug("skip disconnect before connected relay"),t();return}this.events.once(this.packageId.toString(),e=>a(this,void 0,void 0,function*(){v.logDebug("CONNECT: disconnect command send"),this.connectorEnable=!1,t()}));let r={id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_DISCONNECT,params:{message:{topic:e,ttl:u.OKXCONNECTOR_MESSAGE_DISCONNECT_TTL}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){v.logDebug("CONNECT: skip reconnect send")}),r)}))})}sendRecvDisconnect(e){return a(this,void 0,void 0,function*(){this.refreshPackageId();let t={id:this.packageId.toString(),jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECV_DISCONNECT,params:{topic:e}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)})}disconnect(){return a(this,arguments,void 0,function*(e=!1){try{yield this.sendDisconnect(this.currentTopic)}catch(e){v.logError("send disconnect command failed",e)}yield this.connector.disconnect(),v.reportLog("connect disconnect"),this.connectStorage.clearCache(d.OKXCONNECTOR_TOKEN_CACHE),e||(this.connectStorage.clearCache(d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.connectedWalletPK="",(0,w.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${this.connectedWalletPK}`))})}updateProtocolVersion(e,t){this.splitManager.updateTopicSenderVersion(e,t)}addListener(e,t,r){this.connector.addListener((0,b.safeJsonStringify)(e),e=>{if(e=e.replace(/'/g,'"'),v.logDebug(`addListener ===> ${e}`),void 0!==e&&e.length>0){let n;var t=(0,b.safeJsonParse)(e),r=t.message;return r.trimStart().startsWith("{")?n=r:(t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,d.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),v.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),v.logDebug(`this.cryptoKey  addListener   ${(0,g.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair())),n=this.crypto.decrypt(r,this.connectedWalletPK)),v.logDebug(`addListener ===> ${n}`),n}},t,r,e=>new Promise((t,r)=>a(this,void 0,void 0,function*(){let r=this.splitManager.tryParseMessageSplitPayload(e.message);if(r){let n={topicId:e.topic,messageId:null==e?void 0:e.messageId,messageObject:r,publishedAt:null==e?void 0:e.publishedAt};t((yield this.splitManager.onReceivedPackageCheck(n)))}else t({isSplitPackage:!1})})))}sendRaw(e){return a(this,void 0,void 0,function*(){v.logDebug(`message send =====> ${e}`),v.reportLog("connect send raw msg"),v.logDebug(`message send =====encrypt message.length>>>> ${e.length}`);let t=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);v.logDebug(`message send =====topic>>>> ${null==t?void 0:t.content}`),this.refreshPackageId();let r={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:u.CONNECT_JSONRPC_VER,params:{message:{topic:null==t?void 0:t.content,message:e,ttl:u.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),e=>a(this,void 0,void 0,function*(){e&&e.error?v.logError(`@${new Date().toUTCString()} >>> failed when send msg`):e&&!e.error&&v.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),r),this.packageId})}sendEncryptedMsg(e,t){return a(this,arguments,void 0,function*(e,t,r=u.OKXCONNECTOR_MESSAGE_TTL){this.refreshPackageId();let n={id:this.packageId.toString(),method:l.CONNECT_METHOD_PUBLISH,jsonrpc:u.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:t,ttl:r}}};this.events.once(this.packageId.toString(),e=>a(this,void 0,void 0,function*(){e&&e.error?v.logError(`@${new Date().toUTCString()} >>> failed when send msg`):e&&!e.error&&v.logDebug(`CONNECTION @[${new Date().toUTCString()}] >>> send msg with id ${this.packageId} successed`)})),yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}send(e){return a(this,arguments,void 0,function*(e,t=u.OKXCONNECTOR_MESSAGE_TTL){if(v.logDebug(`message send =====> ${e}`),v.reportLog("connect send msg"),!this.isWalletPKReady())throw Error("connection not finish");let r=this.crypto.encrypt(e,this.connectedWalletPK);v.logDebug(`message send =====encrypt message.length>>>> ${r.length}`),v.reportEvent(E.OKXReportType.LOG,"msg_size",r.length.toString());let n=this.connectStorage.getItem(d.OKXCONNECTOR_TOKEN_CACHE);return v.logDebug(`message send =====topic>>>> ${null==n?void 0:n.content}`),yield this.splitManager.sendSplitPackages(null==n?void 0:n.content,r,this.sendEncryptedMsg.bind(this),this.sendRaw.bind(this)),this.packageId})}sendACK(e,t){return a(this,arguments,void 0,function*(e,t,r){if(!0===t){let t={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,result:!0};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)}else if(r){let t={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,error:{code:r.code,message:r.message}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),t)}})}sendReceive(e,t,r){return a(this,void 0,void 0,function*(){let n={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:r}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}sendFetchAndConsumeMessages(e,t){return a(this,void 0,void 0,function*(){this.events.once(e,e=>a(this,void 0,void 0,function*(){var r,n;if(e.result){var i=e.result.hasMore,s=e.result.data;let r=e.result.disconnectedTopics;if(r)try{for(let e=0;e<r.length;e++){let t=r[e];if(t.topic){(0,w.logDebug)("send receive disconnect:",t.topic),yield this.sendRecvDisconnect(t.topic);let e=(0,b.safeJsonStringify)({requestId:t.publishedAt.toString(),method:"disconnect"}),r={messageId:t.publishedAt.toString(),message:(0,b.safeJsonStringify)({message:e}),topic:t.topic,publishedAt:t.publishedAt};yield this.connector.getMsgPayloadFromHistory(r)}}}catch(e){v.logError("disconnect topic fails",e)}if(s)for(let e=0;e<s.length;e++){let r=s[e];if(r&&r.topic==t){let e=r.messageId;v.reportLog("5. get fetch result"),this.splitManager.tryParseMessageSplitPayload(r.message)?(yield this.connector.getMsgPayloadFromHistory(r),v.logDebug("skip receive")):(yield this.connector.getMsgPayloadFromHistory(r),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t))}}i&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else v.logDebug(`CONNECT: get error rsp ${null==(r=e.error)?void 0:r.code} : ${null==(n=e.error)?void 0:n.message}`)})),v.logDebug("5. send fetch more"),v.reportLog("5. send fetch more");let r=new Date().getTime();(0,w.logDebug)("ConnectTime---5->",r-this.timeLog);let n={id:e,jsonrpc:u.CONNECT_JSONRPC_VER,method:l.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send(()=>a(this,void 0,void 0,function*(){return v.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}),n)})}cleanCache(){v.reportLog("connection cache clean called"),this.connectStorage.clearCache()}saveSessionContent(e,t){t||this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let r=(0,b.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(r,d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){try{let t=this.connectStorage.getAndDecrypt(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,b.safeJsonParse)(t)}catch(t){this.connectStorage.clearCache(d.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}}getCurrentConnectionReady(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){v.logError("check connection ready failed")}return this.isWalletPKReady()&&e}getCryptoKeyEnable(){let e=!1;try{this.getCachedCryptoKeyPair()&&(e=!0)}catch(e){v.logError("check connection ready failed")}return e}checkExpire(e){let t=!1;if(0==e.length)return(0,w.logDebug)("checkExpire: invalid topic"),t;let r=this.getSessionContent(d.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE);return r&&r.topic?r.topic==e?Date.now()>r.timestamp&&((0,w.logDebug)("checkExpire: connection is Expired"),t=!0):((0,w.logDebug)("checkExpire: not same connection"),t=!1):((0,w.logDebug)("checkExpire: not topic records"),this.updateExpireLimit(e),t=!1),t}updateExpireLimit(e){(0,w.logDebug)(`update expire limit for topic: ${e}`);let t={topic:e,timestamp:Date.now()+u.OKXCONNECTOR_SESSION_LIVE_TTL};this.saveSessionContent(d.OKXCONNECTOR_STORAGE_TOPIC_EXPIRE_CACHE,t)}activateDisconnect(){return a(this,void 0,void 0,function*(){let e=(0,b.safeJsonStringify)({requestId:"",method:"disconnect"}),t={messageId:"",message:(0,b.safeJsonStringify)({message:e}),topic:this.currentTopic,publishedAt:0};yield this.connector.getMsgPayloadFromHistory(t)})}}t.ConnectionManager=O},65374:(e,t,r)=>{"use strict";r.d(t,{P:()=>c});var n=r(12661),i=r(98866),s=r(12319);let o=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),a=(0,n.BX)({...o}),c={state:a,subscribeKey:(e,t)=>(0,i.u$)(a,e,t),showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=s.w.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){a.message=o.message,a.variant=o.variant,a.svg=o.svg,a.open=o.open,a.autoClose=o.autoClose},_showMessage({message:e,svg:t,variant:r="success",autoClose:n=o.autoClose}){a.open?(a.open=!1,setTimeout(()=>{a.message=e,a.variant=r,a.svg=t,a.open=!0,a.autoClose=n},150)):(a.message=e,a.variant=r,a.svg=t,a.open=!0,a.autoClose=n)}}},65727:(e,t,r)=>{"use strict";let n=r(88759);e.exports=s;let i=function(){function e(e){return void 0!==e&&e}try{if("undefined"!=typeof globalThis)return globalThis;return Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function s(e){var t,r;(e=e||{}).browser=e.browser||{};let n=e.browser.transmit;if(n&&"function"!=typeof n.send)throw Error("pino: transmit option must have a send function");let d=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);let h=e.serializers||{},g=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(h)),m=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(m=!1),"function"==typeof d&&(d.error=d.fatal=d.warn=d.info=d.debug=d.trace=d),!1===e.enabled&&(e.level="silent");let y=e.level||"info",b=Object.create(d);b.log||(b.log=u),Object.defineProperty(b,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(b,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,o(v,b,"error","log"),o(v,b,"fatal","error"),o(v,b,"warn","error"),o(v,b,"info","log"),o(v,b,"debug","log"),o(v,b,"trace","log")}});let v={transmit:n,serialize:g,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?p:f};return b.levels=s.levels,b.level=y,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=u,b.serializers=h,b._serialize=g,b._stdErrSerialize=m,b.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},g&&t.serializers&&(r.serializers=t.serializers);let i=r.serializers;if(g&&i){var s=Object.assign({},h,i),o=!0===e.browser.serialize?Object.keys(s):g;delete t.serializers,a([t],o,s,this._stdErrSerialize)}function d(e){this._childLevel=(0|e._childLevel)+1,this.error=c(e,t,"error"),this.fatal=c(e,t,"fatal"),this.warn=c(e,t,"warn"),this.info=c(e,t,"info"),this.debug=c(e,t,"debug"),this.trace=c(e,t,"trace"),s&&(this.serializers=s,this._serialize=o),n&&(this._logEvent=l([].concat(e._logEvent.bindings,t)))}return d.prototype=this,new d(this)},n&&(b._logEvent=l()),b}function o(e,t,r,o){let c=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?u:c[r]?c[r]:i[r]||i[o]||u,function(e,t,r){if(e.transmit||t[r]!==u){var o;t[r]=(o=t[r],function(){let c=e.timestamp(),d=Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var u=0;u<d.length;u++)d[u]=arguments[u];if(e.serialize&&!e.asObject&&a(d,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?o.call(h,function(e,t,r,i){e._serialize&&a(r,e._serialize,e.serializers,e._stdErrSerialize);let o=r.slice(),c=o[0],l={};i&&(l.time=i),l.level=s.levels.values[t];let d=(0|e._childLevel)+1;if(d<1&&(d=1),null!==c&&"object"==typeof c){for(;d--&&"object"==typeof o[0];)Object.assign(l,o.shift());c=o.length?n(o.shift(),o):void 0}else"string"==typeof c&&(c=n(o.shift(),o));return void 0!==c&&(l.msg=c),l}(this,r,d,c)):o.apply(h,d),e.transmit){let n=e.transmit.level||t.level,i=s.levels.values[n],o=s.levels.values[r];if(o<i)return;!function(e,t,r){let n=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,c=t.val,d=e._logEvent.bindings;a(r,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=r.filter(function(e){return -1===d.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,n(s,e._logEvent,c),e._logEvent=l(d)}(this,{ts:c,methodLevel:r,methodValue:o,transmitLevel:n,transmitValue:s.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},d)}})}}(e,t,r)}function a(e,t,r,n){for(let i in e)if(n&&e[i]instanceof Error)e[i]=s.stdSerializers.err(e[i]);else if("object"==typeof e[i]&&!Array.isArray(e[i]))for(let n in e[i])t&&t.indexOf(n)>-1&&n in r&&(e[i][n]=r[n](e[i][n]))}function c(e,t,r){return function(){let n=Array(1+arguments.length);n[0]=t;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return e[r].apply(this,n)}}function l(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function d(){return{}}function h(e){return e}function u(){}function p(){return!1}function f(){return Date.now()}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers={mapHttpRequest:d,mapHttpResponse:d,wrapRequestSerializer:h,wrapResponseSerializer:h,wrapErrorSerializer:h,req:d,res:d,err:function(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}},s.stdTimeFunctions=Object.assign({},{nullTime:p,epochTime:f,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},65784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IJSONRpcProvider=t.IJSONRpcConnection=void 0;class r{}t.IJSONRpcConnection=r;class n{constructor(e){}}t.IJSONRpcProvider=n},66575:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var n=r(98502);let i={attribute:!0,type:String,converter:n.W3,reflect:!1,hasChanged:n.Ec};function s(e){return(t,r)=>"object"==typeof r?((e=i,t,r)=>{let{kind:n,metadata:s}=r,o=globalThis.litPropertyMetadata.get(s);if(void 0===o&&globalThis.litPropertyMetadata.set(s,o=new Map),"setter"===n&&((e=Object.create(e)).wrapped=!0),o.set(r.name,e),"accessor"===n){let{name:n}=r;return{set(r){let i=t.get.call(this);t.set.call(this,r),this.requestUpdate(n,i,e)},init(t){return void 0!==t&&this.C(n,void 0,e,t),t}}}if("setter"===n){let{name:n}=r;return function(r){let i=this[n];t.call(this,r),this.requestUpdate(n,i,e)}}throw Error("Unsupported decorator location: "+n)})(e,t,r):((e,t,r)=>{let n=t.hasOwnProperty(r);return t.constructor.createProperty(r,e),n?Object.getOwnPropertyDescriptor(t,r):void 0})(e,t,r)}},66782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRpcUrl=function(e,t,r){var n;let s=i(e);return(null==(n=t.rpcMap)?void 0:n[s.reference])||""},t.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},t.fromAccountToAddress=function(e){if(!e)return"";try{let t=e.split(":").slice(2),r=t.length>0?t.join(":"):"";return(0,n.logDebug)("fromAccountToAddress address and account:",r,e),r}catch(t){return(0,n.logError)("fromAccountToAddress error:",e),""}},t.convertChainIdToNumber=function(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)},t.parseChainId=i,t.mergeArrays=function(e=[],t=[]){return[...new Set([...e,...t])]},t.syncAddressAvailable=function(e){return!(!e||"OKX Wallet"!==e.appName||(0,n.versionCompare)("6.97.0",e.appVersion)>0)&&s()},t.syncAddressHostAvailable=s;let n=r(79864);function i(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function s(){try{return!!window.okxGlobal}catch(e){return!1}}},66969:(e,t,r)=>{"use strict";r.d(t,{Fl:()=>s,NV:()=>o,ii:()=>i});var n=r(13933);class i extends n.C{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class s extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class o extends n.C{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},67243:(e,t,r)=>{"use strict";r.d(t,{U:()=>y}),r(61774);var n=r(45553),i=r(73537),s=r(58051),o=r(93481),a=r(3824),c=r(10899),l=r(70417),d=r(81701),h=r(55480),u=r(67869),p=r(65374),f=r(71305),g=r(12319);let m=null,y={getSIWX:()=>h.H.state.siwx,async initializeIfEnabled(e=o.W.getActiveCaipAddress()){let t=h.H.state.siwx;if(!(t&&e))return;let[r,n,i]=e.split(":");if(o.W.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(h.H.state.remoteFeatures?.emailCapture){let e=o.W.getAccountData(r)?.user;await d.W.open({view:"DataCapture",data:{email:e?.email??void 0}});return}if(m&&await m,(await t.getSessions(`${r}:${n}`,i)).length)return;await d.W.open({view:"SIWXSignMessage"})}catch(e){console.error("SIWXUtil:initializeIfEnabled",e),l.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await a.x._getClient()?.disconnect().catch(console.error),u.I.reset("Connect"),p.P.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){let e=h.H.state.siwx,t=g.w.getPlainAddress(o.W.getActiveCaipAddress()),r=(0,f.kg)(),i=a.x._getClient();if(!e)throw Error("SIWX is not enabled");if(!t)throw Error("No ActiveCaipAddress found");if(!r)throw Error("No ActiveCaipNetwork or client found");if(!i)throw Error("No ConnectionController client found");try{let s=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),a=s.toString();c.a.getConnectorId(r.chainNamespace)===n.o.CONNECTOR_ID.AUTH&&u.I.pushTransactionStack({});let h=await i.signMessage(a);await e.addSession({data:s,message:a,signature:h}),o.W.setLastConnectedSIWECaipNetwork(r),d.W.close(),l.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(t){let e=this.getSIWXEventProperties();d.W.state.open&&"ApproveTransaction"!==u.I.state.view||await d.W.open({view:"SIWXSignMessage"}),p.P.showError("Error signing message"),l.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:e}),console.error("SWIXUtil:requestSignMessage",t)}},async cancelSignMessage(){try{let e=this.getSIWX();if(e?.getRequired?.()){let t=o.W.getLastConnectedSIWECaipNetwork();if(t){let r=await e?.getSessions(t?.caipNetworkId,g.w.getPlainAddress(o.W.getActiveCaipAddress())||"");r&&r.length>0?await o.W.switchActiveNetwork(t):await a.x.disconnect()}else await a.x.disconnect()}else d.W.close();d.W.close(),l.E.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let e=this.getSIWX(),t=o.W.getAllRequestedCaipNetworks(),r=[];return await Promise.all(t.map(async t=>{let n=await e?.getSessions(t.caipNetworkId,g.w.getPlainAddress(o.W.getActiveCaipAddress())||"");n&&r.push(...n)})),r},async getSessions(e){let t=h.H.state.siwx,r=e?.address;if(!r){let e=o.W.getActiveCaipAddress();r=g.w.getPlainAddress(e)}let n=e?.caipNetworkId;if(!n){let e=o.W.getActiveCaipNetwork();n=e?.caipNetworkId}return t&&r&&n?t.getSessions(n,r):[]},async isSIWXCloseDisabled(){let e=this.getSIWX();if(e){let t="ApproveTransaction"===u.I.state.view,r="SIWXSignMessage"===u.I.state.view;if(t||r)return e.getRequired?.()&&0===(await this.getSessions()).length}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:r,preferredAccountType:i,chainNamespace:s}){let a=y.getSIWX(),c=(0,f.kg)();if(!a||!s.includes(n.o.CHAIN.EVM)||h.H.state.remoteFeatures?.emailCapture){let n=await e.connect({chainId:t,socialUri:r,preferredAccountType:i});return{address:n.address,chainId:n.chainId,accounts:n.accounts}}let l=`${s}:${t}`,d=await a.createMessage({chainId:l,accountAddress:"<<AccountAddress>>"}),u={accountAddress:d.accountAddress,chainId:d.chainId,domain:d.domain,uri:d.uri,version:d.version,nonce:d.nonce,notBefore:d.notBefore,statement:d.statement,resources:d.resources,requestId:d.requestId,issuedAt:d.issuedAt,expirationTime:d.expirationTime,serializedMessage:d.toString()},p=await e.connect({chainId:t,socialUri:r,siwxMessage:u,preferredAccountType:i});if(u.accountAddress=p.address,u.serializedMessage=p.message||"",p.signature&&p.message){let e=y.addEmbeddedWalletSession(u,p.message,p.signature);await e}return o.W.setLastConnectedSIWECaipNetwork(c),{address:p.address,chainId:p.chainId,accounts:p.accounts}},async addEmbeddedWalletSession(e,t,r){if(m)return m;let n=y.getSIWX();return n?m=n.addSession({data:e,message:t,signature:r}).finally(()=>{m=null}):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:r}){let n=y.getSIWX(),i=(0,f.kg)(),a=new Set(t.map(e=>e.split(":")[0]));if(!n||1!==a.size||!a.has("eip155"))return!1;let c=await n.createMessage({chainId:(0,f.kg)()?.caipNetworkId||"",accountAddress:""}),d=await e.authenticate({nonce:c.nonce,domain:c.domain,uri:c.uri,exp:c.expirationTime,iat:c.issuedAt,nbf:c.notBefore,requestId:c.requestId,version:c.version,resources:c.resources,statement:c.statement,chainId:c.chainId,methods:r,chains:[c.chainId,...t.filter(e=>e!==c.chainId)]});if(p.P.showLoading("Authenticating...",{autoClose:!1}),s.U.setConnectedWalletInfo({...d.session.peer.metadata,name:d.session.peer.metadata.name,icon:d.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(a)[0]),d?.auths?.length){let t=d.auths.map(t=>{let r=e.client.formatAuthMessage({request:t.p,iss:t.p.iss});return{data:{...t.p,accountAddress:t.p.iss.split(":").slice(-1).join(""),chainId:t.p.iss.split(":").slice(2,4).join(":"),uri:t.p.aud,version:t.p.version||c.version,expirationTime:t.p.exp,issuedAt:t.p.iat,notBefore:t.p.nbf},message:r,signature:t.s.s,cacao:t}});try{await n.setSessions(t),i&&o.W.setLastConnectedSIWECaipNetwork(i),l.E.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:y.getSIWXEventProperties()})}catch(t){throw console.error("SIWX:universalProviderAuth - failed to set sessions",t),l.E.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:y.getSIWXEventProperties()}),await e.disconnect().catch(console.error),t}finally{p.P.hide()}}return!0},getSIWXEventProperties(){let e=o.W.state.activeChain;if(!e)throw Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:o.W.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:(0,f.lj)(e)===i.Vl.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){let e=this.getSIWX();e&&await e.setSessions([])}}},67319:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosStandardProvider=void 0;let i=r(14903),s=r(71994),o=r(90050);class a{constructor(e){this.wallet=e,this.mainNetWorkInfo={chainId:"1",name:o.AptosNetwork.MAINNET}}getVersion(){return this.wallet.version}supportChains(e){return 1===e.length&&e[0]===i.APTOS_CHAINS.MAINNET}send(e){return n(this,void 0,void 0,function*(){var t,r,n,a,c;try{let l;try{(0,s.logDebug)("AptosStandardProvider send request:",JSON.stringify(e))}catch(e){}yield this.confirmNetwrok(e.chainId);let d=e.method;if(e.injectParams&&this.wallet){let s=e.injectParams;switch(d){case"aptos_signTransaction":let h;if(this.wallet.features["aptos:signTransaction"])if("rawTransaction"in s){let e=yield this.wallet.features["aptos:signTransaction"].signTransaction(s);h=(0,o.getArgs)(e)}else if("1.1"===this.wallet.features["aptos:signTransaction"].version){let e={payload:s.data,expirationTimestamp:null==(t=s.options)?void 0:t.expirationTimestamp,expirationSecondsFromNow:null==(r=s.options)?void 0:r.expirationSecondsFromNow,gasUnitPrice:null==(n=null==s?void 0:s.options)?void 0:n.gasUnitPrice,maxGasAmount:null==(a=null==s?void 0:s.options)?void 0:a.maxGasAmount,sequenceNumber:null==(c=null==s?void 0:s.options)?void 0:c.accountSequenceNumber,sender:s.sender};yield this.wallet.features["aptos:signTransaction"].signTransaction(e),h=(0,o.getArgs)(l)}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);l={method:"aptos_signTransaction",injectResult:h};break;case"aptos_signMessage":let u;if(this.wallet.features["aptos:signMessage"]){let e=yield this.wallet.features["aptos:signMessage"].signMessage(s);u=(0,o.getArgs)(e)}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);l={method:"aptos_signMessage",injectResult:u};break;case"aptos_signAndSubmitTransaction":let p;if(this.wallet.features["aptos:signAndSubmitTransaction"])if("1.0.0"==this.wallet.features["aptos:signAndSubmitTransaction"].version){if("standardV1Transaction"in s){let e=yield this.wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction(s.standardV1Transaction);p=(0,o.getArgs)(e)}}else if("1.1.0"==this.wallet.features["aptos:signAndSubmitTransaction"].version){if("standardV11Transaction"in s){e.params;let t=yield this.wallet.features["aptos:signAndSubmitTransaction"].signAndSubmitTransaction(s.standardV11Transaction);p=(0,o.getArgs)(t)}}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);l={method:"aptos_signAndSubmitTransaction",result:p.hash.toString()}}}return l}catch(e){throw(0,s.logDebug)("aptosProvider send error:",e),e}})}removeListener(){this.previousAccountChangedListener=void 0}addAccountChangedListener(e){this.accountChangedListener=e}setAccountChangedListener(){if(this.previousAccountChangedListener!=this.accountChangedListener&&this.wallet.features["aptos:onAccountChange"]&&this.accountChangedListener)try{this.wallet.features["aptos:onAccountChange"].onAccountChange(e=>{var t,r,n,i;try{let s=null==(r=null==(t=(0,o.getArgs)(e))?void 0:t.address)?void 0:r.toString();this.address!=s&&(this.accountChangedListener(null==(i=null==(n=(0,o.getArgs)(e))?void 0:n.address)?void 0:i.toString()),this.address=s)}catch(e){this.address&&(this.accountChangedListener(void 0),this.address=void 0)}}),this.previousAccountChangedListener=this.accountChangedListener}catch(e){(0,s.logDebug)(`aptosStandardProvider addAccountChangedListener: error ${e.toString()}`)}}connect(){return n(this,void 0,void 0,function*(){return this.wallet.features["aptos:connect"].connect()})}getAccount(e){return n(this,void 0,void 0,function*(){let e=(0,o.getArgs)((yield this.connect())),t=e.address;"object"==typeof t&&t.toString&&(t=t.toString()),t instanceof Uint8Array&&(t=btoa(String.fromCharCode(...t=this.normalizeUint8Array(t))));let r=e.publicKey.toString();this.address!==t&&(this.setAccountChangedListener(),this.address=t);let n={};return n[i.APTOS_CHAINS.MAINNET]={publicKey:r},{namespace:i.NameSpaceKeyAptos,addresses:[`${i.APTOS_CHAINS.MAINNET}:${t}`],methods:[],extra:n}})}normalizeUint8Array(e){return 33===e.length&&0===e[0]?e.slice(1):e}disconnect(){return n(this,void 0,void 0,function*(){if(this.wallet.features["aptos:disconnect"])return this.wallet.features["aptos:disconnect"].disconnect()})}confirmNetwrok(e){return n(this,void 0,void 0,function*(){if(e!==s.chainName2IdMap.get(i.APTOS_CHAINS.MAINNET))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED);if(this.wallet.features["aptos:network"]){let e=yield this.wallet.features["aptos:network"].network();if(1==e.chainId&&e.name.toLowerCase()==o.AptosNetwork.MAINNET)return Promise.resolve();yield this.changeMainNetwork()}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}changeMainNetwork(){return n(this,void 0,void 0,function*(){if(this.wallet.features["aptos:changeNetwork"]){let e=yield this.wallet.features["aptos:changeNetwork"].changeNetwork(this.mainNetWorkInfo);if((0,o.getArgs)(e).success)return Promise.resolve()}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)})}}t.AptosStandardProvider=a},67550:(e,t,r)=>{"use strict";r.d(t,{u:()=>s});var n=r(98722);let i=new Map;function s({fn:e,id:t,shouldSplitBatch:r,wait:s=0,sort:o}){let a=async()=>{let t=l();c();let r=t.map(({args:e})=>e);0!==r.length&&e(r).then(e=>{o&&Array.isArray(e)&&e.sort(o);for(let r=0;r<t.length;r++){let{resolve:n}=t[r];n?.([e[r],e])}}).catch(e=>{for(let r=0;r<t.length;r++){let{reject:n}=t[r];n?.(e)}})},c=()=>i.delete(t),l=()=>i.get(t)||[],d=e=>i.set(t,[...l(),e]);return{flush:c,async schedule(e){let{promise:t,resolve:i,reject:o}=(0,n.Y)();return(r?.([...l().map(({args:e})=>e),e])&&a(),l().length>0)?d({args:e,resolve:i,reject:o}):(d({args:e,resolve:i,reject:o}),setTimeout(a,s)),t}}}},67626:function(e,t,r){var n;n=r(16611),r(38530),function(){var e=n.lib.Hasher,t=n.x64,r=t.Word,i=t.WordArray,s=n.algo;function o(){return r.create.apply(r,arguments)}for(var a=[o(0x428a2f98,0xd728ae22),o(0x71374491,0x23ef65cd),o(0xb5c0fbcf,0xec4d3b2f),o(0xe9b5dba5,0x8189dbbc),o(0x3956c25b,0xf348b538),o(0x59f111f1,0xb605d019),o(0x923f82a4,0xaf194f9b),o(0xab1c5ed5,0xda6d8118),o(0xd807aa98,0xa3030242),o(0x12835b01,0x45706fbe),o(0x243185be,0x4ee4b28c),o(0x550c7dc3,0xd5ffb4e2),o(0x72be5d74,0xf27b896f),o(0x80deb1fe,0x3b1696b1),o(0x9bdc06a7,0x25c71235),o(0xc19bf174,0xcf692694),o(0xe49b69c1,0x9ef14ad2),o(0xefbe4786,0x384f25e3),o(0xfc19dc6,0x8b8cd5b5),o(0x240ca1cc,0x77ac9c65),o(0x2de92c6f,0x592b0275),o(0x4a7484aa,0x6ea6e483),o(0x5cb0a9dc,0xbd41fbd4),o(0x76f988da,0x831153b5),o(0x983e5152,0xee66dfab),o(0xa831c66d,0x2db43210),o(0xb00327c8,0x98fb213f),o(0xbf597fc7,0xbeef0ee4),o(0xc6e00bf3,0x3da88fc2),o(0xd5a79147,0x930aa725),o(0x6ca6351,0xe003826f),o(0x14292967,0xa0e6e70),o(0x27b70a85,0x46d22ffc),o(0x2e1b2138,0x5c26c926),o(0x4d2c6dfc,0x5ac42aed),o(0x53380d13,0x9d95b3df),o(0x650a7354,0x8baf63de),o(0x766a0abb,0x3c77b2a8),o(0x81c2c92e,0x47edaee6),o(0x92722c85,0x1482353b),o(0xa2bfe8a1,0x4cf10364),o(0xa81a664b,0xbc423001),o(0xc24b8b70,0xd0f89791),o(0xc76c51a3,0x654be30),o(0xd192e819,0xd6ef5218),o(0xd6990624,0x5565a910),o(0xf40e3585,0x5771202a),o(0x106aa070,0x32bbd1b8),o(0x19a4c116,0xb8d2d0c8),o(0x1e376c08,0x5141ab53),o(0x2748774c,0xdf8eeb99),o(0x34b0bcb5,0xe19b48a8),o(0x391c0cb3,0xc5c95a63),o(0x4ed8aa4a,0xe3418acb),o(0x5b9cca4f,0x7763e373),o(0x682e6ff3,0xd6b2b8a3),o(0x748f82ee,0x5defb2fc),o(0x78a5636f,0x43172f60),o(0x84c87814,0xa1f0ab72),o(0x8cc70208,0x1a6439ec),o(0x90befffa,0x23631e28),o(0xa4506ceb,0xde82bde9),o(0xbef9a3f7,0xb2c67915),o(0xc67178f2,0xe372532b),o(0xca273ece,0xea26619c),o(0xd186b8c7,0x21c0c207),o(0xeada7dd6,0xcde0eb1e),o(0xf57d4f7f,0xee6ed178),o(0x6f067aa,0x72176fba),o(0xa637dc5,0xa2c898a6),o(0x113f9804,0xbef90dae),o(0x1b710b35,0x131c471b),o(0x28db77f5,0x23047d84),o(0x32caab7b,0x40c72493),o(0x3c9ebe0a,0x15c9bebc),o(0x431d67c4,0x9c100d4c),o(0x4cc5d4be,0xcb3e42b6),o(0x597f299c,0xfc657e2a),o(0x5fcb6fab,0x3ad6faec),o(0x6c44198c,0x4a475817)],c=[],l=0;l<80;l++)c[l]=o();var d=s.SHA512=e.extend({_doReset:function(){this._hash=new i.init([new r.init(0x6a09e667,0xf3bcc908),new r.init(0xbb67ae85,0x84caa73b),new r.init(0x3c6ef372,0xfe94f82b),new r.init(0xa54ff53a,0x5f1d36f1),new r.init(0x510e527f,0xade682d1),new r.init(0x9b05688c,0x2b3e6c1f),new r.init(0x1f83d9ab,0xfb41bd6b),new r.init(0x5be0cd19,0x137e2179)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],l=r[4],d=r[5],h=r[6],u=r[7],p=n.high,f=n.low,g=i.high,m=i.low,y=s.high,b=s.low,v=o.high,w=o.low,E=l.high,C=l.low,_=d.high,O=d.low,x=h.high,N=h.low,A=u.high,S=u.low,T=p,R=f,I=g,P=m,k=y,D=b,U=v,M=w,L=E,j=C,B=_,W=O,K=x,H=N,F=A,q=S,X=0;X<80;X++){var V,z,$=c[X];if(X<16)z=$.high=0|e[t+2*X],V=$.low=0|e[t+2*X+1];else{var G=c[X-15],J=G.high,Z=G.low,Y=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),ee=c[X-2],et=ee.high,er=ee.low,en=(et>>>19|er<<13)^(et<<3|er>>>29)^et>>>6,ei=(er>>>19|et<<13)^(er<<3|et>>>29)^(er>>>6|et<<26),es=c[X-7],eo=es.high,ea=es.low,ec=c[X-16],el=ec.high,ed=ec.low;z=Y+eo+ +((V=Q+ea)>>>0<Q>>>0),V+=ei,z=z+en+ +(V>>>0<ei>>>0),V+=ed,$.high=z=z+el+ +(V>>>0<ed>>>0),$.low=V}var eh=L&B^~L&K,eu=j&W^~j&H,ep=T&I^T&k^I&k,ef=R&P^R&D^P&D,eg=(T>>>28|R<<4)^(T<<30|R>>>2)^(T<<25|R>>>7),em=(R>>>28|T<<4)^(R<<30|T>>>2)^(R<<25|T>>>7),ey=(L>>>14|j<<18)^(L>>>18|j<<14)^(L<<23|j>>>9),eb=(j>>>14|L<<18)^(j>>>18|L<<14)^(j<<23|L>>>9),ev=a[X],ew=ev.high,eE=ev.low,eC=q+eb,e_=F+ey+ +(eC>>>0<q>>>0),eC=eC+eu,e_=e_+eh+ +(eC>>>0<eu>>>0),eC=eC+eE,e_=e_+ew+ +(eC>>>0<eE>>>0),eC=eC+V,e_=e_+z+ +(eC>>>0<V>>>0),eO=em+ef,ex=eg+ep+ +(eO>>>0<em>>>0);F=K,q=H,K=B,H=W,B=L,W=j,L=U+e_+ +((j=M+eC|0)>>>0<M>>>0)|0,U=k,M=D,k=I,D=P,I=T,P=R,T=e_+ex+ +((R=eC+eO|0)>>>0<eC>>>0)|0}f=n.low=f+R,n.high=p+T+ +(f>>>0<R>>>0),m=i.low=m+P,i.high=g+I+ +(m>>>0<P>>>0),b=s.low=b+D,s.high=y+k+ +(b>>>0<D>>>0),w=o.low=w+M,o.high=v+U+ +(w>>>0<M>>>0),C=l.low=C+j,l.high=E+L+ +(C>>>0<j>>>0),O=d.low=O+W,d.high=_+B+ +(O>>>0<W>>>0),N=h.low=N+H,h.high=x+K+ +(N>>>0<H>>>0),S=u.low=S+q,u.high=A+F+ +(S>>>0<q>>>0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+128>>>10<<5)+30]=Math.floor(r/0x100000000),t[(n+128>>>10<<5)+31]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});n.SHA512=e._createHelper(d),n.HmacSHA512=e._createHmacHelper(d)}(),e.exports=n.SHA512},67869:(e,t,r)=>{"use strict";r.d(t,{I:()=>u});var n=r(12661),i=r(98866),s=r(36964),o=r(58051),a=r(93481),c=r(10899),l=r(81701),d=r(55480);let h=(0,n.BX)({view:"Connect",history:["Connect"],transactionStack:[]}),u=(0,s.X)({state:h,subscribeKey:(e,t)=>(0,i.u$)(h,e,t),pushTransactionStack(e){h.transactionStack.push(e)},popTransactionStack(e){let t=h.transactionStack.pop();if(!t)return;let{onSuccess:r,onError:n,onCancel:i}=t;switch(e){case"success":r?.();break;case"error":n?.(),u.goBack();break;case"cancel":i?.(),u.goBack()}},push(e,t){e!==h.view&&(h.view=e,h.history.push(e),h.data=t)},reset(e,t){h.view=e,h.history=[e],h.data=t},replace(e,t){h.history.at(-1)!==e&&(h.view=e,h.history[h.history.length-1]=e,h.data=t)},goBack(){let e=a.W.state.activeCaipAddress,t="ConnectingFarcaster"===u.state.view,r=!e&&t;if(h.history.length>1){h.history.pop();let[t]=h.history.slice(-1);t&&(e&&"Connect"===t?h.view="Account":h.view=t)}else l.W.close();h.data?.wallet&&(h.data.wallet=void 0),setTimeout(()=>{if(r){o.U.setFarcasterUrl(void 0,a.W.state.activeChain);let e=c.a.getAuthConnector();e?.provider?.reload();let t=(0,n.P9)(d.H.state);e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType})}},100)},goBackToIndex(e){if(h.history.length>1){h.history=h.history.slice(0,e+1);let[t]=h.history.slice(-1);t&&(h.view=t)}},goBackOrCloseModal(){u.state.history.length>1?u.goBack():l.W.close()}})},68222:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTronProvider=void 0;let i=r(79864);class s{constructor(e){this.TRON_CHAIN_ID="tron:mainnet",this.provider=e}getChain(e){if(null==e&&(e=this.TRON_CHAIN_ID),e!=this.TRON_CHAIN_ID)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.CHAIN_NOT_SUPPORTED,"The chainId:"+e+"is wrong for OKXTronProvider");return e}getAccount(e){var t,r,n,s,o;e=this.getChain(e);let a=null==(r=null==(t=this.provider.session)?void 0:t.namespaces[i.NameSpaceKeyTron])?void 0:r.accounts.filter(function(t){return t.startsWith(e)})[0];if(!a)return;let c=a.split(":"),l=a.split(":")[2],d=null==(o=null==(s=null==(n=this.provider.session)?void 0:n.namespaces[i.NameSpaceKeyTron])?void 0:s.extra)?void 0:o[`${c[0]}:${c[1]}`];if(void 0!=d&&d.publicKey,l)return{address:l}}stringToHex(e){let t="";for(let r=0;r<e.length;r++)t+=e.charCodeAt(r).toString(16).padStart(2,"0");return t}signMessage(e,t){return n(this,void 0,void 0,function*(){let r={chainId:t=this.getChain(t),method:"tron_signMessage",params:{message:this.stringToHex(e)}};try{let e=yield this.provider.request(r,t);if("result"in e)return e.result;return e.error}catch(e){return e}})}signMessageV2(e,t){return n(this,void 0,void 0,function*(){let r={chainId:t=this.getChain(t),method:"tron_signMessageV2",params:{message:e}};try{let e=yield this.provider.request(r,t);if("result"in e)return e.result;return e.error}catch(e){return e}})}signTransaction(e,t){return n(this,void 0,void 0,function*(){t=this.getChain(t);try{let r=yield this.provider.request({method:"tron_signTransaction",params:e},t);if("result"in r){let e;e="string"==typeof r.result?JSON.parse(r.result):r.result;let t={};t.visible=e.visible,t.txID=e.txID;let n={};return n.contract=e.raw_data.contract,n.expiration=e.raw_data.expiration,n.ref_block_bytes=e.raw_data.ref_block_bytes,n.fee_limit=e.raw_data.fee_limit,n.ref_block_hash=e.raw_data.ref_block_hash,n.timestamp=e.raw_data.timestamp,t.raw_data=n,t.raw_data_hex=e.raw_data_hex,t.signature=e.signature,t}}catch(e){return e}})}signAndSendTransaction(e,t){return n(this,void 0,void 0,function*(){t=this.getChain(t);try{let r=yield this.provider.request({method:"tron_signAndSendTransaction",params:e},t);if("result"in r)return r.result}catch(e){return e}})}}t.OKXTronProvider=s},68851:function(e,t,r){var n,i,s,o,a,c,l,d,h,u,p,f,g,m,y;n=r(16611),r(9956),r(11816),r(93524),r(99229),i=n.lib.BlockCipher,s=n.algo,o=[],a=[],c=[],l=[],d=[],h=[],u=[],p=[],f=[],g=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=0,n=0,t=0;t<256;t++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^255&i^99,o[r]=i,a[i]=r;var s=e[r],m=e[s],y=e[m],b=257*e[i]^0x1010100*i;c[r]=b<<24|b>>>8,l[r]=b<<16|b>>>16,d[r]=b<<8|b>>>24,h[r]=b;var b=0x1010101*y^65537*m^257*s^0x1010100*r;u[i]=b<<24|b>>>8,p[i]=b<<16|b>>>16,f[i]=b<<8|b>>>24,g[i]=b,r?(r=s^e[e[e[y^s]]],n^=e[e[n]]):r=n=1}}(),m=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,r=t.words,n=t.sigBytes/4,i=((this._nRounds=n+6)+1)*4,s=this._keySchedule=[],a=0;a<i;a++)a<n?s[a]=r[a]:(e=s[a-1],a%n?n>6&&a%n==4&&(e=o[e>>>24]<<24|o[e>>>16&255]<<16|o[e>>>8&255]<<8|o[255&e]):e=(o[(e=e<<8|e>>>24)>>>24]<<24|o[e>>>16&255]<<16|o[e>>>8&255]<<8|o[255&e])^m[a/n|0]<<24,s[a]=s[a-n]^e);for(var c=this._invKeySchedule=[],l=0;l<i;l++){var a=i-l;if(l%4)var e=s[a];else var e=s[a-4];l<4||a<=4?c[l]=e:c[l]=u[o[e>>>24]]^p[o[e>>>16&255]]^f[o[e>>>8&255]]^g[o[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,c,l,d,h,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,p,f,g,a);var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,s,o,a){for(var c=this._nRounds,l=e[t]^r[0],d=e[t+1]^r[1],h=e[t+2]^r[2],u=e[t+3]^r[3],p=4,f=1;f<c;f++){var g=n[l>>>24]^i[d>>>16&255]^s[h>>>8&255]^o[255&u]^r[p++],m=n[d>>>24]^i[h>>>16&255]^s[u>>>8&255]^o[255&l]^r[p++],y=n[h>>>24]^i[u>>>16&255]^s[l>>>8&255]^o[255&d]^r[p++],b=n[u>>>24]^i[l>>>16&255]^s[d>>>8&255]^o[255&h]^r[p++];l=g,d=m,h=y,u=b}var g=(a[l>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],m=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&l])^r[p++],y=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[l>>>8&255]<<8|a[255&d])^r[p++],b=(a[u>>>24]<<24|a[l>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^r[p++];e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=b},keySize:8}),n.AES=i._createHelper(y),e.exports=n.AES},69144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70417:(e,t,r)=>{"use strict";r.d(t,{E:()=>p});var n=r(12661),i=r(12319),s=r(32464),o=r(58051),a=r(93481),c=r(55480);let l=i.w.getAnalyticsUrl(),d=new s.Z({baseUrl:l,clientId:null}),h=["MODAL_CREATED"],u=(0,n.BX)({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1}),p={state:u,subscribe:e=>(0,n.B1)(u,()=>e(u)),getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=c.H.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},_setPendingEvent(e){try{let t=o.U.state.address;if("address"in e.data&&e.data.address&&(t=e.data.address),h.includes(e.data.event)||"undefined"==typeof window)return;let r=a.W.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:i.w.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:r}}}),u.reportedErrors.FORBIDDEN=!1,JSON.stringify(u.pendingEvents).length/1024>45&&p._submitPendingEvents()}catch(e){console.warn("_setPendingEvent",e)}},sendEvent(e){u.timestamp=Date.now(),u.data=e,(c.H.state.features?.analytics||["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"].includes(e.event))&&p._setPendingEvent(u),this._subscribeToVisibilityChange()},_submitPendingEvents(){if(0!==u.pendingEvents.length)try{d.sendBeacon({path:"/batch",params:p.getSdkProperties(),body:u.pendingEvents}),u.reportedErrors.FORBIDDEN=!1,u.pendingEvents=[]}catch(e){u.reportedErrors.FORBIDDEN=!0}},_subscribeToVisibilityChange(){u.subscribedToVisibilityChange||"undefined"!=typeof document&&(u.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{"hidden"===document.visibilityState&&p._submitPendingEvents()}))}}},70455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAMES_CHAINS=t.TON_CHAINS=t.COSMOS_CHAINS=t.APTOS_CHAINS=t.SUI_CHAINS=t.SOLANA_CHAINS_STANDARD=t.SOLANA_CHAINS=t.BTC_CHAINS=void 0;let n=r(22177);t.BTC_CHAINS={MAINNET:"btc:mainnet",FRACTAL:"fractal:mainnet"},t.SOLANA_CHAINS={MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",SONIC_TESTNET:"sonic:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"},t.SOLANA_CHAINS_STANDARD={MAINNET:"solana:mainnet",TESTNET:"solana:testnet"},t.SUI_CHAINS={MAINNET:"sui:mainnet"},t.APTOS_CHAINS={MAINNET:"aptos:mainnet",MOVEMENT_MAINNET:"movement:mainnet",MOVEMENT_TESTNET:"movement:testnet"},t.COSMOS_CHAINS={COSMOS_MAINNET:"cosmos:cosmoshub-4"},t.TON_CHAINS={MAINNET:"ton:-239"},t.NAMES_CHAINS={[n.NameSpaceKeyBtc]:Object.values(t.BTC_CHAINS),[n.NameSpaceKeySOL]:Object.values(t.SOLANA_CHAINS),[n.NameSpaceKeyTON]:Object.values(t.TON_CHAINS),[n.NameSpaceKeySui]:Object.values(t.SUI_CHAINS),[n.NameSpaceKeyAptos]:Object.values(t.APTOS_CHAINS),[n.NameSpaceKeyCosmos]:Object.values(t.COSMOS_CHAINS)}},70703:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(50409),t)},70984:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.TONProvider=void 0;let i=r(14903),s=r(71994),o=r(38962),a=r(45236);class c{constructor(){this.signalChainConnectResult=void 0,this.accountChangedTONHandler=null}send(e){return n(this,void 0,void 0,function*(){try{(0,s.logDebug)("TONProvider send request:",(0,s.safeJsonStringify)(e));let t=null;if("ton_sendTransaction"===e.method)e.params&&(t={method:"sendTransaction",params:[JSON.stringify(e.params)],id:Date.now().toString()},(0,s.logDebug)("TONProvider tonParams first:",JSON.stringify(t)));else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if(t){let r=yield window.okxTonWallet.tonconnect.send(t);if((0,s.logDebug)("TONProvider send request result:",(0,s.safeJsonStringify)(r)),r.error)throw new i.OKXConnectError(r.error.code,r.error.message);return{result:r.result,method:e.method}}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}catch(e){throw(0,s.logDebug)("TONProvider encountered an error:",e),e}})}restoreConnect(){return Promise.resolve()}parseConnectResponse(e,t,r,c,l,d){return n(this,void 0,void 0,function*(){try{let n=[];c.forEach(e=>{e.namespace===i.NameSpaceKeyTON&&n.push(...e.chains)});let h=[],u={};if(n.forEach(e=>{(0,s.getChainId)(e);let t=l.address.find(t=>"607"===t.chainId&&607===t.coinType||t.namespaceChainId===e);t&&(h.push(e+":"+t.address),u[e]={publicKey:t.publicKey})}),(0,s.logDebug)("tonprovider parseConnectResponse needPop and addresses: ",e,JSON.stringify(h)),h&&h.length>0){let n,l=c.find(e=>e.namespace===i.NameSpaceKeyTON);if((0,s.logDebug)("tonprovider parseConnectResponse ton: ",JSON.stringify(l)),l&&l.params&&d&&d.manifestUrl){this.dappInfo=d;let r=[l.params.ton_addr],i={manifestUrl:d.manifestUrl,items:r};(e||t)&&l.params.ton_proof&&r.push(l.params.ton_proof),(0,s.logDebug)("parseConnectResponse ton connect params: ",JSON.stringify(i)),n=(0,o.isDevice)("mobile")||e||t?yield window.okxTonWallet.tonconnect.connect(2,i):yield window.okxTonWallet.tonconnect.restoreConnection()}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl is nil");if(r&&this.signalChainConnectResult&&(n=this.signalChainConnectResult,this.signalChainConnectResult=void 0),(0,s.logDebug)("parseConnectResponse ton connect result: ",JSON.stringify(n)),n&&l)if("connect_error"===n.event)throw new i.OKXConnectError(n.payload.code,n.payload.message);else{let e=n.payload.items.find(e=>"ton_addr"===e.name),t=n.payload.items.find(e=>"ton_proof"===e.name);return(0,s.logDebug)("tonprovider connect isSignalChain: ",r),{namespace:i.NameSpaceKeyTON,addresses:h,methods:[...a.TONMethods],extra:u,data:{ton_addr:e,ton_proof:t,manifestUrl:d.manifestUrl}}}}return}catch(e){throw(0,s.logDebug)("tonprovider parseConnectResponse error: ",JSON.stringify(e)),e}})}connect(e,t){return n(this,void 0,void 0,function*(){if(e&&t&&t.manifestUrl&&e.params){this.dappInfo=t;let r=[e.params.ton_addr],n={manifestUrl:t.manifestUrl,items:r};e.params.ton_proof&&r.push(e.params.ton_proof),(0,s.logDebug)("tonprovider connect params: ",JSON.stringify(n));try{let e=yield window.okxTonWallet.tonconnect.connect(2,n);return(0,s.logDebug)("tonprovider connect tonResult: ",JSON.stringify(e)),this.signalChainConnectResult=e,e}catch(e){throw(0,s.logDebug)("tonprovider connect error: ",JSON.stringify(e)),new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"tonconnect error")}}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"manifestUrl or params is nil")})}singleConnect(e,t){return this.connect(e,t)}addAccountChangedListener(e){console.log("window.okxwallet configEventWithKey:","ton"),this.accountChangedTONHandler=()=>{console.log("window.okxwallet configEventWithKey_TON:",Date.now(),"ton"),e()},window.okxTonWallet.tonconnect.on("accountChanged",this.accountChangedTONHandler)}removeListener(){this.accountChangedTONHandler&&window.okxTonWallet.tonconnect.off("accountChanged",this.accountChangedTONHandler)}}t.TONProvider=c},71018:(e,t,r)=>{"use strict";r.d(t,{D5:()=>x,U5:()=>O,h6:()=>i.a,iP:()=>C,oI:()=>_});var n=r(65727),i=r.n(n),s=r(25042);let o={level:"info"},a="custom_context";class c{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class l{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){let t=new c(e);if(t.size>this.maxSizeInBytes)throw Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?this.tail&&(this.tail.next=t):this.head=t,this.tail=t,this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;let e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){let e=[],t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};let t=e.value;return e=e.next,{done:!1,value:t}}}}}class d{constructor(e,t=1024e3){this.level=e??"error",this.levelValue=n.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===n.levels.values.error?console.error(e):t===n.levels.values.warn?console.warn(e):t===n.levels.values.debug?console.debug(e):t===n.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append((0,s.h)({timestamp:new Date().toISOString(),log:e}));let t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new l(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){let t=this.getLogArray();return t.push((0,s.h)({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class h{constructor(e,t=1024e3){this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){let t=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=t,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t)}}class u{constructor(e,t=1024e3){this.baseChunkLogger=new d(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var p=Object.defineProperty,f=Object.defineProperties,g=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,v=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t)=>{for(var r in t||(t={}))y.call(t,r)&&v(e,r,t[r]);if(m)for(var r of m(t))b.call(t,r)&&v(e,r,t[r]);return e},E=(e,t)=>f(e,g(t));function C(e){return E(w({},e),{level:e?.level||o.level})}function _(e,t=a){return typeof e.bindings>"u"?function(e,t=a){return e[t]||""}(e,t):e.bindings().context||""}function O(e,t,r=a){let n=function(e,t,r=a){let n=_(e,r);return n.trim()?`${n}/${t}`:t}(e,t,r);return function(e,t,r=a){return e[r]=t,e}(e.child({context:n}),n,r)}function x(e){return"u">typeof e.loggerOverride&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:"u">typeof window?function(e){var t,r;let n=new h(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(w({},e.opts),{level:"trace",browser:E(w({},null==(r=e.opts)?void 0:r.browser),{write:e=>n.write(e)})})),chunkLoggerController:n}}(e):function(e){var t;let r=new u(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:i()(E(w({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}(e)}},71084:(e,t,r)=>{"use strict";let n,i,s,o,a;r.d(t,{JX:()=>p,RF:()=>u,W5:()=>m,ds:()=>f,fD:()=>y});var c=r(83138),l=r(20296);let d={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function h(e,t="dark"){n&&document.head.removeChild(n),(n=document.createElement("style")).textContent=l.CV.createRootStyles(t,e),document.head.appendChild(n)}function u(e,t="dark"){if(a=e,i=document.createElement("style"),s=document.createElement("style"),o=document.createElement("style"),i.textContent=g(e).core.cssText,s.textContent=g(e).dark.cssText,o.textContent=g(e).light.cssText,document.head.appendChild(i),document.head.appendChild(s),document.head.appendChild(o),h(e,t),p(t),!e?.["--w3m-font-family"])for(let[e,t]of Object.entries(d)){let r=document.createElement("link");r.rel="preload",r.href=t,r.as="font",r.type=e.includes("woff2")?"font/woff2":"font/woff",r.crossOrigin="anonymous",document.head.appendChild(r)}p(t)}function p(e="dark"){s&&o&&n&&("light"===e?(h(a,e),s.removeAttribute("media"),o.media="enabled"):(h(a,e),o.removeAttribute("media"),s.media="enabled"))}function f(e){if(a=e,i&&s&&o&&(i.textContent=g(e).core.cssText,s.textContent=g(e).dark.cssText,o.textContent=g(e).light.cssText,e?.["--w3m-font-family"])){let t=e["--w3m-font-family"];i.textContent=i.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),s.textContent=s.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),o.textContent=o.textContent?.replace("font-family: KHTeka",`font-family: ${t}`)}n&&h(e,o?.media==="enabled"?"light":"dark")}function g(e){let t=!!e?.["--w3m-font-family"];return{core:(0,c.AH)`
      ${t?(0,c.AH)``:(0,c.AH)`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${(0,c.iz)(d["KHTeka-400-woff2"])}) format('woff2'),
                url(${(0,c.iz)(d["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${(0,c.iz)(d["KHTeka-300-woff2"])}) format('woff2'),
                url(${(0,c.iz)(d["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${(0,c.iz)(d["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${(0,c.iz)(d["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${(0,c.iz)(d["KHTeka-400-woff2"])}) format('woff2'),
                url(${(0,c.iz)(d["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:(0,c.AH)`
      :root {
      }
    `,light:(0,c.AH)`
      :root {
      }
    `}}let m=(0,c.AH)`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,y=(0,c.AH)`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`},71305:(e,t,r)=>{"use strict";r.d(t,{K1:()=>s,kg:()=>a,lj:()=>o});var n=r(93481),i=r(28977);function s(){let e=n.W.state.activeCaipNetwork?.chainNamespace||"eip155",t=n.W.state.activeCaipNetwork?.id||1,r=i.oU.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${r}`}function o(e){return n.W.getAccountData(e)?.preferredAccountType}function a(e){return e?n.W.state.chains.get(e)?.networkState?.caipNetwork:n.W.state.activeCaipNetwork}},71994:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.chainIdToStandardChainIdMap=t.getNamespaceKeyByChain=t.chainName2IdMap=t.replaceChainIdToChainName=t.replaceChainNameToChainId=t.checkMetaData=t.versionCompare=t.isBrowser=t.isOS=t.isMobileUserAgent=t.openDeeplinkWithFallback=t.openLinkBlank=t.openLink=t.getChainId=t.useShortLink=t.toSafeBase64FromBase64=t.isValidObject=t.isIos=t.base64decode=t.base64encode=t.splitToUint8Arrays=t.concatUint8Arrays=t.toHexString=t.hexToByteArray=t.getOKXLink=t.encodeTWAConnectURLParams=t.encodeConnectParams=t.openOKXTMAWalletlinkWithFallback=t.encodeTelegramUrlParameters=t.isTelegramUrl=t.openOKXDeeplinkWithFallback=t.openOKXDeeplink=t.safeJsonStringify=t.safeJsonParse=t.getDefaultReporter=t.reportEvent=t.reportLog=t.logWarning=t.logError=t.logDebug=t.callForSuccess=void 0;var s=r(38654);Object.defineProperty(t,"callForSuccess",{enumerable:!0,get:function(){return s.callForSuccess}});var o=r(75260);Object.defineProperty(t,"logDebug",{enumerable:!0,get:function(){return o.logDebug}}),Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return o.logError}}),Object.defineProperty(t,"logWarning",{enumerable:!0,get:function(){return o.logWarning}}),Object.defineProperty(t,"reportLog",{enumerable:!0,get:function(){return o.reportLog}}),Object.defineProperty(t,"reportEvent",{enumerable:!0,get:function(){return o.reportEvent}}),Object.defineProperty(t,"getDefaultReporter",{enumerable:!0,get:function(){return o.getDefaultReporter}}),i(r(75465),t),i(r(87316),t);var a=r(14441);Object.defineProperty(t,"safeJsonParse",{enumerable:!0,get:function(){return a.safeJsonParse}}),Object.defineProperty(t,"safeJsonStringify",{enumerable:!0,get:function(){return a.safeJsonStringify}});var c=r(2195);Object.defineProperty(t,"openOKXDeeplink",{enumerable:!0,get:function(){return c.openOKXDeeplink}}),Object.defineProperty(t,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return c.openOKXDeeplinkWithFallback}}),Object.defineProperty(t,"isTelegramUrl",{enumerable:!0,get:function(){return c.isTelegramUrl}}),Object.defineProperty(t,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return c.encodeTelegramUrlParameters}}),Object.defineProperty(t,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return c.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(t,"encodeConnectParams",{enumerable:!0,get:function(){return c.encodeConnectParams}}),Object.defineProperty(t,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return c.encodeTWAConnectURLParams}}),Object.defineProperty(t,"getOKXLink",{enumerable:!0,get:function(){return c.getOKXLink}});var l=r(16919);Object.defineProperty(t,"hexToByteArray",{enumerable:!0,get:function(){return l.hexToByteArray}}),Object.defineProperty(t,"toHexString",{enumerable:!0,get:function(){return l.toHexString}}),Object.defineProperty(t,"concatUint8Arrays",{enumerable:!0,get:function(){return l.concatUint8Arrays}}),Object.defineProperty(t,"splitToUint8Arrays",{enumerable:!0,get:function(){return l.splitToUint8Arrays}}),Object.defineProperty(t,"base64encode",{enumerable:!0,get:function(){return l.base64encode}}),Object.defineProperty(t,"base64decode",{enumerable:!0,get:function(){return l.base64decode}}),Object.defineProperty(t,"isIos",{enumerable:!0,get:function(){return l.isIos}}),Object.defineProperty(t,"isValidObject",{enumerable:!0,get:function(){return l.isValidObject}}),Object.defineProperty(t,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return l.toSafeBase64FromBase64}}),Object.defineProperty(t,"useShortLink",{enumerable:!0,get:function(){return l.useShortLink}}),Object.defineProperty(t,"getChainId",{enumerable:!0,get:function(){return l.getChainId}});var d=r(92905);Object.defineProperty(t,"openLink",{enumerable:!0,get:function(){return d.openLink}}),Object.defineProperty(t,"openLinkBlank",{enumerable:!0,get:function(){return d.openLinkBlank}}),Object.defineProperty(t,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return d.openDeeplinkWithFallback}}),Object.defineProperty(t,"isMobileUserAgent",{enumerable:!0,get:function(){return d.isMobileUserAgent}}),Object.defineProperty(t,"isOS",{enumerable:!0,get:function(){return d.isOS}}),Object.defineProperty(t,"isBrowser",{enumerable:!0,get:function(){return d.isBrowser}});var h=r(49737);Object.defineProperty(t,"versionCompare",{enumerable:!0,get:function(){return h.versionCompare}});var u=r(58131);Object.defineProperty(t,"checkMetaData",{enumerable:!0,get:function(){return u.checkMetaData}});var p=r(16919);Object.defineProperty(t,"replaceChainNameToChainId",{enumerable:!0,get:function(){return p.replaceChainNameToChainId}}),Object.defineProperty(t,"replaceChainIdToChainName",{enumerable:!0,get:function(){return p.replaceChainIdToChainName}}),Object.defineProperty(t,"chainName2IdMap",{enumerable:!0,get:function(){return p.chainName2IdMap}}),Object.defineProperty(t,"getNamespaceKeyByChain",{enumerable:!0,get:function(){return p.getNamespaceKeyByChain}}),Object.defineProperty(t,"chainIdToStandardChainIdMap",{enumerable:!0,get:function(){return p.chainIdToStandardChainIdMap}})},72040:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(89446),t),i(r(90794),t)},72427:(e,t,r)=>{"use strict";r.d(t,{db:()=>s,eV:()=>i});var n=r(66969);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?s(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.Fl({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let s="right"===t;i[s?n:r-n-1]=e[s?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.Fl({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},72880:(e,t,r)=>{"use strict";r.d(t,{N:()=>v});var n=r(12661),i=r(98866),s=r(45553),o=r(14744),a=r(12319),c=r(32464),l=r(19831),d=r(58653),h=r(29936),u=r(93481),p=r(10899),f=r(70417),g=r(55480);let m=a.w.getApiUrl(),y=new c.Z({baseUrl:m,clientId:null}),b=(0,n.BX)({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),v={state:b,subscribeKey:(e,t)=>(0,i.u$)(b,e,t),_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=g.H.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions:e=>g.H.state.isUniversalProvider?e.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):e,async _fetchWalletImage(e){let t=`${y.baseUrl}/getWalletImage/${e}`,r=await y.getBlob({path:t,params:v._getSdkProperties()});h.j.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){let t=`${y.baseUrl}/public/getAssetImage/${e}`,r=await y.getBlob({path:t,params:v._getSdkProperties()});h.j.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){let t=`${y.baseUrl}/public/getAssetImage/${e}`,r=await y.getBlob({path:t,params:v._getSdkProperties()});h.j.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){let t=`${y.baseUrl}/public/getCurrencyImage/${e}`,r=await y.getBlob({path:t,params:v._getSdkProperties()});h.j.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){let t=`${y.baseUrl}/public/getTokenImage/${e}`,r=await y.getBlob({path:t,params:v._getSdkProperties()});h.j.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform(e){let t=e.length,r=a.w.isMobile()?e?.filter(e=>!!e.mobile_link||!!e.webapp_link||Object.values(l.O).map(e=>e.id).includes(e.id)):e,n=t-r.length;return{filteredWallets:r,mobileFilteredOutWalletsLength:n}},fetchProjectConfig:async()=>(await y.get({path:"/appkit/v1/config",params:v._getSdkProperties()})).features,async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await y.get({path:"/projects/v1/origins",params:v._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===s.o.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw Error("RATE_LIMITED",{cause:e});if(t>=s.o.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw Error("SERVER_ERROR",{cause:e})}return[]}},async fetchNetworkImages(){let e=u.W.getAllRequestedCaipNetworks(),t=e?.map(({assets:e})=>e?.imageId).filter(Boolean).filter(e=>!o.$.getNetworkImageById(e));t&&await Promise.allSettled(t.map(e=>v._fetchNetworkImage(e)))},async fetchConnectorImages(){let{connectors:e}=p.a.state,t=e.map(({imageId:e})=>e).filter(Boolean);await Promise.allSettled(t.map(e=>v._fetchConnectorImage(e)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(e=>v._fetchCurrencyImage(e)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(e=>v._fetchTokenImage(e)))},async fetchWallets(e){let t=e.exclude??[];v._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(l.O).map(e=>e.id));let r=await y.get({path:"/getWallets",params:{...v._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:n,mobileFilteredOutWalletsLength:i}=v._filterWalletsByPlatform(r?.data);return{data:n||[],count:r?.count,mobileFilteredOutWalletsLength:i}},async fetchFeaturedWallets(){let{featuredWalletIds:e}=g.H.state;if(e?.length){let t={...v._getSdkProperties(),page:1,entries:e?.length??4,include:e},{data:r}=await v.fetchWallets(t),n=[...r].sort((t,r)=>e.indexOf(t.id)-e.indexOf(r.id)),i=n.map(e=>e.image_id).filter(Boolean);await Promise.allSettled(i.map(e=>v._fetchWalletImage(e))),b.featured=n,b.allFeatured=n}},async fetchRecommendedWallets(){try{b.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=g.H.state,n=[...t??[],...r??[]].filter(Boolean),i=u.W.getRequestedCaipNetworkIds().join(","),{data:s,count:o}=await v.fetchWallets({page:1,entries:4,include:e,exclude:n,chains:i}),a=d.i.getRecentWallets(),c=s.map(e=>e.image_id).filter(Boolean),l=a.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c,...l].map(e=>v._fetchWalletImage(e))),b.recommended=s,b.allRecommended=s,b.count=o??0}catch{}finally{b.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:r,featuredWalletIds:n}=g.H.state,i=u.W.getRequestedCaipNetworkIds().join(","),s=[...b.recommended.map(({id:e})=>e),...r??[],...n??[]].filter(Boolean),{data:o,count:c,mobileFilteredOutWalletsLength:l}=await v.fetchWallets({page:e,entries:40,include:t,exclude:s,chains:i});b.mobileFilteredOutWalletsLength=l+(b.mobileFilteredOutWalletsLength??0);let d=o.slice(0,20).map(e=>e.image_id).filter(Boolean);await Promise.allSettled(d.map(e=>v._fetchWalletImage(e))),b.wallets=a.w.uniqueBy([...b.wallets,...v._filterOutExtensions(o)],"id").filter(e=>e.chains?.some(e=>i.includes(e))),b.count=c>b.count?c:b.count,b.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:r}=await v.fetchWallets(t);r&&r.forEach(e=>{b.excludedWallets.push({rdns:e.rdns,name:e.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:r,excludeWalletIds:n}=g.H.state,i=u.W.getRequestedCaipNetworkIds().join(",");b.search=[];let s={page:1,entries:100,search:e?.trim(),badge_type:t,include:r,exclude:n,chains:i},{data:o}=await v.fetchWallets(s);f.E.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let c=o.map(e=>e.image_id).filter(Boolean);await Promise.allSettled([...c.map(e=>v._fetchWalletImage(e)),a.w.wait(300)]),b.search=v._filterOutExtensions(o)},initPromise(e,t){let r=b.promises[e];return r||(b.promises[e]=t())},prefetch:({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={})=>Promise.allSettled([e&&v.initPromise("connectorImages",v.fetchConnectorImages),t&&v.initPromise("featuredWallets",v.fetchFeaturedWallets),r&&v.initPromise("recommendedWallets",v.fetchRecommendedWallets),n&&v.initPromise("networkImages",v.fetchNetworkImages)].filter(Boolean)),prefetchAnalyticsConfig(){g.H.state.features?.analytics&&v.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await y.get({path:"/getAnalyticsConfig",params:v._getSdkProperties()});g.H.setFeatures({analytics:e})}catch(e){g.H.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=u.W.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),b.recommended=b.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),b.filteredWallets=b.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))},clearFilterByNamespaces(){b.filteredWallets=[]},setFilterByNamespace(e){if(!e){b.featured=b.allFeatured,b.recommended=b.allRecommended;return}let t=u.W.getRequestedCaipNetworkIds().join(",");b.featured=b.allFeatured.filter(e=>e.chains?.some(e=>t.includes(e))),b.recommended=b.allRecommended.filter(e=>e.chains?.some(e=>t.includes(e))),b.filteredWallets=b.wallets.filter(e=>e.chains?.some(e=>t.includes(e)))}}},73168:(e,t,r)=>{"use strict";r.d(t,{CL:()=>c,D5:()=>d,Di:()=>u,G1:()=>R,Gi:()=>l,L5:()=>x,MI:()=>P,RV:()=>C,Sf:()=>E,WT:()=>N,XU:()=>a,YW:()=>g,ab:()=>m,bq:()=>h,cg:()=>S,ch:()=>O,hA:()=>p,hl:()=>A,jz:()=>I,qZ:()=>f,s0:()=>y,sV:()=>w,uL:()=>T,vx:()=>v,xQ:()=>b,xq:()=>_});var n=r(13933),i=r(4058);class s extends n.C{constructor(e,{code:t,docsPath:r,metaMessages:n,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:n||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof i.J8?e.code:t??-1}}class o extends s{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class a extends s{constructor(e){super(e,{code:a.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(a,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends s{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class l extends s{constructor(e,{method:t}={}){super(e,{code:l.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class d extends s{constructor(e){super(e,{code:d.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class h extends s{constructor(e){super(e,{code:h.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class u extends s{constructor(e){super(e,{code:u.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class p extends s{constructor(e){super(e,{code:p.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class f extends s{constructor(e){super(e,{code:f.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class g extends s{constructor(e){super(e,{code:g.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class m extends s{constructor(e,{method:t}={}){super(e,{code:m.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class y extends s{constructor(e){super(e,{code:y.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class b extends s{constructor(e){super(e,{code:b.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class v extends o{constructor(e){super(e,{code:v.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class w extends o{constructor(e){super(e,{code:w.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class E extends o{constructor(e,{method:t}={}){super(e,{code:E.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class C extends o{constructor(e){super(e,{code:C.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class _ extends o{constructor(e){super(e,{code:_.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class O extends o{constructor(e){super(e,{code:O.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class x extends o{constructor(e){super(e,{code:x.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class N extends o{constructor(e){super(e,{code:N.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(N,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class A extends o{constructor(e){super(e,{code:A.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class S extends o{constructor(e){super(e,{code:S.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(S,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class T extends o{constructor(e){super(e,{code:T.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class R extends o{constructor(e){super(e,{code:R.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class I extends o{constructor(e){super(e,{code:I.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class P extends s{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},73537:(e,t,r)=>{"use strict";r.d(t,{OH:()=>s,Vl:()=>c,gS:()=>o,hy:()=>i,s1:()=>a});var n=r(87358);let i=(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||"https://secure.walletconnect.org/sdk",s=(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",o=(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",a={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},c={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}},73631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74466:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_CONNECT_ERROR_CODES=t.OKXConnectError=void 0;var n=r(46543);Object.defineProperty(t,"OKXConnectError",{enumerable:!0,get:function(){return n.OKXConnectError}}),Object.defineProperty(t,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return n.OKX_CONNECT_ERROR_CODES}})},74717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAptosWalletAdapter=void 0;let n=r(94820);class i extends n.EventEmitter{get connected(){return!!this.publicAccount.publicKey}}t.BaseAptosWalletAdapter=i},74904:function(e,t,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(n=function(e){return(n=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=n(e),o=0;o<r.length;o++)"default"!==r[o]&&i(t,e,r[o]);return s(t,e),t}),a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MULTICODEC_ED25519_LENGTH=t.MULTICODEC_ED25519_HEADER=t.MULTICODEC_ED25519_BASE=t.MULTICODEC_ED25519_ENCODING=t.DID_METHOD=t.DID_PREFIX=t.DID_DELIMITER=t.KEY_PAIR_SEED_LENGTH=t.DATA_ENCODING=t.JSON_ENCODING=t.JWT_ENCODING=t.JWT_DELIMITER=t.JWT_IRIDIUM_TYP=t.JWT_IRIDIUM_ALG=t.JWTHeaderType=void 0,t.generateKeyPair=function(){return u.default.sign.keyPair()},t.decodeJSON=g,t.encodeJSON=m,t.encodeIss=y,t.decodeIss=b,t.encodeSig=v,t.decodeSig=w,t.encodeData=E,t.decodeData=function(e){var r,n;let i=(0,f.okxtoString)(e,t.DATA_ENCODING).split(t.JWT_DELIMITER);return{header:g(null!=(r=i[0])?r:"{}"),payload:g(null!=(n=i[1])?n:"{}")}},t.encodeJWT=C,t.decodeJWT=_,t.signJWT=function(e,r,n,i){return a(this,arguments,void 0,function*(e,r,n,i,s=Math.floor(Date.now())){let o={alg:t.JWT_IRIDIUM_ALG,typ:t.JWT_IRIDIUM_TYP},a={iss:y(i.publicKey),sub:e,aud:r,act:"authenticate user",iat:s,exp:s+n},c=E({header:o,payload:a});return p.logDebug(`get sec kp: ${i.secretKey} {${i.secretKey.length}}`),C({header:o,payload:a,signature:u.default.sign.detached(c,i.secretKey)})})},t.verifyJWT=function(e){return a(this,void 0,void 0,function*(){let{header:r,payload:n,data:i,signature:s}=_(e);if(r.alg!==t.JWT_IRIDIUM_ALG||r.typ!==t.JWT_IRIDIUM_TYP)throw Error("JWT must use EdDSA algorithm");let o=b(n.iss);return l.verify(o,i,s)})};let l=o(r(89774)),d=r(14441),h=r(16919),u=c(r(28555)),p=o(r(75260)),f=r(52540);function g(e){return(0,d.safeJsonParse)((0,f.okxtoString)((0,f.okxfromString)(e,t.JWT_ENCODING),t.JSON_ENCODING))}function m(e){return(0,f.okxtoString)((0,f.okxfromString)((0,d.safeJsonStringify)(e),t.JSON_ENCODING),t.JWT_ENCODING)}function y(e){p.logDebug(`publicKey: ${(0,h.toHexString)(e)}`);var r=(0,f.okxtoString)(e,t.MULTICODEC_ED25519_ENCODING);return[t.DID_PREFIX,t.DID_METHOD,r].join(t.DID_DELIMITER)}function b(e){let[r,n,i]=e.split(t.DID_DELIMITER);if(r!==t.DID_PREFIX||n!==t.DID_METHOD)throw Error('Issuer must be a DID with method "key"');if(void 0===i)throw Error("multicodec is undefined");let s=(0,f.okxfromString)(i,t.MULTICODEC_ED25519_ENCODING);if(void 0===s||s.length!==t.MULTICODEC_ED25519_LENGTH)throw Error("Issuer must be a public key with length 32 bytes");return s}function v(e){return(0,f.okxtoString)(e,t.JWT_ENCODING)}function w(e){return(0,f.okxfromString)(e,t.JWT_ENCODING)}function E(e){return(0,f.okxfromString)([m(e.header),m(e.payload)].join(t.JWT_DELIMITER),t.DATA_ENCODING)}function C(e){return[m(e.header),m(e.payload),v(e.signature)].join(t.JWT_DELIMITER)}function _(e){var r,n,i;let s=e.split(t.JWT_DELIMITER),o=g(null!=(r=s[0])?r:"{}"),a=g(null!=(n=s[1])?n:"{}");return{header:o,payload:a,signature:w(null!=(i=s[2])?i:"{}"),data:(0,f.okxfromString)(s.slice(0,2).join(t.JWT_DELIMITER),t.DATA_ENCODING)}}t.JWTHeaderType="dapp",t.JWT_IRIDIUM_ALG="EdDSA",t.JWT_IRIDIUM_TYP="JWT",t.JWT_DELIMITER=".",t.JWT_ENCODING="base64url",t.JSON_ENCODING="utf8",t.DATA_ENCODING="utf8",t.KEY_PAIR_SEED_LENGTH=32,t.DID_DELIMITER=":",t.DID_PREFIX="did",t.DID_METHOD="key",t.MULTICODEC_ED25519_ENCODING="base58btc",t.MULTICODEC_ED25519_BASE="z",t.MULTICODEC_ED25519_HEADER="K36",t.MULTICODEC_ED25519_LENGTH=32},75245:(e,t,r)=>{e.exports=r(41510)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},75260:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.logVersion=void 0,t.getDefaultReporter=function(){return s},t.logDebug=function(...e){if("undefined"!=typeof console)try{(null==window?void 0:window.okxLogDebug)&&console.log(`[OKX_CONNECT_SDK1] ${o} `,...e)}catch(e){}},t.logError=function(...e){if("undefined"!=typeof console)try{(null==window?void 0:window.okxLogDebug)&&console.error(`[OKX_CONNECT_SDK1] ${o} `,...e);{let t="";t+=[...e].reduce((e,t)=>{"string"==typeof t?e+=","+t:"object"==typeof t&&(e+=JSON.stringify(t))}),s.sendRecordContent(t,i.OKXReportType.LOG,"")}}catch(e){}},t.logWarning=function(...e){if("undefined"!=typeof console)try{(null==window?void 0:window.okxLogDebug)&&console.warn(`[OKX_CONNECT_SDK1] ${o} `,...e)}catch(e){}},t.reportEvent=function(e,t,r){return n(this,arguments,void 0,function*(e,t,r,n,i,o,a,c,l){try{yield s.sendRecordContent(r,e,t,n,i,o,a,c,l)}catch(e){}})},t.reportLog=function(e){return n(this,arguments,void 0,function*(e,t="default"){})};let i=r(87316),s=new i.OKXReporter,o=r(84245).version;t.logVersion=o},75465:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Report_WalletType_Key=t.Report_OKXConnectSDK_RequestError_Log=t.Report_OKXConnectSDK_RequestSuccess_Log=t.Report_OKXConnectSDK_RequestStart_Log=t.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click=t.Report_OKXConnectSDKExtension_Module_Retry_Click=t.Report_ConnectDapp_ConnectAndSign_Click=t.Report_Proceed_QRCode_Click=t.Report_ChooseType_Download_Click=t.Report_ChooseType_ConnectWallet_Click=t.Report_Proceed_Retry_Click=t.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View=t.Report_OKXConnectSDKExtension_ConnectDapp_Page_View=t.Report_ChooseType_ConnectWallet_View=t.Report_Loading_ConnectWallet_View=t.Report_Proceed_QRCode_View=t.Report_Proceed_Proceed_View=void 0,t.Report_Proceed_Proceed_View="OKXConnectSDK_Proceed_Proceed_View",t.Report_Proceed_QRCode_View="OKXConnectSDK_Proceed_QRCode_View",t.Report_Loading_ConnectWallet_View="OKXConnectSDK_Loading_ConnectWallet_View",t.Report_ChooseType_ConnectWallet_View="OKXConnectSDK_ChooseType_ConnectWallet_View",t.Report_OKXConnectSDKExtension_ConnectDapp_Page_View="OKXConnectSDKExtension_ConnectDapp_Page_View",t.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View="OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View",t.Report_Proceed_Retry_Click="OKXConnectSDK_Proceed_Retry_Click",t.Report_ChooseType_ConnectWallet_Click="OKXConnectSDK_ChooseType_ConnectWallet_Click",t.Report_ChooseType_Download_Click="OKXConnectSDK_ChooseType_Download_Click",t.Report_Proceed_QRCode_Click="OKXConnectSDK_Proceed_QRCode_Click",t.Report_ConnectDapp_ConnectAndSign_Click="OKXConnectSDK_ConnectDapp_ConnectAndSign_Click",t.Report_OKXConnectSDKExtension_Module_Retry_Click="OKXConnectSDKExtension_Module_Retry_Click",t.Report_OKXConnectSDKExtension_ConnectDapp_Button_Click="OKXConnectSDKExtension_ConnectDapp_Button_Click",t.Report_OKXConnectSDK_RequestStart_Log="Report_OKXConnectSDK_RequestStart_View",t.Report_OKXConnectSDK_RequestSuccess_Log="Report_OKXConnectSDK_RequestSuccess_View",t.Report_OKXConnectSDK_RequestError_Log="Report_OKXConnectSDK_RequestError_View",t.Report_WalletType_Key="wallet_type"},75578:(e,t,r)=>{"use strict";r.d(t,{L:()=>s});var n=r(45553),i=r(8567);let s={ConnectorExplorerIds:{[n.o.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[n.o.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[n.o.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[n.o.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[n.o.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[i.o.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[i.o.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[i.o.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[i.o.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[i.o.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[i.o.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[i.o.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[i.o.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[i.o.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[i.o.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[i.o.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[i.o.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",0xaa36a7:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",0x4e454152:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[n.o.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[n.o.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[n.o.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[n.o.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[n.o.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[n.o.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[n.o.CONNECTOR_ID.INJECTED]:"Browser Wallet",[n.o.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[n.o.CONNECTOR_ID.COINBASE]:"Coinbase",[n.o.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[n.o.CONNECTOR_ID.LEDGER]:"Ledger",[n.o.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[n.o.CONNECTOR_ID.INJECTED]:"INJECTED",[n.o.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[n.o.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[n.o.CONNECTOR_ID.AUTH]:"AUTH",[i.o.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,0xaa36a7,10,420,42161,421613,137,80001,42220,0x4e454152,0x4e454153,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}},76190:(e,t,r)=>{"use strict";r.d(t,{L:()=>i,P:()=>s});var n=r(45553);let i={caipNetworkIdToNumber:e=>e?Number(e.split(":")[1]):void 0,parseEvmChainId(e){return"string"==typeof e?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace:(e,t)=>e?.filter(e=>e.chainNamespace===t)||[],getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let r=e.find(e=>e.caipNetworkId===t);if(r)return r.name;let[i]=t.split(":");return n.o.CHAIN_NAME_MAP?.[i]||void 0}},s=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"]},76589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connect=t.StandardConnect=void 0,t.StandardConnect="standard:connect",t.Connect=t.StandardConnect},78140:(e,t,r)=>{"use strict";async function n(e){return new Promise(t=>setTimeout(t,e))}r.d(t,{u:()=>n})},78151:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r,n){this.name="starknet",this.namespace=e.namespace,this.events=n,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("starknet request --args--string>",JSON.stringify(e)),(0,s.logDebug)("starknet provider namespace: ",this.namespace),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))return this.client.request(e);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Wallet doesn't support"+e.method)})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}t.default=l},78171:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TgwalletConnector=void 0;let n=r(7769),i=r(55982),s=r(14903),o=r(71994);class a extends n.WsConnector{getType(){return i.CONNECTOR_TYPE.WS.OKX_TG_WALLET}constructor(){super(),this.walletName="OKX Mini Wallet",this.walletNameKey=""}getTag(){return i.OKX_TG_WALLET}openWallet(e,t){super.openWallet(e);var r,n=(0,o.getOKXLink)(null==e?void 0:e.connectRequest,s.ConnectWalletType.OKX_MINI,null!=(r=null==e?void 0:e.tmaReturnUrl)?r:"back");(0,o.openOKXTMAWalletlinkWithFallback)(n.universalLink)}}t.TgwalletConnector=a},78380:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(11778),t)},78634:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r,n){this.name=s.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=n,this.client=r,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){return((0,s.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,s.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))?this.client.request(e):this.getHttpProvider().request(e)})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")));(0,s.logDebug)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}t.default=l},78964:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var n=r(52321);let i=e=>e??n.s6},79355:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var n=r(45553),i=r(93481),s=r(10899),o=r(58653),a=r(8567);let c={getCaipTokens(e){if(!e)return;let t={};return Object.entries(e).forEach(([e,r])=>{t[`${a.o.EIP155}:${e}`]=r}),t},isLowerCaseMatch:(e,t)=>e?.toLowerCase()===t?.toLowerCase(),getActiveNamespaceConnectedToAuth(){let e=i.W.state.activeChain;return n.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>s.a.getConnectorId(t)===n.o.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return(n+=1,await e())?i(!0):n>=r?i(!1):(setTimeout(s,t),null)}s()})},userChainIdToChainNamespace(e){if("number"==typeof e)return n.o.CHAIN.EVM;let[t]=e.split(":");return t},getOtherAuthNamespaces:e=>e?n.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(t=>t!==e):[],getConnectorStorageInfo(e,t){let r=o.i.getConnections()[t]??[];return{hasDisconnected:o.i.isConnectorDisconnected(e,t),hasConnected:r.some(t=>c.isLowerCaseMatch(t.connectorId,e))}}}},79764:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonConnectInner=void 0;let s=r(81237),o=r(79864),a=r(35702),c=r(9196),l=r(92278),d=r(4078),h=r(58571);class u{constructor(e){if(this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.openUniversalLink=!!this.provider&&this.provider.openUniversalLink,(0,o.checkMetaData)(e.metaData),!e.metaData)throw(0,o.logDebug)("OKXTonConnect constructor error: options.metaData is nil"),new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"dapp metaData can not be null");(0,o.logDebug)("OKXTonConnect constructor options:",JSON.stringify(e)),this.dappSettings={metaData:Object.assign(Object.assign({},e.metaData),{url:window.location.hostname,origin:window.location.origin})},e.connectors&&0!=e.connectors.length||(e.connectors=[new o.OKXAppConnector,new o.OKXWalletAppConnector]),this.connectors=e.connectors,this.tracker=new c.TonConnectTracker({OKXtonConnectSdkVersion:h.OKXtonConnectSdkVersion}),this.storage=new o.Storage(h.OKXCONNECTOR_TON_KEY+this.dappSettings.metaData.name+h.OKXTON_STORAGE_PREFIX,h.OKXCONNECTOR_TON_KEY),this.bridgeConnectionStorage=new d.BridgeConnectionStorage(this.storage)}get connected(){return null!==this._wallet}get account(){var e;return(null==(e=this._wallet)?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(e=>e(this._wallet))}connect(e){return n(this,void 0,void 0,function*(){var t;return(0,o.logDebug)("ton-Connect ==>> connect_1 >> request:",e),this.connected&&(0,o.logError)("It's already connected to OKX Wallet, please call disconnect() first"),yield null==(t=this.provider)?void 0:t.closeConnection(!1,!0),this.provider||(this.provider=new s.BridgeProvider(this.storage,this.dappSettings.metaData.name,this.connectors)),this.provider.listen(this.walletEventsListener.bind(this)),this.tracker.trackConnectionStarted(),yield this.provider.connect(this.createConnectRequest(e),null==e?void 0:e.redirect,null==e?void 0:e.openUniversalLink,null==e?void 0:e.tmaReturnUrl,null==e?void 0:e.connectWalletType)})}walletEventsListener(e){switch((0,o.logDebug)("ton-Connect ==>> walletEventsListener_1 >> e:",e),e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(e){(0,o.logDebug)("ton-Connect ==>> onWalletConnected_1 >> connectEvent:",e);let t=e.items.find(e=>"ton_addr"===e.name),r=e.items.find(e=>"ton_proof"===e.name);if(!t)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_addr connection item was not found");let n={device:e.device,provider:this.provider.type,account:{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}};r&&(n.connectItems={tonProof:r}),this.wallet=n,(0,o.logDebug)("ton-Connect ==>> onWalletConnected_2 >> wallet:",n),this.tracker.trackConnectionCompleted(n)}onWalletConnectError(e){var t;(0,o.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> connectEventError:",e);let r=new o.OKXConnectError(e.code,e.message);(0,o.logDebug)("ton-Connect ==>> onWalletConnectError_1 >> error:",r),this.statusChangeErrorSubscriptions.forEach(e=>e(r)),this.tracker.trackConnectionError(null!=(t=e.message)?t:"",e.code)}onWalletDisconnected(e){this.tracker.trackDisconnection(this.wallet,e),this.wallet=null}disconnect(){return n(this,void 0,void 0,function*(){var e;if((0,o.logDebug)("ton-Connect ==>> disconnect_1"),!this.connected)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"wallet is not connected");(0,o.logDebug)("ton-Connect ==>> disconnect_222"),this.onWalletDisconnected("dapp"),yield null==(e=this.provider)?void 0:e.disconnect()})}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(t=>t!==e),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(e=>e!==t))}}restoreConnection(){return n(this,void 0,void 0,function*(){var e;(0,o.logDebug)("ton-Connect ==>> restoreConnection_1"),this.tracker.trackConnectionRestoringStarted();let t=null;try{t=yield s.BridgeProvider.fromStorage(this.storage,this.dappSettings.metaData.name,this.connectors)}catch(e){this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),null==t||t.closeConnection(),t=null;return}if(!t){(0,o.logError)("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(0,o.logDebug)("ton-Connect ==>> restoreConnection_2 ==>> Provider is restored "),null==(e=this.provider)||e.closeConnection(!0,!1),this.provider=t,t.listen(this.walletEventsListener.bind(this)),yield this.provider.restoreConnection(),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")})}sendTransaction(e,t){return n(this,void 0,void 0,function*(){var r;(0,o.logDebug)("ton-Connect ==>> sendTransaction_1",e),this.checkConnection(),(0,a.checkSendTransactionSupport)(this.wallet.device.features,{requiredMessagesNumber:e.messages.length}),this.tracker.trackTransactionSentForSignature(this.wallet,e),(0,o.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> check params");let{validUntil:n}=e,s=i(e,["validUntil"]),c=e.from||this.account.address,d=this.account.chain;(0,o.logDebug)("ton-Connect ==>> sendTransaction_2 ==>> await sendRequest",d),!(0,o.isIos)()||(null==t?void 0:t.doNotOpenWallet)||null==(r=this.provider)||r.openOKXWallet();let h=yield this.provider.sendRequest(l.sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},s),{valid_until:n,from:c,network:d})),{onRequestSent:()=>{var e,r;(0,o.isIos)()||(null==t?void 0:t.doNotOpenWallet)||null==(e=this.provider)||e.openOKXWallet(),null==(r=null==t?void 0:t.onRequestSent)||r.call(t)}});if((0,o.logDebug)("ton-Connect ==>> sendTransaction_3 ==>>sendRequest response:",h),l.sendTransactionParser.isError(h))throw this.tracker.trackTransactionSigningFailed(this.wallet,e,h.error.message,h.error.code),new o.OKXConnectError(h.error.code,h.error.message);let u=l.sendTransactionParser.convertFromRpcResponse(h);return this.tracker.trackTransactionSigned(this.wallet,e,u),u})}checkConnection(){if((0,o.logDebug)("ton-Connect ==>> checkConnection"),!this.connected)throw new o.OKXConnectError(o.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Wallet not connected")}createConnectRequest(e){(0,o.logDebug)("ton-Connect ==>> createConnectRequest");let t={ton_addr:{name:"ton_addr"}};return(null==e?void 0:e.tonProof)&&(t.ton_proof={name:"ton_proof",payload:e.tonProof}),{dappInfo:this.dappSettings.metaData,params:t}}static getWallets(){return this.walletsList}}t.OKXTonConnectInner=u,u.walletsList=[(0,o.creatOKXWalletInfo)()]},79864:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46321),t),i(r(14903),t),i(r(71994),t),i(r(86658),t),i(r(6948),t)},79919:(e,t,r)=>{"use strict";var n=r(87358),i=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(void 0===n||void 0===n.domain)throw Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||i.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||i.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||i.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=i.DEFAULT_MAX_PENDING};i.DEFAULT_TIMEOUT=0,i.DEFAULT_MAX_OCCUPATION_TIME=0,i.DEFAULT_MAX_EXECUTION_TIME=0,i.DEFAULT_MAX_PENDING=1e3,i.prototype.acquire=function(e,t,r,i){if(Array.isArray(e))return this._acquireBatch(e,t,r,i);if("function"!=typeof t)throw Error("You must pass a function to execute");var s=null,o=null,a=null;"function"!=typeof r&&(i=r,r=null,a=new this.Promise(function(e,t){s=e,o=t})),i=i||{};var c=!1,l=null,d=null,h=null,u=this,p=function(t,n,i){d&&(clearTimeout(d),d=null),h&&(clearTimeout(h),h=null),t&&(u.queues[e]&&0===u.queues[e].length&&delete u.queues[e],u.domainReentrant&&delete u.domains[e]),c||(a?n?o(n):s(i):"function"==typeof r&&r(n,i),c=!0),t&&u.queues[e]&&u.queues[e].length>0&&u.queues[e].shift()()},f=function(r){if(c)return p(r);l&&(clearTimeout(l),l=null),u.domainReentrant&&r&&(u.domains[e]=n.domain);var s=i.maxExecutionTime||u.maxExecutionTime;if(s&&(h=setTimeout(function(){u.queues[e]&&p(r,Error("Maximum execution time is exceeded "+e))},s)),1===t.length){var o=!1;try{t(function(e,t){o||(o=!0,p(r,e,t))})}catch(e){o||(o=!0,p(r,e))}}else u._promiseTry(function(){return t()}).then(function(e){p(r,void 0,e)},function(e){p(r,e)})};u.domainReentrant&&n.domain&&(f=n.domain.bind(f));var g=i.maxPending||u.maxPending;if(u.queues[e])if(u.domainReentrant&&n.domain&&n.domain===u.domains[e])f(!1);else if(u.queues[e].length>=g)p(!1,Error("Too many pending tasks in queue "+e));else{var m=function(){f(!0)};i.skipQueue?u.queues[e].unshift(m):u.queues[e].push(m);var y=i.timeout||u.timeout;y&&(l=setTimeout(function(){l=null,p(!1,Error("async-lock timed out in queue "+e))},y))}else u.queues[e]=[],f(!0);var b=i.maxOccupationTime||u.maxOccupationTime;if(b&&(d=setTimeout(function(){u.queues[e]&&p(!1,Error("Maximum occupation time is exceeded in queue "+e))},b)),a)return a},i.prototype._acquireBatch=function(e,t,r,n){"function"!=typeof r&&(n=r,r=null);var i=this,s=e.reduceRight(function(e,t){return function(r){i.acquire(t,e,r,n)}},t);if("function"!=typeof r)return new this.Promise(function(e,t){1===s.length?s(function(r,n){r?t(r):e(n)}):e(s())});s(r)},i.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},i.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(e){return this.Promise.reject(e)}},e.exports=i},79983:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=void 0,function(e){e.OKX_TON_CONNECTION_STARTED="okx-ton-connect-connection-started",e.OKX_TON_CONNECTION_COMPLETED="okx-ton-connect-connection-completed",e.OKX_TON_CONNECTION_ERROR="okx-ton-connect-connection-error",e.OKX_TON_CONNECTION_RESTORING_STARTED="okx-ton-connect-connection-restoring-started",e.OKX_TON_CONNECTION_RESTORING_COMPLETED="okx-ton-connect-connection-restoring-completed",e.OKX_TON_CONNECTION_RESTORING_ERROR="okx-ton-connect-connection-restoring-error",e.OKX_TON_DISCONNECTION="okx-ton-connect-disconnection",e.OKX_TON_TRANSACTION_SENT_FOR_SIGNATURE="okx-ton-connect-transaction-sent-for-signature",e.OKX_TON_TRANSACTION_SIGNED="okx-ton-connect-transaction-signed",e.OKX_TON_TRANSACTION_SIGNING_FAILED="okx-ton-connect-transaction-signing-failed"}(r||(t.OKX_TON_CONNECTION_AND_TRANSACTION_EVENT=r={}))},80299:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=r(99766),s=r(79864),o=r(90794),a=r(19476),c=r(30697);class l{constructor(e,t,r){this.name=s.NameSpaceKeyCosmos,this.namespace=e.namespace,this.events=r,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return n(this,void 0,void 0,function*(){if((0,s.logDebug)("cosmos request --args--string>",JSON.stringify(e)),(0,s.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),!this.client.needCheckRequestMethod()||this.namespace.methods.includes(e.method))return this.client.request(e);throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")})}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=(0,o.getChainId)(t),n=(0,o.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(r,n);i&&(e[r]=i)}),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(void 0===t)throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){if(t)return new c.JsonRpcProvider(new a.JsonRpcConnection(t,(0,o.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}t.default=l},80361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},81055:function(e,t,r){var n;n=r(16611),r(38530),function(e){var t=n.lib,r=t.WordArray,i=t.Hasher,s=n.x64.Word,o=n.algo,a=[],c=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){a[e+5*t]=(r+1)*(r+2)/2%64;var n=t%5,i=(2*e+3*t)%5;e=n,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var o=1,d=0;d<24;d++){for(var h=0,u=0,p=0;p<7;p++){if(1&o){var f=(1<<p)-1;f<32?u^=1<<f:h^=1<<f-32}128&o?o=o<<1^113:o<<=1}l[d]=s.create(h,u)}}();for(var d=[],h=0;h<25;h++)d[h]=s.create();var u=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var s=e[t+2*i],o=e[t+2*i+1];s=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,o=(o<<8|o>>>24)&0xff00ff|(o<<24|o>>>8)&0xff00ff00;var h=r[i];h.high^=o,h.low^=s}for(var u=0;u<24;u++){for(var p=0;p<5;p++){for(var f=0,g=0,m=0;m<5;m++){var h=r[p+5*m];f^=h.high,g^=h.low}var y=d[p];y.high=f,y.low=g}for(var p=0;p<5;p++)for(var b=d[(p+4)%5],v=d[(p+1)%5],w=v.high,E=v.low,f=b.high^(w<<1|E>>>31),g=b.low^(E<<1|w>>>31),m=0;m<5;m++){var h=r[p+5*m];h.high^=f,h.low^=g}for(var C=1;C<25;C++){var f,g,h=r[C],_=h.high,O=h.low,x=a[C];x<32?(f=_<<x|O>>>32-x,g=O<<x|_>>>32-x):(f=O<<x-32|_>>>64-x,g=_<<x-32|O>>>64-x);var N=d[c[C]];N.high=f,N.low=g}var A=d[0],S=r[0];A.high=S.high,A.low=S.low;for(var p=0;p<5;p++)for(var m=0;m<5;m++){var C=p+5*m,h=r[C],T=d[C],R=d[(p+1)%5+5*m],I=d[(p+2)%5+5*m];h.high=T.high^~R.high&I.high,h.low=T.low^~R.low&I.low}var h=r[0],P=l[u];h.high^=P.high,h.low^=P.low}},_doFinalize:function(){var t=this._data,n=t.words;this._nDataBytes;var i=8*t.sigBytes,s=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/s)*s>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var o=this._state,a=this.cfg.outputLength/8,c=a/8,l=[],d=0;d<c;d++){var h=o[d],u=h.high,p=h.low;u=(u<<8|u>>>24)&0xff00ff|(u<<24|u>>>8)&0xff00ff00,p=(p<<8|p>>>24)&0xff00ff|(p<<24|p>>>8)&0xff00ff00,l.push(p),l.push(u)}return new r.init(l,a)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});n.SHA3=i._createHelper(u),n.HmacSHA3=i._createHmacHelper(u)}(Math),e.exports=n.SHA3},81237:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.BridgeProvider=void 0;let i=r(1425),s=r(79864),o=r(4078),a=r(58571),c=r(9196);class l{constructor(e,t,r){this.storage=e,this.type="http",this.listeners=[],this.openUniversalLink=!1,this.engine=new s.Engine(t+a.OKXTON_STORAGE_PREFIX),this.engine.registerConnector(r),this.connectionStorage=new o.BridgeConnectionStorage(e),this.tracker=new c.TonConnectTracker({OKXtonConnectSdkVersion:a.OKXtonConnectSdkVersion}),(0,s.getDefaultReporter)().configVersionAndSide("tonsdk-1.5.2","dapp",t)}static fromStorage(e){return n(this,arguments,void 0,function*(e,t,r){(0,s.logDebug)("bridge-provider ==>> fromStorage ==>>storage:",e),(0,s.reportLog)("bridge-provider ==>> fromStorage");let n=new o.BridgeConnectionStorage(e),a=yield n.getHttpConnection();if((0,i.isPendingConnectionHttp)(a))return null;let c=new l(e,t,r);return c.openUniversalLink=a.openUniversalLink,c})}isCryptoEnable(){return this.engine.connectionManager.getCryptoKeyEnable()}connect(e,t,r,i,o){return n(this,void 0,void 0,function*(){return(0,s.logDebug)("bridge-provider ==>> connect_1 ==>>message:",e),(0,s.logDebug)("bridge-provider ==>> connect_1 ==>>redirect:",t),(0,s.logDebug)("bridge-provider ==>> connect_1 ==>>openUniversalLink:",r),(0,s.logDebug)("bridge-provider ==>> connect_1 ==>>tmaReturnUrl:",i),(0,s.reportLog)("bridge-provider ==>> connect"),new Promise((n,a)=>{try{this.openUniversalLink=r,void 0===this.openUniversalLink&&(this.openUniversalLink=(0,s.isMobileUserAgent)());let c={namespace:"ton",chains:["ton:-239"],params:e.params},l=[];e.params.ton_addr&&l.push(e.params.ton_addr),e.params.ton_proof&&l.push(e.params.ton_proof),l.push({name:"requestAccounts",requiredNamespaces:[c]});let d={dappInfo:e.dappInfo,openUniversalUrl:this.openUniversalLink,redirect:t,tmaReturnUrl:i,connectWalletType:o};this.engine.universalConnect(l,d,e=>{(0,s.logDebug)(`bridge-provider: connect: info>>>> ${JSON.stringify(e)}`);try{let{universalLink:t,deepLink:r}=(0,s.getOKXLink)(e.connectRequest);this.tracker.trackConnectionInfoBeforeJump(e),n(t)}catch(e){a(e)}}).then(e=>{(0,s.logDebug)(`bridge-provider: connect: success>>>> ${JSON.stringify(e)}`),this.connectSuccessHandle(e)}).catch(e=>{(0,s.logDebug)(`bridge-provider: connect: catch>>>> ${JSON.stringify(e)}`);let t={event:"connect_error",requestId:Number(Date.now()),payload:{code:e.code,message:e.message}};(0,s.logDebug)("bridge-provider ==>> connectListener_4 ==>>connect_error:",t),this.listeners.forEach(e=>e(t)),a(e)})}catch(e){console.error("bridge-provider connect try catch error:>>>",JSON.stringify(e)),a(e)}})})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(t=>t!==e)}disconnectListener(){return n(this,void 0,void 0,function*(){(0,s.logDebug)("bridge-provider ==>> disconnectListener"),(0,s.reportLog)("bridge-provider ==>> disconnectListener");let e={event:"disconnect",requestId:Number(1),payload:{}};this.listeners.forEach(t=>t(e)),yield this.closeConnection()})}connectSuccessHandle(e){return n(this,void 0,void 0,function*(){var t,r;try{let n=null==(t=e.namespaces)?void 0:t.ton,i=n.payload,o=e.wallet;if(!n||!i||!o||!i.ton_addr)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);i.ton_addr;let a=e.sessionConfig,c=[];i.ton_addr&&c.push(i.ton_addr),i.ton_proof&&c.push(i.ton_proof);let l={platform:o.platform,appName:o.appName,appVersion:o.appVersion,maxProtocolVersion:o.maxProtocolVersion,features:["ton_sendTransaction"]},d={type:"http",lastWalletEventId:Number(Date.now()),connectEvent:{event:"connect",payload:{items:c,device:l}},channelId:e.topic,openUniversalLink:null==a?void 0:a.openUniversalUrl,dappInfo:null==a?void 0:a.dappInfo,connectWalletType:null==a?void 0:a.connectWalletType};(0,s.logDebug)("bridge-provider ==>> connectSuccessHandle_2 ==>>storeConnection:",d),yield this.connectionStorage.storeConnection(d),null==(r=this.engine)||r.addDisconnectListener(this.disconnectListener.bind(this));let h={event:"connect",requestId:d.lastWalletEventId,payload:d.connectEvent.payload};(0,s.logDebug)("bridge-provider ==>> connectSuccessHandle_3 ==>>listeners.forEach:",h),this.listeners.forEach(e=>e(h))}catch(t){(0,s.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>error:",t);let e={event:"connect_error",requestId:Number(Date.now()),payload:{code:s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,message:"Connect success  connectSuccessHandle response error"}};(0,s.logDebug)("bridge-provider ==>> connectSuccessHandle_4 ==>>connect_error:",e),this.listeners.forEach(t=>t(e))}})}closeConnection(){return n(this,arguments,void 0,function*(e=!1,t=!1){var r,n;(0,s.logDebug)("bridge-provider ==>> closeConnection ==>>fromRestore:",e," needOpenUrl:",t),(0,s.reportLog)("bridge-provider ==>> closeConnection"),this.listeners=[],t||(yield null==(r=this.engine)?void 0:r.connectManagerDisconnect(e)),e||(null==(n=this.engine)||n.clearData(),yield this.connectionStorage.removeConnection())})}restoreConnection(){return n(this,void 0,void 0,function*(){var e,t,r;(0,s.logDebug)("bridge-provider ==>> restoreConnection_1"),(0,s.reportLog)("bridge-provider ==>> restoreConnection");let n=yield this.connectionStorage.getHttpConnection();if((0,i.isPendingConnectionHttp)(n))return;let o=n.connectEvent.payload.device.appName===s.OKX_INJECT_WALLET,a=this.engine.connectionManager.getCryptoKeyEnable();if(n&&(a||o))if((0,s.logDebug)("bridge-provider ==>> restoreConnection_2 ==>>storedConnection.channelId:",n.channelId),n.channelId&&n.dappInfo)try{let i={event:"connect",requestId:Number(0),payload:n.connectEvent.payload};this.listeners.forEach(e=>e(i)),this.engine.setConnectConnector(n.connectEvent.payload.device,{dappInfo:n.dappInfo,connectWalletType:n.connectWalletType});let o=n.channelId;(0,s.logDebug)("bridge-provider ==>> restoreConnection_3 ==>>this.engine.restoreConnect:",o),null==(e=this.engine)||e.addDisconnectListener(this.disconnectListener.bind(this)),yield this.engine.restoreconnectFromTopic(o),this.engine.deviceInfo=n.connectEvent.payload.device,(0,s.reportEvent)(s.OKXReportType.PAGE_IN,s.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,null!=(r=null==(t=this.engine.getConnector())?void 0:t.getTag())?r:"")}catch(e){(0,s.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_1"),yield this.closeConnection()}else(0,s.logDebug)("bridge-provider ==>> restoreConnection_4 ==>>closeConnection_2"),yield this.closeConnection()})}openOKXWallet(){(0,s.logDebug)("bridge-provider ==>> openOKXWallet",this.openUniversalLink),(0,s.reportLog)("bridge-provider ==>> openOKXWallet"),this.openUniversalLink&&this.engine.openWallet(void 0,void 0,s.OpenAppLinkType.UniversalLink)}disconnect(){return n(this,void 0,void 0,function*(){return(0,s.logDebug)("bridge-provider ==>> disconnect_1"),(0,s.reportLog)("bridge-provider ==>> disconnect"),new Promise(e=>n(this,void 0,void 0,function*(){let t=!1,r=()=>{t||(t=!0,this.closeConnection().then(e))};try{yield this.sendRequest({method:"disconnect"},{onRequestSent:r,attempts:1})}catch(r){t||this.closeConnection().then(e)}finally{r()}}))})}sendRequest(e,t,r){return(0,s.logDebug)("bridge-provider ==>> sendRequest"),(0,s.reportLog)("bridge-provider ==>> sendRequest"),new Promise((i,o)=>n(this,void 0,void 0,function*(){var n;try{yield null==(n=this.engine)?void 0:n.send(Object.assign(Object.assign({},e),{chainId:s.TON_CHAINS.MAINNET}),{resolve:function(e){i(e)},onAck:function(){var e;null==(e=null==t?void 0:t.onRequestSent)||e.call(t)}},r)}catch(e){o(e)}}))}connectorOpenWallet(){this.engine.openWallet()}}t.BridgeProvider=l},81345:(e,t,r)=>{"use strict";r.d(t,{LU:()=>n,R7:()=>i});let n={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},i={colors:{black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},fontFamily:{regular:"KHTeka",mono:"KHTekaMono"},fontWeight:{regular:"400",medium:"500"},textSize:{h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},typography:{"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},tokens:{core:n.core,theme:n.dark},borderRadius:{1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},spacing:{0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},durations:{xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},easings:{"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"}}},81452:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},81530:function(e,t,r){var n;n=r(16611),r(99229),n.mode.CTRGladman=function(){var e=n.lib.BlockCipherMode.extend();function t(e){if((e>>24&255)==255){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0+(t<<16)+(r<<8)+n}else e+=0x1000000;return e}var r=e.Encryptor=e.extend({processBlock:function(e,r){var n,i=this._cipher,s=i.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),0===((n=a)[0]=t(n[0]))&&(n[1]=t(n[1]));var c=a.slice(0);i.encryptBlock(c,0);for(var l=0;l<s;l++)e[r+l]^=c[l]}});return e.Decryptor=r,e}(),e.exports=n.mode.CTRGladman},81701:(e,t,r)=>{"use strict";r.d(t,{W:()=>y});var n=r(12661),i=r(98866),s=r(12319),o=r(8318),a=r(36964),c=r(72880),l=r(93481),d=r(3824),h=r(10899),u=r(70417),p=r(55480),f=r(6578),g=r(67869);let m=(0,n.BX)({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),y=(0,a.X)({state:m,subscribe:e=>(0,n.B1)(m,()=>e(m)),subscribeKey:(e,t)=>(0,i.u$)(m,e,t),async open(e){let t=e?.namespace,r=l.W.state.activeChain,n=t&&t!==r,i=l.W.getAccountData(e?.namespace)?.caipAddress,a=l.W.state.noAdapters;if(d.x.state.wcBasic?c.N.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await c.N.prefetch(),h.a.setFilterByNamespace(e?.namespace),y.setLoading(!0,t),t&&n){let e=l.W.getNetworkData(t)?.caipNetwork||l.W.getRequestedCaipNetworks(t)[0];e&&(a?(await l.W.switchActiveNetwork(e),g.I.push("ConnectingWalletConnectBasic")):o.L.onSwitchNetwork({network:e,ignoreSwitchConfirmation:!0}))}else p.H.state.manualWCControl||a&&!i?s.w.isMobile()?g.I.reset("AllWallets"):g.I.reset("ConnectingWalletConnectBasic"):e?.view?g.I.reset(e.view,e.data):i?g.I.reset("Account"):g.I.reset("Connect");m.open=!0,f.z.set({open:!0}),u.E.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){let e=p.H.state.enableEmbedded,t=!!l.W.state.activeCaipAddress;m.open&&u.E.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),m.open=!1,g.I.reset("Connect"),y.clearLoading(),e?t?g.I.replace("Account"):g.I.push("Connect"):f.z.set({open:!1}),d.x.resetUri()},setLoading(e,t){t&&m.loadingNamespaceMap.set(t,e),m.loading=e,f.z.set({loading:e})},clearLoading(){m.loadingNamespaceMap.clear(),m.loading=!1,f.z.set({loading:!1})},shake(){m.shake||(m.shake=!0,setTimeout(()=>{m.shake=!1},500))}})},82454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OKXAppConnector=void 0;let n=r(55982),i=r(71994),s=r(56518),o=r(14903),a=r(7769);class c extends a.WsConnector{getType(){return n.CONNECTOR_TYPE.WS.OKX_APP_WALLET}constructor(){super(),this.walletName="OKX App",this.walletNameKey=""}getTag(){return n.OKX_APP_WALLET}openWallet(e,t){super.openWallet(e);let r=null!=t?t:o.OpenAppLinkType.UniversalLink;if(e&&e.connectRequest||!(0,i.isOS)("android")){(0,i.logDebug)(`appwallet-connector openwallet before useSHortLink engineConnectInfo.connectRequest JSON ${JSON.stringify(e)}`);let t=null==e?void 0:e.connectRequest,{universalLink:n,deepLink:s}=(0,i.getOKXLink)(t,o.ConnectWalletType.OKX_APP);(0,i.openOKXDeeplinkWithFallback)(s,n,r)}else(0,i.openDeeplinkWithFallback)(s.okxAppStackDeepLink,()=>{})}}t.OKXAppConnector=c},82544:function(e,t,r){var n;n=r(16611),function(e){var t=n.lib,r=t.WordArray,i=t.Hasher,s=n.algo,o=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=r.create([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),h=r.create([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),u=s.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])},_doProcessBlock:function(e,t){for(var r,n,i,s,u,f,g,m,y,b,v,w,E,C,_,O,x,N,A,S=0;S<16;S++){var T=t+S,R=e[T];e[T]=(R<<8|R>>>24)&0xff00ff|(R<<24|R>>>8)&0xff00ff00}var I=this._hash.words,P=d.words,k=h.words,D=o.words,U=a.words,M=c.words,L=l.words;C=y=I[0],_=b=I[1],O=v=I[2],x=w=I[3],N=E=I[4];for(var S=0;S<80;S+=1){A=y+e[t+D[S]]|0,S<16?A+=(b^v^w)+P[0]:S<32?A+=((r=b)&v|~r&w)+P[1]:S<48?A+=((b|~v)^w)+P[2]:S<64?A+=(n=b,i=v,(n&(s=w)|i&~s)+P[3]):A+=(b^(v|~w))+P[4],A|=0,A=(A=p(A,M[S]))+E|0,y=E,E=w,w=p(v,10),v=b,b=A,A=C+e[t+U[S]]|0,S<16?A+=(_^(O|~x))+k[0]:S<32?A+=(u=_,f=O,(u&(g=x)|f&~g)+k[1]):S<48?A+=((_|~O)^x)+k[2]:S<64?A+=((m=_)&O|~m&x)+k[3]:A+=(_^O^x)+k[4],A|=0,A=(A=p(A,L[S]))+N|0,C=N,N=x,x=p(O,10),O=_,_=A}A=I[1]+v+x|0,I[1]=I[2]+w+N|0,I[2]=I[3]+E+C|0,I[3]=I[4]+y+_|0,I[4]=I[0]+b+O|0,I[0]=A},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=(r<<8|r>>>24)&0xff00ff|(r<<24|r>>>8)&0xff00ff00,e.sigBytes=(t.length+1)*4,this._process();for(var i=this._hash,s=i.words,o=0;o<5;o++){var a=s[o];s[o]=(a<<8|a>>>24)&0xff00ff|(a<<24|a>>>8)&0xff00ff00}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t){return e<<t|e>>>32-t}n.RIPEMD160=i._createHelper(u),n.HmacRIPEMD160=i._createHmacHelper(u)}(Math),e.exports=n.RIPEMD160},83138:(e,t,r)=>{"use strict";r.d(t,{WF:()=>o,AH:()=>n.AH,qy:()=>i.qy,JW:()=>i.JW,iz:()=>n.iz});var n=r(98502),i=r(52321);let s=globalThis;class o extends n.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,i.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i.c0}}o._$litElement$=!0,o.finalized=!0,s.litElementHydrateSupport?.({LitElement:o});let a=s.litElementPolyfillSupport;a?.({LitElement:o}),(s.litElementVersions??=[]).push("4.2.1")},83247:function(e,t,r){var n,i,s;e.exports=void(i=(n=r(16611)).lib.Base,s=n.enc.Utf8,n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,c=o.words,l=0;l<r;l++)a[l]^=0x5c5c5c5c,c[l]^=0x36363636;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}}))},83941:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(58051),i=r(44826),s=r(93481),o=r(3824),a=r(30982),c=r(71305);let l={async getTokenList(e){let t=await i.T.fetchSwapTokens({chainId:e});return t?.tokens?.map(e=>({...e,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=s.W.state.activeCaipNetwork;if(!e)return null;try{if("solana"!==e.chainNamespace)return await i.T.fetchGasPrice({chainId:e.caipNetworkId});{let e=(await o.x?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e}}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:r,sourceTokenDecimals:n}){let s=await i.T.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&r&&n){let e=o.x.parseUnits(r,n)||0;return BigInt(s.allowance)>=e}return!1},async getMyTokensWithBalance(e){let t=await a.Z.getMyTokensWithBalance(e);return n.U.setTokenBalance(t,s.W.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens:e=>e?.map(e=>({...e,address:e?.address?e.address:(0,c.K1)(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},84167:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_ITEM_ERROR_CODES=void 0,function(e){e[e.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",e[e.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"}(r||(t.CONNECT_ITEM_ERROR_CODES=r={}))},84245:e=>{"use strict";e.exports=JSON.parse('{"name":"@okxconnect/core","version":"1.9.0","description":"OKX Connect core","main":"./src/index.js","keywords":["OKXConnect","OKX Connect"],"scripts":{"build":"npx tsc","local":"yarn install && npx tsc","remove":"rm -rf ./src  && rm -rf ./node_modules"},"author":"OKX Wallet","license":"MIT","dependencies":{"@stablelib/ed25519":"^1.0.2","@stablelib/random":"^1.0.1","@stablelib/sha256":"1.0.1","bs58":"^5.0.0","core-js":"2.6.12","cross-fetch":"^4.0.0","crypto-js":"^4.2.0","eventemitter3":"^5.0.1","isutf8":"^4.0.0","localforage":"^1.10.0","multiformats":"9.4.2","process":"^0.11.10","tweetnacl":"^1.0.3","tweetnacl-util":"^0.15.1","ua-parser-js":"^1.0.35","uint8arrays":"3.1.0","@wallet-standard/core":"^1.1.0"},"devDependencies":{"@types/crypto-js":"^4.2.2","@types/ua-parser-js":"^0.7.36","assert":"^2.1.0","eslint":"^9.7.0","events":"^3.3.0","jest":"^29.7.0","ts-loader":"^9.5.1","typescript":"^5.5.2"}}')},84291:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(70703),t),i(r(99397),t),i(r(91395),t),i(r(11979),t),i(r(23349),t)},84344:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(69144),t),i(r(73631),t)},85203:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=s(t,r));return t}(r)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=(function(){return i}).apply(t,[]))||(e.exports=r)}()},85268:(e,t,r)=>{let n=r(89699);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=0x100000000&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){let i=e[t]+r;r<0&&(i+=0x100000000);let s=e[t+1]+n;i>=0x100000000&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,o,a){let c=h[o],l=h[o+1],u=h[a],p=h[a+1];i(d,e,t),s(d,e,c,l);let f=d[n]^d[e],g=d[n+1]^d[e+1];d[n]=g,d[n+1]=f,i(d,r,n),f=d[t]^d[r],g=d[t+1]^d[r+1],d[t]=f>>>24^g<<8,d[t+1]=g>>>24^f<<8,i(d,e,t),s(d,e,u,p),f=d[n]^d[e],g=d[n+1]^d[e+1],d[n]=f>>>16^g<<16,d[n+1]=g>>>16^f<<16,i(d,r,n),f=d[t]^d[r],g=d[t+1]^d[r+1],d[t]=g>>>31^f<<1,d[t+1]=f>>>31^g<<1}let c=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),d=new Uint32Array(32),h=new Uint32Array(32);function u(e,t){let r=0;for(r=0;r<16;r++)d[r]=e.h[r],d[r+16]=c[r];for(d[24]=d[24]^e.t,d[25]=d[25]^e.t/0x100000000,t&&(d[28]=~d[28],d[29]=~d[29]),r=0;r<32;r++)h[r]=o(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,l[16*r+0],l[16*r+1]),a(2,10,18,26,l[16*r+2],l[16*r+3]),a(4,12,20,28,l[16*r+4],l[16*r+5]),a(6,14,22,30,l[16*r+6],l[16*r+7]),a(0,10,20,30,l[16*r+8],l[16*r+9]),a(2,12,22,24,l[16*r+10],l[16*r+11]),a(4,14,16,26,l[16*r+12],l[16*r+13]),a(6,8,18,28,l[16*r+14],l[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^d[r]^d[r+16]}let p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};p.fill(0),p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(let e=0;e<16;e++)i.h[e]=c[e]^o(p,4*e);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,u(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;u(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function y(e,t,r,i,s){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),s&&(s=n.normalizeInput(s));let o=f(r,t,i,s);return g(o,e),m(o)}e.exports={blake2b:y,blake2bHex:function(e,t,r,i,s){let o=y(e,t,r,i,s);return n.toHex(o)},blake2bInit:f,blake2bUpdate:g,blake2bFinal:m}},86658:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45236),t),i(r(78380),t),i(r(84344),t),i(r(7580),t),i(r(11620),t)},87316:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXReporter=t.OKXReportSide=t.OKXReportType=t.versionStr=void 0;let s=i(r(52749)),o=r(75260),a=r(2195),c=r(71994),l=i(r(29832));t.versionStr="1.9.0";let d=["https://www.okx.com/dappstat/wallet-connect","https://www.okx.ac/dappstat/wallet-connect"],h="OKX_RP_UUID_CK",u={headers:{Accept:"*/*","Content-Type":"text/plain"},method:"POST"};t.OKXReportType={PAGE_IN:"page_in",PAGE_OUT:"page_out",CLICK:"click",LOG:"log"},t.OKXReportSide={DAPP:"dapp",WALLET:"wallet"};class p{constructor(){this.currentSide=t.OKXReportSide.DAPP,this.currentVersion=t.versionStr,this.storage=l.default.createInstance({name:"OKXReporter"}),this.recordList=[],this.currentUUID="fjdkakfjsadkfklasdkfsdjkljfklsdjklfioruer3239084dkskfsa"}configVersionAndSide(e,t,r){this.currentVersion=e+o.logVersion,this.currentSide=t,this.appName=r}get recordCacheKey(){return"OKX_RP_CK@"+this.appName}get reportPlatform(){return(0,c.isMobileUserAgent)()?(0,c.isIos)()?"iOS":"android":"pc"}beginReport(){return n(this,void 0,void 0,function*(){this.startErrorCatching();let e=yield this.storage.getItem(this.recordCacheKey),t=yield this.storage.getItem(h);t?this.currentUUID=t:this.storage.setItem(h,this.currentUUID),e&&(this.recordList=e,(0,o.logDebug)("resume records from cache length: ",this.recordList.length),yield this.sendCachedRecords())})}startErrorCatching(){(0,a.getWindow)()&&(0,o.logDebug)("begin capture console error")}cachedErrors(){return this.recordList}sendRecord(e){return n(this,void 0,void 0,function*(){return new Promise((t,r)=>n(this,void 0,void 0,function*(){try{let i=JSON.stringify(e);(0,o.logDebug)("[REPORT] record: ",i);let a=yield((e,...t)=>n(void 0,[e,...t],void 0,function*(e,t={},r=5e3){for(let n of e)try{let e=new AbortController,i=e.signal,o=(0,s.default)(n,Object.assign(Object.assign({},t),{signal:i})),a=new Promise((t,n)=>setTimeout(()=>{e.abort(),n(Error("Request timed out"))},r)),c=yield Promise.race([o,a]);if(c.ok)return c;if(502==c.status)return console.error("Fetch error status 502",n),c}catch(e){console.error(`Fetch error for ${n}:`,e)}throw console.error("'All fetch attempts failed.'"),Error("All fetch attempts failed.")}))(d,Object.assign(Object.assign({},u),{body:i}));(0,o.logDebug)("[REPORT] get rsp:",a),a&&a.status&&200==a.status?(this.recordList=this.recordList.filter(t=>t.timestamp!=e.timestamp||t.content!=e.content),yield this.storage.setItem(this.recordCacheKey,this.recordList),t(!0)):r(!1)}catch(e){(0,o.logDebug)("send record error:",e),t(!0)}}))})}sendRecordContent(e,t,r){return n(this,arguments,void 0,function*(e,t,r,n,i,s,o,c,l){var d,h,u,p;let f=null==(d=(0,a.getWindow)())?void 0:d.location.pathname,g=null==(h=(0,a.getWindow)())?void 0:h.location.origin;f&&g&&(g+=f);let m=null==(u=(0,a.getWindow)())?void 0:u.navigator.language,y=null==(p=(0,a.getWindow)())?void 0:p.navigator.userAgent,b=this.reportPlatform,v={uuid:this.currentUUID,version:this.currentVersion,content:e,action:r,side:this.currentSide,timestamp:new Date().getTime(),url:g,lang:m,type:t,platform:b,"user-agent":y,reverved1:n,reverved2:i,reverved3:s,reverved4:o,reverved5:c,reverved6:l};yield this.markRecordItem(v),yield this.sendRecord(v)})}sendCachedRecords(){return n(this,void 0,void 0,function*(){return new Promise((e,t)=>n(this,void 0,void 0,function*(){let r=this.recordList.map(e=>this.sendRecord(e));(0,o.logDebug)("[REPORT] submit & clean recorded caches begin @",new Date().toUTCString()),Promise.allSettled(r).then(r=>{(0,o.logDebug)("[REPORT] submit & clean recorded caches ends @",new Date().toUTCString());let n=[];r.forEach((e,t)=>{"rejected"==e.status&&n.push(t)}),this.recordList=this.recordList.filter((e,t)=>!n.includes(t)),this.storage.setItem(this.recordCacheKey,this.recordList).then(function(t){e()}).catch(function(e){t(e)})})}))})}markRecordItem(e){return n(this,void 0,void 0,function*(){if(this.recordList.push(e),this.recordList.length>100){let e=this.recordList.length-100;this.recordList.splice(0,e)}return new Promise((t,r)=>{this.storage.setItem(this.recordCacheKey,this.recordList).then(function(r){t(e)}).catch(function(e){r(e)})})})}}t.OKXReporter=p},87598:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectSupportMethods=void 0,t.creatNotSupportMethodItemReplay=function(e){let t=new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return{method:e.method,chainId:e.chainId,error:{code:t.code,message:t.message}}},t.isMobileDiscover=function(){return!!window.okxwallet&&window.okxwallet.mobileDiscoverWallet},t.connectMethodsAdaptOldVersion=function(e,t){return n(this,void 0,void 0,function*(){var r,n,i,c,l;try{(0,s.logDebug)("connectMethodsAdaptOldVersion start params :",JSON.stringify(e));let h={};if("solana_signMessage"===e.method){let i=null==(r=t.namespaces[s.NameSpaceKeySOL])?void 0:r.accounts.filter(function(t){return t.startsWith(e.chainId)})[0],c=(0,a.fromAccountToAddress)(i);if(e.params&&c&&"message"in e.params){let r=e.params.message;if((null==(n=t.wallet)?void 0:n.appName)=="OKX Wallet"){let e=new TextEncoder().encode(r);r=o.default.encode(e)}return e.params={message:r,pubkey:c},e.injectParams=e.params,h={publicKey:c},(0,s.logDebug)("solana_signMessage account and address:",JSON.stringify(i),c),(0,s.logDebug)("solana_signMessage callBackParams:",JSON.stringify(h)),h}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}if("sui_signMessage"===e.method||"sui_signPersonalMessage"===e.method)if("message"in e.params&&e.params.message){let t=JSON.parse(JSON.stringify(e.params.message)),r=Object.values(t),n=new Uint8Array(r),i=new TextDecoder("utf8"),o=btoa(i.decode(n));return e.params={message:atob(o)},e.injectParams={message:n},console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",JSON.stringify(e.params),o),"sui_signMessage"===e.method?h={messageBytes:o,signature:""}:"sui_signPersonalMessage"===e.method&&(h={bytes:o,signature:""}),(0,s.logDebug)("sui_signMessage/sui_signPersonalMessage callBackParams:",JSON.stringify(h)),h}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);if("btc_signMessage"===e.method){let r=(null==(i=t.namespaces[s.NameSpaceKeyBtc])?void 0:i.accounts.filter(function(t){return t.startsWith(e.chainId)}))[0],n=(0,a.fromAccountToAddress)(r);if((0,s.logDebug)("btc_signMessage account and address:",JSON.stringify(r),n),n){if("message"in e.params&&e.params.message&&"string"==typeof e.params.message)e.params={from:n,signStr:e.params.message};else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);return e.params.from=n,(0,s.logDebug)("btc_signMessage callBackParams:",JSON.stringify(h)),h}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if("aptos_signMessage"===e.method){let r=e.params,n=null==(c=t.namespaces[s.NameSpaceKeyAptos])?void 0:c.accounts.filter(function(t){return t.startsWith(e.chainId)})[0],i=(0,a.fromAccountToAddress)(n);if(r&&i){let t="APTOS",n="",o="";var d=t;let a=window.location.protocol+"//"+window.location.hostname;"address"in r&&r.address&&(d+="\naddress: "+i),"application"in r&&r.application&&(d+="\napplication: "+a);let c=1;"chainId"in r&&r.chainId&&("aptos:mainnet"==r.chainId?c=1:"movement:testnet"==r.chainId&&(c=2),d+="\nchainId: "+c),"message"in r&&(d+="\nmessage: "+r.message,n=r.message),"nonce"in r&&(d+="\nnonce: "+r.nonce,o=r.nonce);let l=new TextEncoder().encode(d);return e.params={message:Array.from(l).map(e=>e.toString(16).padStart(2,"0")).join("")},e.injectParams=r,(0,s.logDebug)("aptos_signMessage requestParams:",JSON.stringify(e)),h={address:i,application:a,chainId:c,fullMessage:d,message:n,nonce:o,prefix:t,signature:""},(0,s.logDebug)("aptos_signMessage callBackParams:",JSON.stringify(h)),h}throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}else if("cosmos_signArbitrary"===e.method){let r=null==(l=null==t?void 0:t.namespaces[s.NameSpaceKeyCosmos])?void 0:l.accounts.filter(function(t){return t.startsWith(e.chainId)})[0],n=(0,a.fromAccountToAddress)(r),i=e.params.message,o=btoa(i);if((0,s.logDebug)("cosmos_signArbitrary account and address:",JSON.stringify(r),n),(0,s.logDebug)("cosmos_signArbitrary cosmosBase64Encoded:",o),i&&n)return e.params={signer:n,chain_id:e.chainId.split(":")[1],data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:n,data:o}}],memo:""}},(0,s.logDebug)("cosmos_signArbitrary callBackParams:",JSON.stringify(h)),h;throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED)}(0,s.logDebug)("sol_handleSignatureData end params:",JSON.stringify(e))}catch(e){throw e}})},t.connectMethodsResponseUpdate=function(e,t){return n(this,void 0,void 0,function*(){var r;try{if(e.signResponse){for(let n of((0,s.logDebug)("connectMethodsResponseUpdate signResponse:",JSON.stringify(e.signResponse)),(0,s.logDebug)("connectMethodsResponseUpdate session.namespaces:",JSON.stringify(e.namespaces)),e.signResponse))if((0,s.logDebug)("connectMethodsResponseUpdate methodItem:",JSON.stringify(n)),"result"in n)if("solana_signMessage"===n.method){let t=n.result;(0,s.logDebug)("solana_signMessage methodItem.chainId:",n.chainId);let i=null==(r=e.namespaces[s.NameSpaceKeySOL])?void 0:r.accounts.filter(function(e){return(0,s.logDebug)("solana_signMessage account:",e),e.startsWith(n.chainId)})[0];(0,s.logDebug)("solana_signMessage result account:",t,i),t&&i&&(n.result={signature:o.default.decode(t),publicKey:(0,a.fromAccountToAddress)(i)})}else if("sui_signMessage"===n.method||"sui_signPersonalMessage"===n.method){let e=t.filter(function(e){return e.method===n.method})[0];if(e&&e.params&&"message"in e.params){let t=e.params.message,r=btoa(t);console.log("sui_signMessag suiMessagee suiMessageb64:>>>>",t,r),"sui_signMessage"===n.method?n.result={messageBytes:r,signature:n.result}:"sui_signPersonalMessage"===n.method&&(n.result={bytes:r,signature:n.result})}}else if("aptos_signMessage"===n.method){if(n.chainId=(0,s.replaceChainIdToChainName)(n.chainId),n.result=JSON.parse(n.result),console.log("aptos_signMessage result methodItem.result before:>>>>",JSON.stringify(n.result)),n.result&&"signature"in n.result){let e=n.result.signature;e&&e.startsWith("0x")&&(e=e.slice(2,e.length),n.result.signature=e)}console.log("aptos_signMessage result methodItem.result after:>>>>",JSON.stringify(n.result))}else if("cosmos_signArbitrary"===n.method)n.result=JSON.parse(n.result);else if("starknet_signMessage"==n.method){let e=n.result;"string"==typeof e&&(e=JSON.parse(e)),n.result=[e.signedDataR,e.signedDataS]}else"sync_all_addresses"==n.method&&(n.result=l(n.result))}}catch(e){throw(0,s.logDebug)("connectMethodsResponseUpdate signResponse Error:",JSON.stringify(e)),e}})},t.connectMethodsToConnectWalletMethods=function(e,r){return n(this,void 0,void 0,function*(){try{(0,s.logDebug)("connectMethodsToConnectWalletMethods requestMethods:",JSON.stringify(e));let d=[];if(e&&e.length>1)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"connectAndSign/openModalAndSign signRequest only support one data");if(!r&&e&&e.length>0)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Connect request params error , RequestMethods cannot be added when the NameSpace is empty");for(let t of e)if("aptos_signMessage"===t.method&&(t.chainId=(0,s.replaceChainNameToChainId)(t.chainId)),"wallet_addEthereumChain"===t.method){if(!(null==r?void 0:r.some(e=>e.namespace.includes("eip155"))))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${t.method}', the EVM chain needs to be included in the NameSpace`)}else if("sync_all_addresses"===t.method)if((0,a.syncAddressHostAvailable)())t.chainId="";else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED);else if(!(null==r?void 0:r.some(e=>e.chains.some(e=>e.includes(`${t.chainId}`)))))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Connect request params error, When using '${t.method}', NameSpace must contain '${t.chainId}'`);for(let r of e){if(!t.connectSupportMethods.includes(r.method))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect requestMethods not support method, method: '${r.method}'`);if("wallet_addEthereumChain"===r.method){if(Array.isArray(r.params)){let e=r.params;if(e&&1===e.length){let t=e[0];c(t)&&(r.params=t)}else if(e&&e.length>1)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params only support one data, method: '${r.method}'`);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is nil, method: '${r.method}'`)}}else if("personal_sign"===r.method){var n;if(n=r.params,"object"==typeof n&&null!==n&&Array.isArray(n)){if(r.params&&1!==r.params.length)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params error,  method: '${r.method}' `);let e=r.params[0];if(e&&"string"==typeof e)r.params={message:e};else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `)}}else if("sui_signMessage"===r.method||"sui_signPersonalMessage"===r.method)if(c(r.params)&&"message"in r.params)if(r.params.message){(0,s.logDebug)("sui_signMessage item.params.message :",r.params.message);let e=JSON.parse(JSON.stringify(r.params.message)),t=Object.values(e),n=new Uint8Array(t),i=new TextDecoder("utf8"),o=btoa(i.decode(n));r.params.message=atob(o)}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else if("solana_signMessage"===r.method)if(c(r.params)&&"message"in r.params)if(r.params.message&&"string"==typeof r.params.message){let e=new TextEncoder().encode(r.params.message);r.params.bs58Message=o.default.encode(e)}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else if("aptos_signMessage"===r.method)if(c(r.params))if(r.chainId){var i=r.params,l=window.location.protocol+"//"+window.location.hostname;let e=1;"aptos:637"===r.chainId||"aptos:70000060"===r.chainId&&(e=2),r.params={data:i,applicationUrl:l,prefix:"APTOS",aptosChainId:e}}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else if("cosmos_signArbitrary"===r.method)if(c(r.params))if(r.params.message&&"string"==typeof r.params.message){let e=btoa(r.params.message),t=r.chainId.split(":")[1];if(t)r.params={chain_id:t,data:{chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:"",data:e}}],memo:""}};else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params chainId is error,  method: '${r.method}' `)}else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params message is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else if("tron_signMessage"==r.method)if(c(r.params))if("message"in r.params&&r.params.message&&"string"==typeof r.params.message)r.params.message=function(e){let t="";for(let r=0;r<e.length;r++)t+=e.charCodeAt(r).toString(16).padStart(2,"0");return t}(r.params.message);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else if("btc_signMessage"==r.method)if(c(r.params))if("message"in r.params&&r.params.message&&"string"==typeof r.params.message)r.params={signStr:r.params.message};else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);else throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`connect request params is error,  method: '${r.method}' `);(0,s.logDebug)("connectMethodsToConnectWalletMethods item:",JSON.stringify(r)),d.push(r)}return d}catch(e){throw e}})},t.syncResoonseToRequire=l;let s=r(79864),o=i(r(75245)),a=r(72040);function c(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function l(e){let t=JSON.parse(e);return{type:t.type,isEvm:t.isEvm,walletName:t.walletName,deriveName:t.deriveName,addresses:t.addresses.map(e=>({coinId:e.ci,address:e.a&&"null"!==e.a?e.a:t.evmAddress}))}}t.connectSupportMethods=Object.freeze(["personal_sign","sui_signMessage","sui_signPersonalMessage","btc_signMessage","aptos_signMessage","cosmos_signArbitrary","tron_signMessage","tron_signMessageV2","starknet_signMessage","sync_all_addresses"])},87796:function(e,t,r){var n;n=r(16611),r(9956),r(11816),r(93524),r(99229),function(){var e=n.lib,t=e.WordArray,r=e.BlockCipher,i=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,0x10000000:32768,0x20000000:8421378,0x30000000:2,0x40000000:512,0x50000000:8421890,0x60000000:8389122,0x70000000:8388608,0x80000000:514,0x90000000:8389120,0xa0000000:33280,0xb0000000:8421376,0xc0000000:32770,0xd0000000:8388610,0xe0000000:0,0xf0000000:33282,0x8000000:0,0x18000000:8421890,0x28000000:33282,0x38000000:32768,0x48000000:8421888,0x58000000:512,0x68000000:8421378,0x78000000:2,0x88000000:8389120,0x98000000:33280,0xa8000000:8421376,0xb8000000:8389122,0xc8000000:8388610,0xd8000000:32770,0xe8000000:514,0xf8000000:8388608,1:32768,0x10000001:2,0x20000001:8421888,0x30000001:8388608,0x40000001:8421378,0x50000001:33280,0x60000001:512,0x70000001:8389122,0x80000001:8421890,0x90000001:8421376,0xa0000001:8388610,0xb0000001:33282,0xc0000001:514,0xd0000001:8389120,0xe0000001:32770,0xf0000001:0,0x8000001:8421890,0x18000001:8421376,0x28000001:8388608,0x38000001:512,0x48000001:32768,0x58000001:8388610,0x68000001:2,0x78000001:33282,0x88000001:32770,0x98000001:8389122,0xa8000001:514,0xb8000001:8421888,0xc8000001:8389120,0xd8000001:0,0xe8000001:33280,0xf8000001:8421378},{0:0x40084010,0x1000000:16384,0x2000000:524288,0x3000000:0x40080010,0x4000000:0x40000010,0x5000000:0x40084000,0x6000000:0x40004000,0x7000000:16,0x8000000:540672,0x9000000:0x40004010,0xa000000:0x40000000,0xb000000:540688,0xc000000:524304,0xd000000:0,0xe000000:16400,0xf000000:0x40080000,8388608:0x40004000,0x1800000:540688,0x2800000:16,0x3800000:0x40004010,0x4800000:0x40084010,0x5800000:0x40000000,0x6800000:524288,0x7800000:0x40080010,0x8800000:524304,0x9800000:0,0xa800000:16384,0xb800000:0x40080000,0xc800000:0x40000010,0xd800000:540672,0xe800000:0x40084000,0xf800000:16400,0x10000000:0,0x11000000:0x40080010,0x12000000:0x40004010,0x13000000:0x40084000,0x14000000:0x40080000,0x15000000:16,0x16000000:540688,0x17000000:16384,0x18000000:16400,0x19000000:524288,0x1a000000:524304,0x1b000000:0x40000010,0x1c000000:540672,0x1d000000:0x40004000,0x1e000000:0x40000000,0x1f000000:0x40084010,0x10800000:540688,0x11800000:524288,0x12800000:0x40080000,0x13800000:16384,0x14800000:0x40004000,0x15800000:0x40084010,0x16800000:16,0x17800000:0x40000000,0x18800000:0x40084000,0x19800000:0x40000010,0x1a800000:0x40004010,0x1b800000:524304,0x1c800000:0,0x1d800000:16400,0x1e800000:0x40080010,0x1f800000:540672},{0:260,1048576:0,2097152:0x4000100,3145728:65796,4194304:65540,5242880:0x4000004,6291456:0x4010104,7340032:0x4010000,8388608:0x4000000,9437184:0x4010100,0xa00000:65792,0xb00000:0x4010004,0xc00000:0x4000104,0xd00000:65536,0xe00000:4,0xf00000:256,524288:0x4010100,1572864:0x4010004,2621440:0,3670016:0x4000100,4718592:0x4000004,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,0xa80000:0x4010000,0xb80000:65796,0xc80000:65792,0xd80000:0x4000104,0xe80000:0x4010104,0xf80000:0x4000000,0x1000000:0x4010100,0x1100000:65540,0x1200000:65536,0x1300000:0x4000100,0x1400000:256,0x1500000:0x4010104,0x1600000:0x4000004,0x1700000:0,0x1800000:0x4000104,0x1900000:0x4000000,0x1a00000:4,0x1b00000:65792,0x1c00000:0x4010000,0x1d00000:260,0x1e00000:65796,0x1f00000:0x4010004,0x1080000:0x4000000,0x1180000:260,0x1280000:0x4010100,0x1380000:0,0x1480000:65540,0x1580000:0x4000100,0x1680000:256,0x1780000:0x4010004,0x1880000:65536,0x1980000:0x4010104,0x1a80000:65796,0x1b80000:0x4000004,0x1c80000:0x4000104,0x1d80000:0x4010000,0x1e80000:4,0x1f80000:65792},{0:0x80401000,65536:0x80001040,131072:4198464,196608:0x80400000,262144:0,327680:4198400,393216:0x80000040,458752:4194368,524288:0x80000000,589824:4194304,655360:64,720896:0x80001000,786432:0x80400040,851968:4160,917504:4096,983040:0x80401040,32768:0x80001040,98304:64,163840:0x80400040,229376:0x80001000,294912:4198400,360448:0x80401040,425984:0,491520:0x80400000,557056:4096,622592:0x80401000,688128:4194304,753664:4160,819200:0x80000000,884736:4194368,950272:4198464,1015808:0x80000040,1048576:4194368,1114112:4198400,1179648:0x80000040,1245184:0,1310720:4160,1376256:0x80400040,1441792:0x80401000,1507328:0x80001040,1572864:0x80401040,1638400:0x80000000,1703936:0x80400000,1769472:4198464,1835008:0x80001000,1900544:4194304,1966080:64,2031616:4096,1081344:0x80400000,1146880:0x80401040,1212416:0,1277952:4198400,1343488:4194368,1409024:0x80000000,1474560:0x80001040,1540096:64,1605632:0x80000040,1671168:4096,1736704:0x80001000,1802240:0x80400040,1867776:4160,1933312:0x80401000,1998848:4194304,2064384:4198464},{0:128,4096:0x1040000,8192:262144,12288:0x20000000,16384:0x20040080,20480:0x1000080,24576:0x21000080,28672:262272,32768:0x1000000,36864:0x20040000,40960:0x20000080,45056:0x21040080,49152:0x21040000,53248:0,57344:0x1040080,61440:0x21000000,2048:0x1040080,6144:0x21000080,10240:128,14336:0x1040000,18432:262144,22528:0x20040080,26624:0x21040000,30720:0x20000000,34816:0x20040000,38912:0,43008:0x21040080,47104:0x1000080,51200:0x20000080,55296:0x21000000,59392:0x1000000,63488:262272,65536:262144,69632:128,73728:0x20000000,77824:0x21000080,81920:0x1000080,86016:0x21040000,90112:0x20040080,94208:0x1000000,98304:0x21040080,102400:0x21000000,106496:0x1040000,110592:0x20040000,114688:262272,118784:0x20000080,122880:0,126976:0x1040080,67584:0x21000080,71680:0x1000000,75776:0x1040000,79872:0x20040080,83968:0x20000000,88064:0x1040080,92160:128,96256:0x21040000,100352:262272,104448:0x21040080,108544:0,112640:0x21000000,116736:0x1000080,120832:262144,124928:0x20040000,129024:0x20000080},{0:0x10000008,256:8192,512:0x10200000,768:0x10202008,1024:0x10002000,1280:2097152,1536:2097160,1792:0x10000000,2048:0,2304:0x10002008,2560:2105344,2816:8,3072:0x10200008,3328:2105352,3584:8200,3840:0x10202000,128:0x10200000,384:0x10202008,640:8,896:2097152,1152:2105352,1408:0x10000008,1664:0x10002000,1920:8200,2176:2097160,2432:8192,2688:0x10002008,2944:0x10200008,3200:0,3456:0x10202000,3712:2105344,3968:0x10000000,4096:0x10002000,4352:0x10200008,4608:0x10202008,4864:8200,5120:2097152,5376:0x10000000,5632:0x10000008,5888:2105344,6144:2105352,6400:0,6656:8,6912:0x10200000,7168:8192,7424:0x10002008,7680:0x10202000,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:0x10000008,5248:0x10002000,5504:8200,5760:0x10202008,6016:0x10200000,6272:0x10202000,6528:0x10200008,6784:8192,7040:2105352,7296:2097160,7552:0,7808:0x10000000,8064:0x10002008},{0:1048576,16:0x2000401,32:1024,48:1049601,64:0x2100401,80:0,96:1,112:0x2100001,128:0x2000400,144:1048577,160:0x2000001,176:0x2100400,192:0x2100000,208:1025,224:1049600,240:0x2000000,8:0x2100001,24:0,40:0x2000401,56:0x2100400,72:1048576,88:0x2000001,104:0x2000000,120:1025,136:1049601,152:0x2000400,168:0x2100000,184:1048577,200:1024,216:0x2100401,232:1,248:1049600,256:0x2000000,272:1048576,288:0x2000401,304:0x2100001,320:1048577,336:0x2000400,352:0x2100400,368:1049601,384:1025,400:0x2100401,416:1049600,432:1,448:0,464:0x2100000,480:0x2000001,496:1024,264:1049600,280:0x2000401,296:0x2100001,312:1,328:0x2000000,344:1048576,360:1025,376:0x2100400,392:0x2000001,408:0x2100000,424:0,440:0x2100401,456:1049601,472:1024,488:0x2000400,504:1048577},{0:0x8000820,1:131072,2:0x8000000,3:32,4:131104,5:0x8020820,6:0x8020800,7:2048,8:0x8020000,9:0x8000800,10:133120,11:0x8020020,12:2080,13:0,14:0x8000020,15:133152,0x80000000:2048,0x80000001:0x8020820,0x80000002:0x8000820,0x80000003:0x8000000,0x80000004:0x8020000,0x80000005:133120,0x80000006:133152,0x80000007:32,0x80000008:0x8000020,0x80000009:2080,0x8000000a:131104,0x8000000b:0x8020800,0x8000000c:0,0x8000000d:0x8020020,0x8000000e:0x8000800,0x8000000f:131072,16:133152,17:0x8020800,18:32,19:2048,20:0x8000800,21:0x8000020,22:0x8020020,23:131072,24:0,25:131104,26:0x8020000,27:0x8000820,28:0x8020820,29:133120,30:2080,31:0x8000000,0x80000010:131072,0x80000011:2048,0x80000012:0x8020020,0x80000013:133152,0x80000014:32,0x80000015:0x8020000,0x80000016:0x8000000,0x80000017:0x8000820,0x80000018:0x8020820,0x80000019:0x8000020,0x8000001a:0x8000800,0x8000001b:0,0x8000001c:133120,0x8000001d:2080,0x8000001e:131104,0x8000001f:0x8020800}],l=[0xf8000001,0x1f800000,0x1f80000,2064384,129024,8064,504,0x8000001f],d=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=s[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],c=0;c<16;c++){for(var l=i[c]=[],d=a[c],r=0;r<24;r++)l[r/6|0]|=t[(o[r]-1+d)%28]<<31-r%6,l[4+(r/6|0)]|=t[28+(o[r+24]-1+d)%28]<<31-r%6;l[0]=l[0]<<1|l[0]>>>31;for(var r=1;r<7;r++)l[r]=l[r]>>>(r-1)*4+3;l[7]=l[7]<<5|l[7]>>>27}for(var h=this._invSubKeys=[],r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,0xf0f0f0f),h.call(this,16,65535),u.call(this,2,0x33333333),u.call(this,8,0xff00ff),h.call(this,1,0x55555555);for(var n=0;n<16;n++){for(var i=r[n],s=this._lBlock,o=this._rBlock,a=0,d=0;d<8;d++)a|=c[d][((o^i[d])&l[d])>>>0];this._lBlock=o,this._rBlock=s^a}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,h.call(this,1,0x55555555),u.call(this,8,0xff00ff),u.call(this,2,0x33333333),h.call(this,16,65535),h.call(this,4,0xf0f0f0f),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function u(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}n.DES=r._createHelper(d);var p=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var r=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(t.create(r)),this._des2=d.createEncryptor(t.create(n)),this._des3=d.createEncryptor(t.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});n.TripleDES=r._createHelper(p)}(),e.exports=n.TripleDES},87822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(11870);n.__exportStar(r(64663),t),n.__exportStar(r(91609),t)},88395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},88478:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXStarknetProvider=t.OKXTronProvider=t.OKXTonProvider=t.OKXCosmosProvider=t.OKXBtcProvider=t.OKXUniversalProvider=void 0,i(r(89446),t),i(r(97388),t);var s=r(38096);Object.defineProperty(t,"OKXUniversalProvider",{enumerable:!0,get:function(){return s.OKXUniversalProvider}});var o=r(4138);Object.defineProperty(t,"OKXBtcProvider",{enumerable:!0,get:function(){return o.OKXBtcProvider}});var a=r(29117);Object.defineProperty(t,"OKXCosmosProvider",{enumerable:!0,get:function(){return a.OKXCosmosProvider}});var c=r(98492);Object.defineProperty(t,"OKXTonProvider",{enumerable:!0,get:function(){return c.OKXTonProvider}});var l=r(68222);Object.defineProperty(t,"OKXTronProvider",{enumerable:!0,get:function(){return l.OKXTronProvider}});var d=r(36697);Object.defineProperty(t,"OKXStarknetProvider",{enumerable:!0,get:function(){return d.OKXStarknetProvider}}),i(r(79864),t)},88737:(e,t,r)=>{"use strict";r.d(t,{A7:()=>s,BG:()=>o,Fo:()=>p,K0:()=>c,Oh:()=>l,RM:()=>m,jj:()=>a,k5:()=>h,lN:()=>g,lY:()=>u,uC:()=>f,vW:()=>d});var n=r(42503),i=r(13933);class s extends i.C{constructor({cause:e,message:t}={}){let r=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(s,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class o extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(o,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class a extends i.C{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${(0,n.Q)(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class c extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(c,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class l extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(l,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class d extends i.C{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class h extends i.C{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(h,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class u extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(u,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class p extends i.C{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(p,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class f extends i.C{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(f,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class g extends i.C{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${(0,n.Q)(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${(0,n.Q)(r)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(g,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class m extends i.C{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}},88759:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,r,n){var i=n&&n.stringify||t;if("object"==typeof e&&null!==e){var s=r.length+1;if(1===s)return e;var o=Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof e)return e;var c=r.length;if(0===c)return e;for(var l="",d=0,h=-1,u=e&&e.length||0,p=0;p<u;){if(37===e.charCodeAt(p)&&p+1<u){switch(h=h>-1?h:0,e.charCodeAt(p+1)){case 100:case 102:if(d>=c||null==r[d])break;h<p&&(l+=e.slice(h,p)),l+=Number(r[d]),h=p+2,p++;break;case 105:if(d>=c||null==r[d])break;h<p&&(l+=e.slice(h,p)),l+=Math.floor(Number(r[d])),h=p+2,p++;break;case 79:case 111:case 106:if(d>=c||void 0===r[d])break;h<p&&(l+=e.slice(h,p));var f=typeof r[d];if("string"===f){l+="'"+r[d]+"'",h=p+2,p++;break}if("function"===f){l+=r[d].name||"<anonymous>",h=p+2,p++;break}l+=i(r[d]),h=p+2,p++;break;case 115:if(d>=c)break;h<p&&(l+=e.slice(h,p)),l+=String(r[d]),h=p+2,p++;break;case 37:h<p&&(l+=e.slice(h,p)),l+="%",h=p+2,p++,d--}++d}++p}return -1===h?e:(h<u&&(l+=e.slice(h)),l)}},88955:(e,t,r)=>{"use strict";t.g=void 0;let n=r(26662);t.g=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(e){return null}function i(...t){let r=e.getElementsByTagName("meta");for(let e=0;e<r.length;e++){let n=r[e],i=["itemprop","property","name"].map(e=>n.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(i.length&&i){let e=n.getAttribute("content");if(e)return e}}return""}let s=((r=i("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),o=i("description","og:description","twitter:description","keywords"),a=t.origin;return{description:o,url:a,icons:function(){let r=e.getElementsByTagName("link"),n=[];for(let e=0;e<r.length;e++){let i=r[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let r=t.protocol+"//"+t.host;if(0===e.indexOf("/"))r+=e;else{let n=t.pathname.split("/");n.pop(),r+=n.join("/")+"/"+e}n.push(r)}else if(0===e.indexOf("//")){let r=t.protocol+e;n.push(r)}else n.push(e)}}return n}(),name:s}}},89446:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65784),t),i(r(90866),t)},89600:(e,t,r)=>{"use strict";r.d(t,{R:()=>i});var n=r(93965);let i={EmbeddedWalletAbortController:new AbortController,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${(0,n.IP)()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}}},89643:function(e,t,r){var n;n=r(16611),r(99229),n.pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,s=r+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.exports=n.pad.Ansix923},89699:e=>{function t(e){return(0x100000000+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let s=0;s<r.length;s+=2){if(32===n)i+=t(r[s]).toUpperCase(),i+=" ",i+=t(r[s+1]).toUpperCase();else if(64===n)i+=t(r[s+1]).toUpperCase(),i+=t(r[s]).toUpperCase();else throw Error("Invalid size "+n);s%6==4?i+="\n"+Array(e.length+4).join(" "):s<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let s=new Date().getTime();console.log("Generated random input in "+(s-n)+"ms"),n=s;for(let s=0;s<r;s++){let r=e(i),s=new Date().getTime(),o=s-n;n=s,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(o/1e3)*100)/100+" MB PER SECOND")}}}},89774:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;let n=r(97762),i=r(29852),s=r(89962);function o(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32,new Uint8Array(32)[0]=9;let a=o(),c=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function g(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function m(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function y(e,t){let r=o(),n=o();for(let e=0;e<16;e++)n[e]=t[e];g(n),g(n),g(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,m(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}function b(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function v(e,t){let r=new Uint8Array(32),n=new Uint8Array(32);return y(r,e),y(n,t),b(r,n)}function w(e){let t=new Uint8Array(32);return y(t,e),1&t[0]}function E(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function C(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function _(e,t,r){let n,i,s=0,o=0,a=0,c=0,l=0,d=0,h=0,u=0,p=0,f=0,g=0,m=0,y=0,b=0,v=0,w=0,E=0,C=0,_=0,O=0,x=0,N=0,A=0,S=0,T=0,R=0,I=0,P=0,k=0,D=0,U=0,M=r[0],L=r[1],j=r[2],B=r[3],W=r[4],K=r[5],H=r[6],F=r[7],q=r[8],X=r[9],V=r[10],z=r[11],$=r[12],G=r[13],J=r[14],Z=r[15];s+=(n=t[0])*M,o+=n*L,a+=n*j,c+=n*B,l+=n*W,d+=n*K,h+=n*H,u+=n*F,p+=n*q,f+=n*X,g+=n*V,m+=n*z,y+=n*$,b+=n*G,v+=n*J,w+=n*Z,o+=(n=t[1])*M,a+=n*L,c+=n*j,l+=n*B,d+=n*W,h+=n*K,u+=n*H,p+=n*F,f+=n*q,g+=n*X,m+=n*V,y+=n*z,b+=n*$,v+=n*G,w+=n*J,E+=n*Z,a+=(n=t[2])*M,c+=n*L,l+=n*j,d+=n*B,h+=n*W,u+=n*K,p+=n*H,f+=n*F,g+=n*q,m+=n*X,y+=n*V,b+=n*z,v+=n*$,w+=n*G,E+=n*J,C+=n*Z,c+=(n=t[3])*M,l+=n*L,d+=n*j,h+=n*B,u+=n*W,p+=n*K,f+=n*H,g+=n*F,m+=n*q,y+=n*X,b+=n*V,v+=n*z,w+=n*$,E+=n*G,C+=n*J,_+=n*Z,l+=(n=t[4])*M,d+=n*L,h+=n*j,u+=n*B,p+=n*W,f+=n*K,g+=n*H,m+=n*F,y+=n*q,b+=n*X,v+=n*V,w+=n*z,E+=n*$,C+=n*G,_+=n*J,O+=n*Z,d+=(n=t[5])*M,h+=n*L,u+=n*j,p+=n*B,f+=n*W,g+=n*K,m+=n*H,y+=n*F,b+=n*q,v+=n*X,w+=n*V,E+=n*z,C+=n*$,_+=n*G,O+=n*J,x+=n*Z,h+=(n=t[6])*M,u+=n*L,p+=n*j,f+=n*B,g+=n*W,m+=n*K,y+=n*H,b+=n*F,v+=n*q,w+=n*X,E+=n*V,C+=n*z,_+=n*$,O+=n*G,x+=n*J,N+=n*Z,u+=(n=t[7])*M,p+=n*L,f+=n*j,g+=n*B,m+=n*W,y+=n*K,b+=n*H,v+=n*F,w+=n*q,E+=n*X,C+=n*V,_+=n*z,O+=n*$,x+=n*G,N+=n*J,A+=n*Z,p+=(n=t[8])*M,f+=n*L,g+=n*j,m+=n*B,y+=n*W,b+=n*K,v+=n*H,w+=n*F,E+=n*q,C+=n*X,_+=n*V,O+=n*z,x+=n*$,N+=n*G,A+=n*J,S+=n*Z,f+=(n=t[9])*M,g+=n*L,m+=n*j,y+=n*B,b+=n*W,v+=n*K,w+=n*H,E+=n*F,C+=n*q,_+=n*X,O+=n*V,x+=n*z,N+=n*$,A+=n*G,S+=n*J,T+=n*Z,g+=(n=t[10])*M,m+=n*L,y+=n*j,b+=n*B,v+=n*W,w+=n*K,E+=n*H,C+=n*F,_+=n*q,O+=n*X,x+=n*V,N+=n*z,A+=n*$,S+=n*G,T+=n*J,R+=n*Z,m+=(n=t[11])*M,y+=n*L,b+=n*j,v+=n*B,w+=n*W,E+=n*K,C+=n*H,_+=n*F,O+=n*q,x+=n*X,N+=n*V,A+=n*z,S+=n*$,T+=n*G,R+=n*J,I+=n*Z,y+=(n=t[12])*M,b+=n*L,v+=n*j,w+=n*B,E+=n*W,C+=n*K,_+=n*H,O+=n*F,x+=n*q,N+=n*X,A+=n*V,S+=n*z,T+=n*$,R+=n*G,I+=n*J,P+=n*Z,b+=(n=t[13])*M,v+=n*L,w+=n*j,E+=n*B,C+=n*W,_+=n*K,O+=n*H,x+=n*F,N+=n*q,A+=n*X,S+=n*V,T+=n*z,R+=n*$,I+=n*G,P+=n*J,k+=n*Z,v+=(n=t[14])*M,w+=n*L,E+=n*j,C+=n*B,_+=n*W,O+=n*K,x+=n*H,N+=n*F,A+=n*q,S+=n*X,T+=n*V,R+=n*z,I+=n*$,P+=n*G,k+=n*J,D+=n*Z,w+=(n=t[15])*M,E+=n*L,C+=n*j,_+=n*B,O+=n*W,x+=n*K,N+=n*H,A+=n*F,S+=n*q,T+=n*X,R+=n*V,I+=n*z,P+=n*$,k+=n*G,D+=n*J,U+=n*Z,s+=38*E,o+=38*C,a+=38*_,c+=38*O,l+=38*x,d+=38*N,h+=38*A,u+=38*S,p+=38*T,f+=38*R,g+=38*I,m+=38*P,y+=38*k,b+=38*D,v+=38*U,i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),i=Math.floor((n=s+(i=1)+65535)/65536),s=n-65536*i,i=Math.floor((n=o+i+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=w+i+65535)/65536),w=n-65536*i,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=l,e[5]=d,e[6]=h,e[7]=u,e[8]=p,e[9]=f,e[10]=g,e[11]=m,e[12]=y,e[13]=b,e[14]=v,e[15]=w}function O(e,t){let r,n=o();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)_(n,n,n),2!==r&&4!==r&&_(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function x(e,t){let r=o(),n=o(),i=o(),s=o(),a=o(),c=o(),l=o(),h=o(),u=o();C(r,e[1],e[0]),C(u,t[1],t[0]),_(r,r,u),E(n,e[0],e[1]),E(u,t[0],t[1]),_(n,n,u),_(i,e[3],t[3]),_(i,i,d),_(s,e[2],t[2]),E(s,s,s),C(a,n,r),C(c,s,i),E(l,s,i),E(h,n,r),_(e[0],a,c),_(e[1],h,l),_(e[2],l,c),_(e[3],a,h)}function N(e,t,r){for(let n=0;n<4;n++)m(e[n],t[n],r)}function A(e,t){let r=o(),n=o(),i=o();O(i,t[2]),_(r,t[0],i),_(n,t[1],i),y(e,n),e[31]^=w(r)<<7}function S(e,t,r){f(e[0],a),f(e[1],c),f(e[2],c),f(e[3],a);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(7&n)&1;N(e,t,i),x(t,e),x(e,e),N(e,t,i)}}function T(e,t){let r=[o(),o(),o(),o()];f(r[0],h),f(r[1],u),f(r[2],c),_(r[3],h,u),S(e,r,t)}function R(e){if(e.length!==t.SEED_LENGTH)throw Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);let r=(0,i.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;let n=new Uint8Array(32),s=[o(),o(),o(),o()];T(s,r),A(n,s);let a=new Uint8Array(64);return a.set(e),a.set(n,32),{publicKey:n,secretKey:a}}t.generateKeyPairFromSeed=R,t.generateKeyPair=function(e){let t=(0,n.randomBytes)(32,e),r=R(t);return(0,s.wipe)(t),r},t.extractPublicKeyFromSecretKey=function(e){if(e.length!==t.SECRET_KEY_LENGTH)throw Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(e.subarray(32))};let I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function P(e,t){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)t[i]+=r-16*t[n]*I[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*I[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*I[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function k(e){let t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;P(e,t)}function D(e,t){let r,n=o(),i=o(),s=o(),d=o(),h=o(),u=o(),g=o();f(e[2],c);var m,y,b,O=e[1];for(let e=0;e<16;e++)O[e]=t[2*e]+(t[2*e+1]<<8);O[15]&=32767,_(s,m=e[1],m),_(d,s,l),C(s,s,e[2]),E(d,e[2],d),_(h,d,d),_(u,h,h),_(g,u,h),_(n,g,s),_(n,n,d);let x=o();for(r=0;r<16;r++)x[r]=n[r];for(r=250;r>=0;r--)_(x,x,x),1!==r&&_(x,x,n);for(r=0;r<16;r++)n[r]=x[r];return(_(n,n,s),_(n,n,d),_(n,n,d),_(e[0],n,d),_(i,y=e[0],y),_(i,i,d),v(i,s)&&_(e[0],e[0],p),_(i,b=e[0],b),_(i,i,d),v(i,s))?-1:(w(e[0])===t[31]>>7&&C(e[0],a,e[0]),_(e[3],e[0],e[1]),0)}t.sign=function(e,t){let r=new Float64Array(64),n=[o(),o(),o(),o()],s=(0,i.hash)(e.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;let a=new Uint8Array(64);a.set(s.subarray(32),32);let c=new i.SHA512;c.update(a.subarray(32)),c.update(t);let l=c.digest();c.clean(),k(l),T(n,l),A(a,n),c.reset(),c.update(a.subarray(0,32)),c.update(e.subarray(32)),c.update(t);let d=c.digest();k(d);for(let e=0;e<32;e++)r[e]=l[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)r[e+t]+=d[e]*s[t];return P(a.subarray(32),r),a},t.verify=function(e,r,n){let s=new Uint8Array(32),a=[o(),o(),o(),o()],c=[o(),o(),o(),o()];if(n.length!==t.SIGNATURE_LENGTH)throw Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(D(c,e))return!1;let l=new i.SHA512;l.update(n.subarray(0,32)),l.update(e),l.update(r);let d=l.digest();return k(d),S(a,c,d),T(c,n.subarray(32)),x(a,c),A(s,a),!b(n,s)},t.convertPublicKeyToX25519=function(e){let t=[o(),o(),o(),o()];if(D(t,e))throw Error("Ed25519: invalid public key");let r=o(),n=o(),i=t[1];E(r,c,i),C(n,c,i),O(n,n),_(r,r,n);let s=new Uint8Array(32);return y(s,r),s},t.convertSecretKeyToX25519=function(e){let t=(0,i.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;let r=new Uint8Array(t.subarray(0,32));return(0,s.wipe)(t),r}},89955:function(e,t,r){var n;n=r(16611),r(99229),n.pad.Iso10126={pad:function(e,t){var r=4*t,i=r-e.sigBytes%r;e.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.exports=n.pad.Iso10126},89962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},90050:(e,t,r)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.AptosNetwork=t.UserResponseStatus=void 0,t.getArgs=function(e){if("object"==typeof e&&null!==e&&"status"in e){if(e.status===n.REJECTED)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.USER_REJECTS_ERROR);return e.args}return e};let s=r(14903);!function(e){e.APPROVED="Approved",e.REJECTED="Rejected"}(n||(t.UserResponseStatus=n={})),!function(e){e.MAINNET="mainnet",e.TESTNET="testnet",e.DEVNET="devnet"}(i||(t.AptosNetwork=i={}))},90332:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(12590).__exportStar(r(19511),t)},90794:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66782),t),i(r(45674),t)},90866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90897:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(42316),t),i(r(2447),t),i(r(16995),t)},91053:(e,t,r)=>{"use strict";function n(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}r.d(t,{x:()=>n})},91395:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(14449),t),i(r(92561),t),i(r(26699),t)},91609:(e,t,r)=>{"use strict";var n=r(87358);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},91867:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var n=r(87358);let i={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(void 0!==n&&void 0!==n.env?n.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]}},91997:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,n,i,s=h(this);if(s)return s;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),i=(n=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?n[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=a(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[a(e)]},d.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},d.prototype.set=function(e,t){this.map[a(e)]=c(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function y(e,t){if(!(this instanceof y))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new d(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var w=[301,302,303,307,308];v.redirect=function(e,t){if(-1===w.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise(function(s,o){var l=new y(e,r);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function u(){h.abort()}if(h.onload=function(){var e,t,r={statusText:h.statusText,headers:(e=h.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(h.status<200||h.status>599)?r.status=200:r.status=h.status,r.url="responseURL"in h?h.responseURL:r.headers.get("X-Request-URL");var n="response"in h?h.response:h.responseText;setTimeout(function(){s(new v(n,r))},0)},h.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},h.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},h.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},h.open(l.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?h.withCredentials=!0:"omit"===l.credentials&&(h.withCredentials=!1),"responseType"in h&&(i.blob?h.responseType="blob":i.arrayBuffer&&(h.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof d||n.Headers&&r.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(a(e)),h.setRequestHeader(e,c(r.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&h.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){h.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",u),h.onreadystatechange=function(){4===h.readyState&&l.signal.removeEventListener("abort",u)}),h.send(void 0===l._bodyInit?null:l._bodyInit)})}E.polyfill=!0,n.fetch||(n.fetch=E,n.Headers=d,n.Request=y,n.Response=v),t.Headers=d,t.Request=y,t.Response=v,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},92161:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Engine=void 0;let i=r(14903),s=r(20756),o=r(71994),a=r(55982),c=r(65238),l=r(36766);class d{constructor(e){this.connectors=[],this.useConnector=void 0,this.wsOpenWalletConnector=void 0,this.sessionRetryTimer=null,this.connectionManager=new c.ConnectionManager(e),this.addConnectionListener()}getConnector(){if(this.useConnector)return this.useConnector}setAccountChangeListener(e){for(let t of(this.accountChangeListener=e,(0,o.logDebug)("setAccountChangeListener: engine",e),this.connectors))t.setAccountChangeListener(e)}registerConnector(e){for(let t of(this.connectors=e,e))t.setConnectionManager(this.connectionManager);this.accountChangeListener&&this.setAccountChangeListener(this.accountChangeListener)}getAllConnectors(){return this.connectors}hasWsConnector(){for(let e of this.connectors)if(this.isWsConnector(e))return!0;return!1}isWsConnector(e){return!!e&&Object.values(a.CONNECTOR_TYPE.WS).includes(e.getType())}isInjectedConnector(e){return!!e&&(Object.values(a.CONNECTOR_TYPE.INJECT).includes(e.getType())||Object.values(a.CONNECTOR_TYPE.KEYLESS).includes(e.getType()))}universalConnect(e,t,r){return n(this,void 0,void 0,function*(){return this.addConnectionListener(),this.wsOpenWalletConnector=void 0,new Promise((s,c)=>n(this,void 0,void 0,function*(){var n,d,h,u,p;try{(0,o.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,o.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(t));let f=[];e.forEach(e=>{let t=e.name;(t.startsWith("requestAccounts")||t.startsWith("ton"))&&f.push(e)}),(0,o.logDebug)("engine universalConnect universalRequest :",JSON.stringify(f));let g=this.connectionManager.getConnectInfo(),m=Date.now().toString(),y=null!=(n=t.openUniversalUrl)&&n,b=null!=(d=t.openAppLinkType)?d:i.OpenAppLinkType.UniversalLink,v={protocolVer:Number(i.tonConnectSdkVersion),topic:g.channelId,clientId:g.clientId,requestId:m,dAppInfo:this.fixDappName(t.dappInfo),requests:f,redirect:null!=(h=null==t?void 0:t.redirect)?h:"none"},w=(0,o.encodeConnectParams)(v);v.redirect=null!=(u=null==t?void 0:t.redirect)?u:"none",(0,o.logDebug)("engine universalConnect ==>>universalConnectRequest:",JSON.stringify(v));let E=()=>{let e;return null==(e=1==this.connectors.length&&this.connectors[0].getType()===a.CONNECTOR_TYPE.INJECT.OKX_INJECT_WALLET?this.connectors[0]:this.connectors.find(e=>e.getType()===t.connectWalletType))?void 0:e.openWallet({connectRequest:v},b)};this.setWsOpenWallet();let C=(0,o.isIos)();if(C&&y&&((0,o.logDebug)(`engine universalConnect ==>>isIOS: ${C}   openUniversalLink: ${y}`),E()),this.addOnConnectResultListener((e,r)=>{var n,a,d,h;try{if(this.stopSendSessionRetry(),this.addOnConnectResultListener(void 0),"connect"==e.method){(0,o.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(e));let c=(0,l.buildNameSpacesByConnectResponse)(e);if(c){let l;(null==(a=null==(n=e.payload)?void 0:n.responses)?void 0:a[0])&&"walletName"in e.payload.responses[0]&&(l=e.payload.responses[0].walletName);let h=null==(d=e.payload)?void 0:d.wallet.appName;void 0==t.connectWalletType&&r.getTag()==i.OKXWalletName&&(t.connectWalletType=r.getType());let u=Object.assign({topic:g.channelId,sessionConfig:t,namespaces:c},e.payload&&{wallet:Object.assign(Object.assign({},e.payload.wallet),{walletName:l})}),p=e.payload.responses.find(e=>"requestAccounts"===e.name);p&&p.connectRequestMethods&&(u.signResponse=p.connectRequestMethods),(0,o.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(u)),this.isWsConnector(r)&&((0,o.logDebug)("engine update protocol version"),this.connectionManager.updateProtocolVersion(g.channelId,e.payload.wallet.maxProtocolVersion)),this.deviceInfo=Object.assign({},u.wallet),s(u),this.setUseConnector(r),(0,o.reportEvent)(o.OKXReportType.PAGE_IN,o.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,h,this.getChainIdsFromSession(u))}else throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR)}else if("connect_error"==e.method&&(null==(h=e.payload)?void 0:h.code)!=void 0)throw new i.OKXConnectError(e.payload.code)}catch(e){c(e)}}),this.hasWsConnector()){yield null==(p=this.connectionManager)?void 0:p.disconnect(!1);try{yield this.connectionManager.connect()}catch(e){throw(0,o.logDebug)("Engine universalConnect error",e),e}(0,o.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",r),this.sendSession(w,v.topic,y)}if(!C&&y&&E(),(0,o.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",r),r){let e={connectRequest:v,redirect:t.redirect,tmaReturnUrl:t.tmaReturnUrl};(0,o.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),r(e)}}catch(e){(0,o.logDebug)("Engine universalConnect catch error",e),c(e)}}))})}fixDappName(e){try{if("dapp portal"===e.name.toLowerCase()){let t=document.title;if(t||(t=this.getOGSiteName()),t)return Object.assign(Object.assign({},e),{name:e.name+" - "+t})}return e}catch(t){return e}}setWsOpenWallet(){this.connectors.filter(e=>this.isWsConnector(e)).forEach(e=>{e.setOpenWalletCalled(e=>{this.wsOpenWalletConnector=e})})}getOGSiteName(){let e=document.getElementsByTagName("meta"),t=["og:site_name","og:title","twitter:title"];for(let r of e){let e=r.getAttribute("property");for(let n of t)if(e==n)return r.getAttribute("content")}}addOnConnectResultListener(e){for(let t of this.connectors)this.isInjectedConnector(t)&&t.setOnConnectResultListener(e);this.connectResultListener=e}openWallet(e,t,r){var n;t?t.openWallet(e,r):null==(n=this.getConnector())||n.openWallet(e,r)}send(e,t,r){return n(this,void 0,void 0,function*(){var r,n,s,a,c,l,d,h,u;let p;"chainId"in e&&null!=e.chainId&&(p=e.chainId.toString());try{if((0,o.reportEvent)(o.OKXReportType.LOG,o.Report_OKXConnectSDK_RequestStart_Log,"",null!=(n=null==(r=this.getConnector())?void 0:r.getTag())?n:"",e.method,null!=(a=null==(s=this.deviceInfo)?void 0:s.platform)?a:"",p),!this.getConnector())throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);null==(c=this.getConnector())||c.send(e,{resolve:r=>{var n,i,s,a,c,l,d,h,u;null==(n=null==t?void 0:t.resolve)||n.call(t,r),"error"in r&&r.error?(0,o.reportEvent)(o.OKXReportType.LOG,o.Report_OKXConnectSDK_RequestError_Log,"",null!=(s=null==(i=this.getConnector())?void 0:i.getTag())?s:"",e.method,null!=(c=null==(a=this.deviceInfo)?void 0:a.platform)?c:"",p):(0,o.reportEvent)(o.OKXReportType.LOG,o.Report_OKXConnectSDK_RequestSuccess_Log,"",null!=(d=null==(l=this.getConnector())?void 0:l.getTag())?d:"",e.method,null!=(u=null==(h=this.deviceInfo)?void 0:h.platform)?u:"",p)},onAck:()=>{var e;null==(e=null==t?void 0:t.onAck)||e.call(t)}})}catch(t){throw(0,o.reportEvent)(o.OKXReportType.LOG,o.Report_OKXConnectSDK_RequestError_Log,"",null!=(d=null==(l=this.getConnector())?void 0:l.getTag())?d:"",e.method,null!=(u=null==(h=this.deviceInfo)?void 0:h.platform)?u:"",p),t}})}clearData(){var e;null==(e=this.getConnector())||e.clearData()}addDisconnectListener(e){var t;null==(t=this.getConnector())||t.addDisconnectListener(e)}saveSessionContent(e,t){this.connectionManager.saveSessionContent(e,t)}getSessionContent(e){var t=this.connectionManager.getSessionContent(e);if(t&&"object"==typeof t&&(0,l.findConnectorBySession)(this.connectors,t.wallet,t.sessionConfig))return t}setConnectConnector(e,t){(null==e?void 0:e.appName)&&this.setUseConnector((0,l.findConnectorBySession)(this.connectors,e,t))}setUseConnector(e){this.useConnector=e,this.isWsConnector(e)&&e.addConnectionListener()}setSessionConnectingListener(e){this.sessionConnectingListener=e}restoreconnect(e,t){return n(this,void 0,void 0,function*(){this.getConnector()?this.getConnector().restoreconnect(e,e=>{var r,n;t(e),e&&(this.deviceInfo=Object.assign({},e.wallet),(0,o.reportEvent)(o.OKXReportType.PAGE_IN,o.Report_OKXConnectSDKExtension_ConnectDapp_ConnectSuccess_View,null!=(n=null==(r=this.getConnector())?void 0:r.getTag())?n:"",this.getChainIdsFromSession(e)))}):t(null)})}restoreconnectFromTopic(e){return n(this,void 0,void 0,function*(){this.isWsConnector(this.getConnector())&&(yield this.getConnector().restoreconnectFromTopic(e))})}getCurrentConnectionReady(e){var t;return!!(null==(t=this.getConnector())?void 0:t.getCurrentConnectionReady(e))}getChainIdsFromSession(e){if(!e.namespaces)return"";let t=new Set;return Object.values(e.namespaces).forEach(e=>{e.chains&&e.chains.forEach(e=>{t.add(e)})}),Array.from(t).join(",")}connectManagerDisconnect(){return n(this,arguments,void 0,function*(e=!1){var t,r;this.getConnector()?null==(t=this.getConnector())||t.connectManagerDisconnect(e):yield null==(r=this.connectors.find(e=>this.isWsConnector(e)))?void 0:r.connectManagerDisconnect(e),this.stopSendSessionRetry(),this.setUseConnector(void 0)})}sendSession(e,t,r){return n(this,void 0,void 0,function*(){(0,o.logDebug)("[Connect] sendSession called:",e);let i=Date.now().toString(),a={method:"session_info",params:{protocolVersion:s.CONNECT_PROTOCOL_VER,sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},a),{requestId:i}))),this.sessionRetryTimer&&clearInterval(this.sessionRetryTimer),r||(this.sessionRetryTimer=setInterval(()=>n(this,void 0,void 0,function*(){let e=Date.now().toString();(0,o.logDebug)("[Connect] Retrying sendSession..."),yield this.connectionManager.sendSubscribe(t),yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},a),{requestId:e})))}),s.OKXCONNECTOR_MESSAGE_TTL))})}stopSendSessionRetry(){this.sessionRetryTimer&&(clearInterval(this.sessionRetryTimer),this.sessionRetryTimer=null,(0,o.logDebug)("[Connect] Stopped retry for session"))}getDefaultWsConnector(){return this.connectors.find(e=>this.isWsConnector(e))}addConnectionListener(){var e;null==(e=this.connectionManager)||e.addListener("sdk_response",(e,t)=>{var r=(0,o.safeJsonParse)(t);(0,o.logDebug)(`Engine ==>> addListener ==> success ==> ${r}`),void 0==this.wsOpenWalletConnector&&(this.wsOpenWalletConnector=this.getDefaultWsConnector()),"connect"===r.method?this.connectResultListener&&this.wsOpenWalletConnector&&this.connectResultListener(r,this.wsOpenWalletConnector):"connect_error"===r.method?this.connectManagerDisconnect(!1).catch(()=>{}).finally(()=>{this.connectResultListener&&this.wsOpenWalletConnector&&this.connectResultListener(r,this.wsOpenWalletConnector)}):"session_connecting"===r.method&&((0,o.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener"),this.sessionConnectingListener&&((0,o.logDebug)("Engine ==>> handleResponse_4  ===> sessionConnectingListener not null"),this.sessionConnectingListener(),this.sessionConnectingListener=void 0))},function(){})}}t.Engine=d},92278:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.sendTransactionParser=void 0;let i=r(58864);class s extends i.RpcParser{convertToRpcRequest(e){let{redirect:t}=e;return{method:"ton_sendTransaction",redirect:t,params:n(e,["redirect"])}}convertFromRpcResponse(e){return{boc:e.result.toString()}}}t.sendTransactionParser=new s},92475:function(e,t,r){var n;n=r(16611),function(e){var t=n.lib,r=t.WordArray,i=t.Hasher,s=n.algo,o=[],a=[];function c(e){return(e-(0|e))*0x100000000|0}for(var l=2,d=0;d<64;)(function(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0})(l)&&(d<8&&(o[d]=c(e.pow(l,.5))),a[d]=c(e.pow(l,1/3)),d++),l++;var h=[],u=s.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],c=r[4],l=r[5],d=r[6],u=r[7],p=0;p<64;p++){if(p<16)h[p]=0|e[t+p];else{var f=h[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=h[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;h[p]=g+h[p-7]+y+h[p-16]}var b=c&l^~c&d,v=n&i^n&s^i&s,w=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),E=u+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+b+a[p]+h[p],C=w+v;u=d,d=l,l=c,c=o+E|0,o=s,s=i,i=n,n=E+C|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+c|0,r[5]=r[5]+l|0,r[6]=r[6]+d|0,r[7]=r[7]+u|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=e.floor(n/0x100000000),r[(i+64>>>9<<4)+15]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(u),n.HmacSHA256=i._createHmacHelper(u)}(Math),e.exports=n.SHA256},92561:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletStandardError=void 0,t.isWalletStandardError=function(e,t){return e instanceof Error&&"WalletStandardError"===e.name&&(void 0===t||e.context.__code===t)};let i=r(27319);class s extends Error{constructor(...[e,t]){let r,s;if(t){let{cause:e}=t,i=n(t,["cause"]);e&&(s={cause:e}),Object.keys(i).length>0&&(r=i)}super((0,i.getErrorMessage)(e,r),s),this.context=Object.assign({__code:e},r),this.name="WalletStandardError"}}t.WalletStandardError=s},92905:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.openLink=a,t.openLinkBlank=function(e){a(e,"_blank")},t.openDeeplinkWithFallback=function(e,t){let r=setTimeout(()=>void(!(d("safari")||l("android")&&d("firefox"))&&t()),500);window.addEventListener("blur",()=>clearTimeout(r),{once:!0}),l("android")&&(0,o.inTg)()?a(e,"_blank"):a(e,"_self")},t.isMobileUserAgent=function(){var e;let t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.slice(0,4)))&&(t=!0),t},t.getUserAgent=c,t.isOS=l,t.isBrowser=d;let i=n(r(15514)),s=r(75260),o=r(49737);function a(e,t="_self"){(0,s.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function c(){var e,t,r;let n,s,o=new i.default().getResult(),a=null==(e=o.os.name)?void 0:e.toLowerCase(),c=null==(t=o.device.model)?void 0:t.toLowerCase();switch(!0){case"ipad"===c:n="ipad";break;case"ios"===a:n="ios";break;case"android"===a:n="android";break;case"mac os"===a:n="macos";break;case"linux"===a:n="linux";break;case null==a?void 0:a.includes("windows"):n="windows"}let l=null==(r=o.browser.name)?void 0:r.toLowerCase();switch(!0){case"chrome"===l:s="chrome";break;case"firefox"===l:s="firefox";break;case null==l?void 0:l.includes("safari"):s="safari";break;case null==l?void 0:l.includes("opera"):s="opera"}return{os:n,browser:s}}function l(...e){return e.includes(c().os)}function d(...e){return e.includes(c().browser)}},93041:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonConnect=void 0;let i=r(79864),s=r(79764);class o{constructor(e){try{(0,i.logDebug)("OKXTonConnect constructor called"),window&&window.okxConnectTonsdkinwindow&&window.okxConnectTonsdkinwindow instanceof s.OKXTonConnectInner?(this.tonInner=window.okxConnectTonsdkinwindow,(0,i.logDebug)("OKXTonConnect constructor old called")):(this.tonInner=new s.OKXTonConnectInner(e),(0,i.logDebug)("OKXTonConnect constructor new called"),window&&(window.okxConnectTonsdkinwindow=this.tonInner))}catch(e){throw e}}get connected(){return this.tonInner.connected}get openUniversalLink(){return this.tonInner.openUniversalLink}get provider(){return this.tonInner.provider}get account(){return this.tonInner.account}get wallet(){return this.tonInner.wallet}set wallet(e){this.tonInner.wallet=e}connect(e){return n(this,void 0,void 0,function*(){return this.tonInner.connect(e)})}disconnect(){return n(this,void 0,void 0,function*(){return this.tonInner.disconnect()})}onStatusChange(e,t){return this.tonInner.onStatusChange(e,t)}restoreConnection(){return n(this,void 0,void 0,function*(){return this.tonInner.restoreConnection()})}sendTransaction(e,t){return n(this,void 0,void 0,function*(){return this.tonInner.sendTransaction(e,t)})}static getWallets(){return s.OKXTonConnectInner.getWallets()}}t.OKXTonConnect=o},93136:function(e,t,r){e.exports=function(e){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,r=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t)}else r.apply(this,arguments)}).prototype=t}return e.lib.WordArray}(r(16611))},93142:function(e,t,r){var n;n=r(16611),r(9956),r(11816),r(93524),r(99229),function(){var e=n.lib.BlockCipher,t=n.algo;let r=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],i=[[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a],[0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7],[0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0],[0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6]];var s={pbox:[],sbox:[]};function o(e,t){let r=e.sbox[0][t>>24&255]+e.sbox[1][t>>16&255];return r^=e.sbox[2][t>>8&255],r+=e.sbox[3][255&t]}function a(e,t,r){let n,i=t,s=r;for(let t=0;t<16;++t)i^=e.pbox[t],s=o(e,i)^s,n=i,i=s,s=n;return n=i,i=s,s=n^e.pbox[16],{left:i^=e.pbox[17],right:s}}var c=t.Blowfish=e.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let r=0;r<256;r++)e.sbox[t][r]=i[t][r]}let s=0;for(let i=0;i<18;i++)e.pbox[i]=r[i]^t[s],++s>=n&&(s=0);let o=0,c=0,l=0;for(let t=0;t<18;t+=2)o=(l=a(e,o,c)).left,c=l.right,e.pbox[t]=o,e.pbox[t+1]=c;for(let t=0;t<4;t++)for(let r=0;r<256;r+=2)o=(l=a(e,o,c)).left,c=l.right,e.sbox[t][r]=o,e.sbox[t][r+1]=c}(s,e.words,e.sigBytes/4)}},encryptBlock:function(e,t){var r=a(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},decryptBlock:function(e,t){var r=function(e,t,r){let n,i=t,s=r;for(let t=17;t>1;--t)i^=e.pbox[t],s=o(e,i)^s,n=i,i=s,s=n;return n=i,i=s,s=n^e.pbox[1],{left:i^=e.pbox[0],right:s}}(s,e[t],e[t+1]);e[t]=r.left,e[t+1]=r.right},blockSize:2,keySize:4,ivSize:2});n.Blowfish=e._createHelper(c)}(),e.exports=n.Blowfish},93433:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECT_METHOD_RECV_DISCONNECT=t.CONNECT_METHOD_DISCONNECT=t.CONNECT_METHOD_BATCH_FETCHMSG=t.CONNECT_METHOD_FETCHMSG=t.CONNECT_METHOD_RECEIVE=t.CONNECT_METHOD_UNSUB=t.CONNECT_METHOD_SUB=t.CONNECT_METHOD_PUBLISH=t.CONNECT_METHOD_LOGIN=t.CONNECT_METHOD_PUSH=void 0,t.CONNECT_METHOD_PUSH="push",t.CONNECT_METHOD_LOGIN="login",t.CONNECT_METHOD_PUBLISH="publish",t.CONNECT_METHOD_SUB="subscribe",t.CONNECT_METHOD_UNSUB="unsubscribe",t.CONNECT_METHOD_RECEIVE="receive",t.CONNECT_METHOD_FETCHMSG="fetchMessages",t.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages",t.CONNECT_METHOD_DISCONNECT="disconnect",t.CONNECT_METHOD_RECV_DISCONNECT="receiveDisconnect"},93481:(e,t,r)=>{"use strict";r.d(t,{W:()=>O});var n=r(12661),i=r(98866),s=r(76190),o=r(45553),a=r(28977),c=r(12319),l=r(58653),d=r(36964),h=r(58051),u=r(3824),p=r(10899),f=r(70417),g=r(81701),m=r(55480),y=r(6578),b=r(67869),v=r(25654);let w={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},E={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},C=(0,n.BX)({chains:(0,i.zC)(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),_={state:C,subscribe:e=>(0,n.B1)(C,()=>{e(C)}),subscribeKey:(e,t)=>(0,i.u$)(C,e,t),subscribeChainProp(e,t,r){let i;return(0,n.B1)(C.chains,()=>{let n=r||C.activeChain;if(n){let r=C.chains.get(n)?.[e];i!==r&&(i=r,t(r))}})},initialize(e,t,r){let{chainId:i,namespace:s}=l.i.getActiveNetworkProps(),o=t?.find(e=>e.id.toString()===i?.toString()),a=e.find(e=>e?.namespace===s)||e?.[0],c=e.map(e=>e.namespace).filter(e=>void 0!==e),d=new Set(m.H.state.enableEmbedded?[...c]:[...t?.map(e=>e.chainNamespace)??[]]);e?.length!==0&&a||(C.noAdapters=!0),!C.noAdapters&&(C.activeChain=a?.namespace,C.activeCaipNetwork=o,O.setChainNetworkData(a?.namespace,{caipNetwork:o}),C.activeChain&&y.z.set({activeChain:a?.namespace})),d.forEach(e=>{let i=t?.filter(t=>t.chainNamespace===e),s=l.i.getPreferredAccountTypes()||{},o={...m.H.state.defaultAccountTypes,...s};O.state.chains.set(e,{namespace:e,networkState:(0,n.BX)({...E,caipNetwork:i?.[0]}),accountState:(0,n.BX)({...w,preferredAccountType:o[e]}),caipNetworks:i??[],...r}),O.setRequestedCaipNetworks(i??[],e)})},removeAdapter(e){if(C.activeChain===e){let t=Array.from(C.chains.entries()).find(([t])=>t!==e);if(t){let e=t[1]?.caipNetworks?.[0];e&&O.setActiveCaipNetwork(e)}}C.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:r},n){if(!e.namespace)throw Error("ChainController:addAdapter - adapter must have a namespace");C.chains.set(e.namespace,{namespace:e.namespace,networkState:{...E,caipNetwork:n[0]},accountState:w,caipNetworks:n,connectionControllerClient:r,networkControllerClient:t}),O.setRequestedCaipNetworks(n?.filter(t=>t.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=C.chains.get(e.chainNamespace);if(t){let r=[...t.caipNetworks||[]];t.caipNetworks?.find(t=>t.id===e.id)||r.push(e),C.chains.set(e.chainNamespace,{...t,caipNetworks:r}),O.setRequestedCaipNetworks(r,e.chainNamespace),p.a.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let r=C.chains.get(e);if(r){let n=C.activeCaipNetwork?.id===t,i=[...r.caipNetworks?.filter(e=>e.id!==t)||[]];n&&r?.caipNetworks?.[0]&&O.setActiveCaipNetwork(r.caipNetworks[0]),C.chains.set(e,{...r,caipNetworks:i}),O.setRequestedCaipNetworks(i||[],e),0===i.length&&p.a.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let r=C.chains.get(e);r&&(r.networkState={...r.networkState||E,...t},C.chains.set(e,r))},setChainAccountData(e,t,r=!0){if(!e)throw Error("Chain is required to update chain account data");let n=C.chains.get(e);if(n){let r={...n.accountState||w,...t};C.chains.set(e,{...n,accountState:r}),(1===C.chains.size||C.activeChain===e)&&(t.caipAddress&&(C.activeCaipAddress=t.caipAddress),h.U.replaceState(r))}},setChainNetworkData(e,t){if(!e)return;let r=C.chains.get(e);if(r){let n={...r.networkState||E,...t};C.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r,n=!0){O.setChainAccountData(r,{[e]:t},n)},setActiveNamespace(e){C.activeChain=e;let t=e?C.chains.get(e):void 0,r=t?.networkState?.caipNetwork;r?.id&&e&&(C.activeCaipAddress=t?.accountState?.caipAddress,C.activeCaipNetwork=r,O.setChainNetworkData(e,{caipNetwork:r}),l.i.setActiveCaipNetworkId(r?.caipNetworkId),y.z.set({activeChain:e,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;C.activeChain!==e.chainNamespace&&O.setIsSwitchingNamespace(!0);let t=C.chains.get(e.chainNamespace);C.activeChain=e.chainNamespace,C.activeCaipNetwork=e,O.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),t?.accountState?.address?C.activeCaipAddress=`${e.chainNamespace}:${e.id}:${t?.accountState?.address}`:C.activeCaipAddress=void 0,O.setAccountProp("caipAddress",C.activeCaipAddress,e.chainNamespace),t&&h.U.replaceState(t.accountState),v.R.resetSend(),y.z.set({activeChain:C.activeChain,selectedNetworkId:C.activeCaipNetwork?.caipNetworkId}),l.i.setActiveCaipNetworkId(e.caipNetworkId),O.checkIfSupportedNetwork(e.chainNamespace)||!m.H.state.enableNetworkSwitch||m.H.state.allowUnsupportedChain||u.x.state.wcBasic||O.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=C.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==O.state.activeChain,r=O.getNetworkData(e)?.caipNetwork,n=O.getCaipNetworkByNamespace(e,r?.id);t&&n&&await O.switchActiveNetwork(n)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let r=O.state.activeChain;if(!r)throw Error("ChainController:switchActiveNetwork - namespace is required");let n=O.state.chains.get(r),i=!n?.caipNetworks?.some(e=>e.id===C.activeCaipNetwork?.id),s=O.getNetworkControllerClient(e.chainNamespace);if(s){try{await s.switchCaipNetwork(e),i&&g.W.close()}catch(e){if(t)throw e;b.I.goBack()}f.E.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){let t=e||C.activeChain;if(!t)throw Error("ChainController:getNetworkControllerClient - chain is required");let r=C.chains.get(t);if(!r)throw Error("Chain adapter not found");if(!r.networkControllerClient)throw Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(e){let t=e||C.activeChain;if(!t)throw Error("Chain is required to get connection controller client");let r=C.chains.get(t);if(!r?.connectionControllerClient)throw Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(e,t){let r=C.chains.get(t)?.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){let t=C.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=t?.networkState||{};return c.w.sortRequestedNetworks(r,n).filter(e=>e?.id)},getAllRequestedCaipNetworks(){let e=[];return C.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let r=O.getRequestedCaipNetworks(t.namespace);e.push(...r)}),e},setRequestedCaipNetworks(e,t){O.setAdapterNetworkState(t,{requestedCaipNetworks:e});let r=Array.from(new Set(O.getAllRequestedCaipNetworks().map(e=>e.chainNamespace)));p.a.filterByNamespaces(r)},getAllApprovedCaipNetworkIds(){let e=[];return C.chains.forEach(t=>{if(!t.namespace)throw Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let r=O.getApprovedCaipNetworkIds(t.namespace);e.push(...r)}),e},getActiveCaipNetwork:e=>e?C.chains.get(e)?.networkState?.caipNetwork:C.activeCaipNetwork,getActiveCaipAddress:()=>C.activeCaipAddress,getApprovedCaipNetworkIds(e){let t=C.chains.get(e);return t?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(e){let t=O.getNetworkControllerClient(),r=await t?.getApprovedCaipNetworksData();O.setAdapterNetworkState(e,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(e,t){let r=t||C.activeCaipNetwork?.caipNetworkId,n=O.getRequestedCaipNetworks(e);return!n.length||n?.some(e=>e.caipNetworkId===r)},checkIfSupportedChainId(e){if(!C.activeChain)return!0;let t=O.getRequestedCaipNetworks(C.activeChain);return t?.some(t=>t.id===e)},setSmartAccountEnabledNetworks(e,t){O.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){let e=s.L.caipNetworkIdToNumber(C.activeCaipNetwork?.caipNetworkId),t=C.activeChain;if(!t||!e)return!1;let r=O.getNetworkProp("smartAccountEnabledNetworks",t);return!!r?.includes(Number(e))},showUnsupportedChainUI(){g.W.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=C.activeCaipNetwork;return!!(e?.chainNamespace&&a.oU.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){O.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){if(!e)throw Error("Chain is required to set account prop");let t=O.state.chains.get(e)?.accountState?.preferredAccountType,r=m.H.state.defaultAccountTypes[e];C.activeCaipAddress=void 0,O.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||t,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),p.a.removeConnectorId(e)},setIsSwitchingNamespace(e){C.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[];if(C.chains.forEach(t=>{o.o.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>e===t.namespace)&&t.namespace&&e.push(t.namespace)}),e.length>0){let t=e[0];return t?C.chains.get(t)?.caipNetworks?.[0]:void 0}},getAccountData(e){let t=e||C.activeChain;if(t)return O.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||C.activeChain;if(t)return O.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let r=O.state.chains.get(e),n=r?.caipNetworks?.find(e=>e.id===t);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=p.a.state.filterByNamespace;return(e?[C.chains.get(e)]:Array.from(C.chains.values())).flatMap(e=>e?.caipNetworks||[]).map(e=>e.caipNetworkId)},getCaipNetworks:e=>e?O.getRequestedCaipNetworks(e):O.getAllRequestedCaipNetworks(),getCaipNetworkById:(e,t)=>_.getCaipNetworks(t).find(t=>t.id.toString()===e.toString()||t.caipNetworkId.toString()===e.toString()),setLastConnectedSIWECaipNetwork(e){C.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork:()=>C.lastConnectedSIWECaipNetwork},O=(0,d.X)(_)},93524:function(e,t,r){var n,i,s,o,a,c,l;n=r(16611),r(47413),r(83247),s=(i=n.lib).Base,o=i.WordArray,c=(a=n.algo).MD5,l=a.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),s=o.create(),a=s.words,c=n.keySize,l=n.iterations;a.length<c;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var d=1;d<l;d++)r=i.finalize(r),i.reset();s.concat(r)}return s.sigBytes=4*c,s}}),n.EvpKDF=function(e,t,r){return l.create(r).compute(e,t)},e.exports=n.EvpKDF},93965:(e,t,r)=>{"use strict";r.d(t,{IP:()=>o,T8:()=>i,Ud:()=>s,Ws:()=>n});let n={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version"};function i(e){if(!e)throw Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}let s={setItem(e,t){o()&&void 0!==t&&localStorage.setItem(e,t)},getItem(e){if(o())return localStorage.getItem(e)||void 0},removeItem(e){o()&&localStorage.removeItem(e)},clear(){o()&&localStorage.clear()}};function o(){return"undefined"!=typeof window&&"undefined"!=typeof localStorage}},94244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GENERIC_SUBPROVIDER_NAME=t.RPC_URL=t.STORAGE=t.CONTEXT=t.WC_VERSION=t.PROTOCOL=t.RELAY_URL=t.LOGGER=void 0,t.LOGGER="error",t.RELAY_URL="wss://relay.walletconnect.com",t.PROTOCOL="wc",t.WC_VERSION=2,t.CONTEXT="universal_provider",t.STORAGE=`${t.PROTOCOL}@${t.WC_VERSION}:${t.CONTEXT}:`,t.RPC_URL="https://rpc.walletconnect.com/v1/",t.GENERIC_SUBPROVIDER_NAME="generic"},94820:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,l,d=this._events[a],h=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,i),!0;case 5:return d.fn.call(d.context,t,n,i,s),!0;case 6:return d.fn.call(d.context,t,n,i,s,o),!0}for(l=1,c=Array(h-1);l<h;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var u,p=d.length;for(l=0;l<p;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),h){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,i);break;default:if(!c)for(u=1,c=Array(h-1);u<h;u++)c[u-1]=arguments[u];d[l].fn.apply(d[l].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,l=[],d=a.length;c<d;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},95036:(e,t)=>{"use strict";function r([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?Object.assign({},t):t))}(t)}`}Object.defineProperty(t,"__esModule",{value:!0}),t.decodeEncodedContext=function(e){return Object.fromEntries(new URLSearchParams(atob(e)).entries())},t.encodeContextObject=function(e){return btoa(Object.entries(e).map(r).join("&"))}},95789:(e,t,r)=>{"use strict";let n;r.d(t,{L:()=>s});let i=256;function s(e=11){if(!n||i+e>512){n="",i=0;for(let e=0;e<256;e++)n+=(256+256*Math.random()|0).toString(16).substring(1)}return n.substring(i,i+++e)}},97064:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IEngine=t.ISignClient=t.ISignClientEvents=t.IEngineEvents=void 0;let i=n(r(94820));class s extends i.default{constructor(){super()}}t.IEngineEvents=s;class o extends i.default{constructor(){super()}}t.ISignClientEvents=o;class a{constructor(e){this.data=e}}t.ISignClient=a;class c{constructor(e){this.client=e}}t.IEngine=c},97388:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94),t)},97762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(5676),i=r(9490),s=r(89962);function o(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=o,t.randomUint32=function(e=t.defaultRandomSource){let r=o(4,e),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",l=r.length,d=256-256%l;for(;e>0;){let t=o(Math.ceil(256*e/d),n);for(let n=0;n<t.length&&e>0;n++){let s=t[n];s<d&&(i+=r.charAt(s%l),e--)}(0,s.wipe)(t)}return i}t.randomString=c,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},98092:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AptosProvider=void 0;let i=r(14903),s=r(71994),o=r(45236),a=r(38962),c=r(29832),l=Object.freeze(["637","70000060","70000066"]),d=new Map;d.set("aptos:637","Mainnet"),d.set("aptos:70000060","Movement Testnet"),d.set("aptos:70000066","Movement Mainnet");class h{send(e){return n(this,void 0,void 0,function*(){try{let t;(0,s.logDebug)("AptosProvider send request:",(0,s.safeJsonStringify)(e)),yield this.restoreConnect();let r=yield window.okxwallet.aptos.network(),n=this.searchChainIdToInjectChainName(e.chainId);if((0,s.logDebug)("AptosProvider send network and searchNetwork:",r,"-----",n),!(r&&n&&r.toLowerCase()===n.toLowerCase()))throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Please switch your wallet link to '${n}'`);let o=e.method;switch(o){case"aptos_signMessage":if(e.injectParams){let r=yield window.okxwallet.aptos.signMessage(e.injectParams);return t={method:e.method,result:r.signature,injectResult:r},(0,s.logDebug)("AptosProvider send result:",(0,s.safeJsonStringify)(t)),t}throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`param is error method: '${o}'`);case"aptos_signTransaction":{(0,s.logDebug)("AptosProvider Method>>>> :",o);let r=yield window.okxwallet.aptos.signTransaction(e.params);return t={method:e.method,result:r},(0,s.logDebug)("AptosProvider send result:",(0,s.safeJsonStringify)(t)),t}case"aptos_signAndSubmitTransaction":{(0,s.logDebug)("AptosProvider Method>>>> :",o);let r=yield window.okxwallet.aptos.signAndSubmitTransaction(e.params);return t={method:e.method,result:r.hash},(0,s.logDebug)("AptosProvider send result:",(0,s.safeJsonStringify)(t)),t}default:throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,` method: '${o}'`)}}catch(e){throw(0,s.logDebug)("AptosProvider send error:",e),e}})}searchChainIdToInjectChainName(e){let t=e;return d.forEach((r,n)=>{e.includes(n)&&(t=r)}),t}disconnect(){}restoreConnect(){return(0,a.isDevice)("mobile")?this.connect():Promise.resolve()}parseConnectResponse(e,t,r,c,d,h){return n(this,void 0,void 0,function*(){let e,t=[];c.forEach(e=>{e.namespace===i.NameSpaceKeyAptos&&t.push(...e.chains)});let r=[],n={};if((0,s.logDebug)("AptosProvider parseConnectResponse connectChain",JSON.stringify(t)),!(0,a.isDevice)("mobile")&&t&&t.length>0&&(e=(yield window.okxwallet.aptos.connect()).publicKey),t.forEach(t=>{let i=d.address.find(e=>l.includes(e.chainId)&&637===e.coinType||e.namespaceChainId===t);i&&(r.push(t+":"+i.address),n[t]={publicKey:i.publicKey?i.publicKey:e})}),(0,s.logDebug)("AptosProvider parseConnectResponse addresses",JSON.stringify(r)),r&&r.length>0)return{namespace:i.NameSpaceKeyAptos,addresses:r,methods:[...o.AptosMethods],extra:n}})}connect(){return n(this,void 0,void 0,function*(){return window.okxwallet.aptos.connect()})}singleConnect(){return this.connect()}addAccountChangedListener(e){window.okxwallet.aptos.onAccountChange(t=>{console.log("window.okxwallet configEventWithKey_aptos:",Date.now(),c.key,JSON.stringify(t)),t&&e()})}removeListener(){}}t.AptosProvider=h},98410:(e,t,r)=>{"use strict";r.d(t,{MZ:()=>n.M,wk:()=>i.w});var n=r(66575),i=r(3515)},98482:e=>{"use strict";var t=function(e){var t,n,i;return!!(t=e)&&"object"==typeof t&&(n=e,"[object RegExp]"!==(i=Object.prototype.toString.call(n))&&"[object Date]"!==i&&n.$$typeof!==r)},r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function i(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function s(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function o(e,t){try{return t in e}catch(e){return!1}}function a(e,r,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=n;var l,d,h=Array.isArray(r);return h!==Array.isArray(e)?n(r,c):h?c.arrayMerge(e,r,c):(d={},(l=c).isMergeableObject(e)&&s(e).forEach(function(t){d[t]=n(e[t],l)}),s(r).forEach(function(t){o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))||(o(e,t)&&l.isMergeableObject(r[t])?d[t]=(function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a})(t,l)(e[t],r[t],l):d[t]=n(r[t],l))}),d)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,r){return a(e,r,t)},{})},e.exports=a},98492:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.OKXTonProvider=void 0;let i=r(88478),s=r(79864);class o{constructor(e){this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.provider=e,this.provider.on("connect",()=>{let e=this.wallet();(0,s.logDebug)("OKXTONProvider event connect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach(t=>t(e))}),this.provider.on("reconnect",()=>{let e=this.wallet();(0,s.logDebug)("OKXTONProvider event reconnect:",JSON.stringify(e)),this.statusChangeSubscriptions.forEach(t=>t(e))}),this.provider.on("disconnect",()=>{(0,s.logDebug)("OKXTONProvider event disconnect:"),this.statusChangeSubscriptions.forEach(e=>e(null))}),this.provider.on("connect_error",e=>{(0,s.logDebug)("OKXTONProvider event connect_error:",JSON.stringify(e)),this.statusChangeErrorSubscriptions.forEach(t=>t(e))})}connected(){return!!this.provider.connected()&&!!this.provider.session.namespaces.ton}account(){try{if(!this.provider.session)return null;let e=this.provider.session.namespaces.ton;if(!e||!e.payload||!e.payload.ton_addr)return null;let t=e.payload.ton_addr;return{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}}catch(e){return(0,s.logDebug)("OKXTONProvider account  error:",JSON.stringify(e)),null}}wallet(){if(this.connected())try{let e=this.provider.session.wallet,t={device:{platform:e.platform,appName:e.appName,appVersion:e.appVersion,maxProtocolVersion:e.maxProtocolVersion,features:["ton_sendTransaction"]},provider:"http",account:this.account()},r=this.provider.session.namespaces.ton;return r&&r.payload&&r.payload.ton_proof&&(t.connectItems={tonProof:r.payload.ton_proof}),(0,s.logDebug)("OKXTONProvider wallet :",JSON.stringify(t)),t}catch(e){(0,s.logDebug)("OKXTONProvider wallet  error:",JSON.stringify(e))}return null}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(t=>t!==e),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(e=>e!==t))}}sendTransaction(e){return n(this,void 0,void 0,function*(){if(e.network&&e.network!==s.TONCHAIN.MAINNET)throw new i.OKXConnectError(i.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"OKXTONProvider sendTransaction network error");e.network||(e.network=s.TONCHAIN.MAINNET),this.provider.session&&!e.from&&(e.from=this.provider.requestAccountsWithNamespace("ton")[0]);let t={method:"ton_sendTransaction",params:e},r="ton:"+s.TONCHAIN.MAINNET;return(0,s.logDebug)("OKXTONProvider sendTransaction transaction----:",r,JSON.stringify(t)),this.provider.request(t,r)})}}t.OKXTonProvider=o,t.default=o},98502:(e,t,r)=>{"use strict";r.d(t,{mN:()=>O,AH:()=>l,W3:()=>E,Ec:()=>C,iz:()=>c});let n=globalThis,i=n.ShadowRoot&&(void 0===n.ShadyCSS||n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class a{constructor(e,t,r){if(this._$cssResult$=!0,r!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(i&&void 0===e){let r=void 0!==t&&1===t.length;r&&(e=o.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&o.set(t,e))}return e}toString(){return this.cssText}}let c=e=>new a("string"==typeof e?e:e+"",void 0,s),l=(e,...t)=>new a(1===e.length?e[0]:t.reduce((t,r,n)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+e[n+1],e[0]),e,s),d=i?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(let r of e.cssRules)t+=r.cssText;return c(t)})(e):e,{is:h,defineProperty:u,getOwnPropertyDescriptor:p,getOwnPropertyNames:f,getOwnPropertySymbols:g,getPrototypeOf:m}=Object,y=globalThis,b=y.trustedTypes,v=b?b.emptyScript:"",w=y.reactiveElementPolyfillSupport,E={toAttribute(e,t){switch(t){case Boolean:e=e?v:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=null!==e;break;case Number:r=null===e?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(e){r=null}}return r}},C=(e,t)=>!h(e,t),_={attribute:!0,type:String,converter:E,reflect:!1,useDefault:!1,hasChanged:C};Symbol.metadata??=Symbol("metadata"),y.litPropertyMetadata??=new WeakMap;class O extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=_){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),n=this.getPropertyDescriptor(e,r,t);void 0!==n&&u(this.prototype,e,n)}}static getPropertyDescriptor(e,t,r){let{get:n,set:i}=p(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:n,set(t){let s=n?.call(this);i?.call(this,t),this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??_}static _$Ei(){if(this.hasOwnProperty("elementProperties"))return;let e=m(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty("finalized"))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty("properties")){let e=this.properties;for(let t of[...f(e),...g(e)])this.createProperty(t,e[t])}let e=this[Symbol.metadata];if(null!==e){let t=litPropertyMetadata.get(e);if(void 0!==t)for(let[e,r]of t)this.elementProperties.set(e,r)}for(let[e,t]of(this._$Eh=new Map,this.elementProperties)){let r=this._$Eu(e,t);void 0!==r&&this._$Eh.set(r,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e))for(let r of new Set(e.flat(1/0).reverse()))t.unshift(d(r));else void 0!==e&&t.push(d(e));return t}static _$Eu(e,t){let r=t.attribute;return!1===r?void 0:"string"==typeof r?r:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map;for(let t of this.constructor.elementProperties.keys())this.hasOwnProperty(t)&&(e.set(t,this[t]),delete this[t]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((e,t)=>{if(i)e.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(let r of t){let t=document.createElement("style"),i=n.litNonce;void 0!==i&&t.setAttribute("nonce",i),t.textContent=r.cssText,e.appendChild(t)}})(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){let r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(void 0!==n&&!0===r.reflect){let i=(void 0!==r.converter?.toAttribute?r.converter:E).toAttribute(t,r.type);this._$Em=e,null==i?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(e,t){let r=this.constructor,n=r._$Eh.get(e);if(void 0!==n&&this._$Em!==n){let e=r.getPropertyOptions(n),i="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:E;this._$Em=n;let s=i.fromAttribute(t,e.type);this[n]=s??this._$Ej?.get(n)??s,this._$Em=null}}requestUpdate(e,t,r){if(void 0!==e){let n=this.constructor,i=this[e];if(!(((r??=n.getPropertyOptions(e)).hasChanged??C)(i,t)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,t,r)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:n,wrapped:i},s){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,s??t??this[e]),!0!==i||void 0!==s)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),!0===n&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}let e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}let e=this.constructor.elementProperties;if(e.size>0)for(let[t,r]of e){let{wrapped:e}=r,n=this[t];!0!==e||this._$AL.has(t)||void 0===n||this.C(t,void 0,r,n)}}let e=!1,t=this._$AL;try{(e=this.shouldUpdate(t))?(this.willUpdate(t),this._$EO?.forEach(e=>e.hostUpdate?.()),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(e){}firstUpdated(e){}}O.elementStyles=[],O.shadowRootOptions={mode:"open"},O.elementProperties=new Map,O.finalized=new Map,w?.({ReactiveElement:O}),(y.reactiveElementVersions??=[]).push("2.1.1")},98722:(e,t,r)=>{"use strict";function n(){let e=()=>void 0,t=()=>void 0;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}}r.d(t,{Y:()=>n})},98761:(e,t,r)=>{"use strict";r.d(t,{B4:()=>p,CQ:()=>w,CW:()=>v,Ei:()=>h,F8:()=>E,P5:()=>u,TH:()=>C,Vl:()=>y,Vr:()=>b,WM:()=>f,WQ:()=>m,im:()=>g,jm:()=>a,lD:()=>s,qh:()=>d,rE:()=>c,ry:()=>l,xn:()=>o});let n=BigInt(0x100000000-1),i=BigInt(32);function s(e,t=!1){let r=e.length,o=new Uint32Array(r),a=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:c}=function(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}(e[s],t);[o[s],a[s]]=[r,c]}return[o,a]}let o=(e,t,r)=>e>>>r,a=(e,t,r)=>e<<32-r|t>>>r,c=(e,t,r)=>e>>>r|t<<32-r,l=(e,t,r)=>e<<32-r|t>>>r,d=(e,t,r)=>e<<64-r|t>>>r-32,h=(e,t,r)=>e>>>r-32|t<<64-r,u=(e,t,r)=>e<<r|t>>>32-r,p=(e,t,r)=>t<<r|e>>>32-r,f=(e,t,r)=>t<<r-32|e>>>64-r,g=(e,t,r)=>e<<r-32|t>>>64-r;function m(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let y=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),b=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,v=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),w=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,E=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),C=(e,t,r,n,i,s)=>t+r+n+i+s+(e/0x100000000|0)|0},98866:(e,t,r)=>{"use strict";r.d(t,{u$:()=>i,zC:()=>c});var n=r(12661);function i(e,t,r,i){let s=e[t];return(0,n.B1)(e,()=>{let n=e[t];Object.is(s,n)||r(s=n)},i)}Symbol();let{proxyStateMap:s,snapCache:o}=(0,n.h2)(),a=e=>s.has(e);function c(e){let t=[],r=0,i=new Map,s=new WeakMap,c=e=>s.get(e)||i;if(e){if("function"!=typeof e[Symbol.iterator])throw TypeError("proxyMap:\n	initial state must be iterable\n		tip: structure should be [[key, value]]");for(let[n,s]of e)i.set(n,r),t[r++]=s}let l={data:t,index:r,epoch:0,get size(){return a(this)||(()=>{let e=o.get(l),t=null==e?void 0:e[1];if(t&&!s.has(t)){let e=new Map(i);s.set(t,e)}})(),c(this).size},get(e){let t=c(this).get(e);return void 0===t?void this.epoch:this.data[t]},has(e){let t=c(this);return this.epoch,t.has(e)},set(e,t){if(!a(this))throw Error("Cannot perform mutations on a snapshot");let r=i.get(e);return void 0===r?(i.set(e,this.index),this.data[this.index++]=t):this.data[r]=t,this.epoch++,this},delete(e){if(!a(this))throw Error("Cannot perform mutations on a snapshot");let t=i.get(e);return void 0!==t&&(delete this.data[t],i.delete(e),this.epoch++,!0)},clear(){if(!a(this))throw Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,i.clear()},forEach(e){this.epoch,c(this).forEach((t,r)=>{e(this.data[t],r,this)})},*entries(){for(let[e,t]of(this.epoch,c(this)))yield[e,this.data[t]]},*keys(){for(let e of(this.epoch,c(this).keys()))yield e},*values(){for(let e of(this.epoch,c(this).values()))yield this.data[e]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},d=(0,n.BX)(l);return Object.defineProperties(d,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(d),d}let{proxyStateMap:l,snapCache:d}=(0,n.h2)()},99229:function(e,t,r){var n,i,s,o,a,c,l,d,h,u,p,f,g,m,y,b,v,w;n=r(16611),r(93524),e.exports=void(n.lib.Cipher||(s=(i=n.lib).Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,(c=n.enc).Utf8,l=c.Base64,d=n.algo.EvpKDF,h=i.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),i.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=n.mode={},p=i.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=u.CBC=function(){var e=p.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var s=0;s<r;s++)e[t+s]^=n[s]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,s=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=s}}),e}(),g=(n.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(i);var c=o.create(s,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:f,padding:g}),reset:function(){h.reset.call(this);var e,t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=i.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?o.create([0x53616c74,0x65645f5f]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 0x53616c74==n[0]&&0x65645f5f==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),m.create({ciphertext:r,salt:t})}},b=i.SerializableCipher=s.extend({cfg:s.extend({format:y}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),s=i.finalize(t),o=i.cfg;return m.create({ciphertext:s,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,r,n,i){if(n||(n=o.random(8)),i)var s=d.create({keySize:t+r,hasher:i}).compute(e,n);else var s=d.create({keySize:t+r}).compute(e,n);var a=o.create(s.words.slice(t),4*r);return s.sigBytes=4*t,m.create({key:s,iv:a,salt:n})}},w=i.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize,n.salt,n.hasher);n.iv=i.iv;var s=b.encrypt.call(this,e,t,i.key,n);return s.mixIn(i),s},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt,n.hasher);return n.iv=i.iv,b.decrypt.call(this,e,t,i.key,n)}})))},99397:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63254),t),i(r(4380),t),i(r(33246),t),i(r(88395),t)},99691:(e,t,r)=>{"use strict";var n=r(83138),i=r(98410),s=r(52321);let o=Symbol.for(""),a=e=>{if(e?.r===o)return e?._$litStatic$},c=new Map,l=e=>(t,...r)=>{let n,i,s=r.length,o=[],l=[],d,h=0,u=!1;for(;h<s;){for(d=t[h];h<s&&void 0!==(n=a(i=r[h]));)d+=n+t[++h],u=!0;h!==s&&l.push(i),o.push(d),h++}if(h===s&&o.push(t[s]),u){let e=o.join("$$lit$$");void 0===(t=c.get(e))&&(o.raw=o,c.set(e,t=o)),r=l}return e(t,...r)},d=l(s.qy);l(s.JW),l(s.ej);let h=(0,n.JW)`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`,u=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,p=(0,n.JW)`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`,f=(0,n.JW)`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`,g=(0,n.JW)` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,m=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,y=(0,n.JW)`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`,b=(0,n.JW)`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,v=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,w=(0,n.JW)`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,E=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,C=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,_=(0,n.JW)` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`,O=(0,n.JW)`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`,x=(0,n.JW)`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`,N=(0,n.JW)`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,A=(0,n.JW)`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,S=(0,n.JW)`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,T=(0,n.JW)`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,R=(0,n.JW)`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,I=(0,n.JW)`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,P=(0,n.JW)`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,k=(0,n.JW)`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,D=(0,n.JW)`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`;var U=r(20296),M=r(71084),L=r(47327);let j=(0,n.AH)`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`;var B=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};let W={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmark:"ph-check",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",reown:"",solana:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",wallet:""},K={"ph-arrow-circle-down":()=>Promise.all([r.e(6499),r.e(692)]).then(r.bind(r,40692)),"ph-arrow-clockwise":()=>Promise.all([r.e(6499),r.e(2112)]).then(r.bind(r,62112)),"ph-arrow-down":()=>Promise.all([r.e(6499),r.e(5608)]).then(r.bind(r,25608)),"ph-arrow-left":()=>Promise.all([r.e(6499),r.e(2983)]).then(r.bind(r,72983)),"ph-arrow-right":()=>Promise.all([r.e(6499),r.e(4064)]).then(r.bind(r,34064)),"ph-arrow-square-out":()=>Promise.all([r.e(6499),r.e(7377)]).then(r.bind(r,57377)),"ph-arrows-down-up":()=>Promise.all([r.e(6499),r.e(746)]).then(r.bind(r,746)),"ph-arrows-left-right":()=>Promise.all([r.e(6499),r.e(9990)]).then(r.bind(r,19990)),"ph-arrow-up":()=>Promise.all([r.e(6499),r.e(9583)]).then(r.bind(r,29583)),"ph-arrow-up-right":()=>Promise.all([r.e(6499),r.e(7161)]).then(r.bind(r,87161)),"ph-arrows-clockwise":()=>Promise.all([r.e(6499),r.e(5851)]).then(r.bind(r,35851)),"ph-bank":()=>Promise.all([r.e(6499),r.e(4913)]).then(r.bind(r,44913)),"ph-browser":()=>Promise.all([r.e(6499),r.e(9827)]).then(r.bind(r,9827)),"ph-caret-down":()=>Promise.all([r.e(6499),r.e(1194)]).then(r.bind(r,91194)),"ph-caret-left":()=>Promise.all([r.e(6499),r.e(1753)]).then(r.bind(r,41753)),"ph-caret-right":()=>Promise.all([r.e(6499),r.e(1098)]).then(r.bind(r,81098)),"ph-caret-up":()=>Promise.all([r.e(6499),r.e(9301)]).then(r.bind(r,49301)),"ph-check":()=>Promise.all([r.e(6499),r.e(9987)]).then(r.bind(r,69987)),"ph-circle-half":()=>Promise.all([r.e(6499),r.e(8292)]).then(r.bind(r,28292)),"ph-clock":()=>Promise.all([r.e(6499),r.e(6281)]).then(r.bind(r,16281)),"ph-compass":()=>Promise.all([r.e(6499),r.e(8235)]).then(r.bind(r,18235)),"ph-copy":()=>Promise.all([r.e(6499),r.e(676)]).then(r.bind(r,40676)),"ph-credit-card":()=>Promise.all([r.e(6499),r.e(2646)]).then(r.bind(r,22646)),"ph-currency-dollar":()=>Promise.all([r.e(6499),r.e(8364)]).then(r.bind(r,68364)),"ph-desktop":()=>Promise.all([r.e(6499),r.e(4275)]).then(r.bind(r,64275)),"ph-device-mobile":()=>Promise.all([r.e(6499),r.e(2943)]).then(r.bind(r,42943)),"ph-dots-three":()=>Promise.all([r.e(6499),r.e(3655)]).then(r.bind(r,23655)),"ph-vault":()=>Promise.all([r.e(6499),r.e(1447)]).then(r.bind(r,51447)),"ph-envelope":()=>Promise.all([r.e(6499),r.e(5631)]).then(r.bind(r,85631)),"ph-funnel-simple":()=>Promise.all([r.e(6499),r.e(9729)]).then(r.bind(r,99729)),"ph-globe":()=>Promise.all([r.e(6499),r.e(180)]).then(r.bind(r,60180)),"ph-identification-card":()=>Promise.all([r.e(6499),r.e(7791)]).then(r.bind(r,17791)),"ph-image":()=>Promise.all([r.e(6499),r.e(2244)]).then(r.bind(r,72244)),"ph-info":()=>Promise.all([r.e(6499),r.e(7855)]).then(r.bind(r,77855)),"ph-lightbulb":()=>Promise.all([r.e(6499),r.e(538)]).then(r.bind(r,50538)),"ph-magnifying-glass":()=>Promise.all([r.e(6499),r.e(602)]).then(r.bind(r,20602)),"ph-paper-plane-right":()=>Promise.all([r.e(6499),r.e(5857)]).then(r.bind(r,95857)),"ph-plus":()=>Promise.all([r.e(6499),r.e(875)]).then(r.bind(r,80875)),"ph-power":()=>Promise.all([r.e(6499),r.e(4280)]).then(r.bind(r,44280)),"ph-puzzle-piece":()=>Promise.all([r.e(6499),r.e(9241)]).then(r.bind(r,9241)),"ph-qr-code":()=>Promise.all([r.e(6499),r.e(1973)]).then(r.bind(r,31973)),"ph-question":()=>Promise.all([r.e(6499),r.e(6959)]).then(r.bind(r,56959)),"ph-question-circle":()=>Promise.all([r.e(6499),r.e(9020)]).then(r.bind(r,79020)),"ph-seal-check":()=>Promise.all([r.e(6499),r.e(3034)]).then(r.bind(r,23034)),"ph-sign-out":()=>Promise.all([r.e(6499),r.e(7002)]).then(r.bind(r,77002)),"ph-spinner":()=>Promise.all([r.e(6499),r.e(6332)]).then(r.bind(r,36332)),"ph-trash":()=>Promise.all([r.e(6499),r.e(5557)]).then(r.bind(r,15557)),"ph-user":()=>Promise.all([r.e(6499),r.e(5154)]).then(r.bind(r,25154)),"ph-warning":()=>Promise.all([r.e(6499),r.e(7839)]).then(r.bind(r,27839)),"ph-warning-circle":()=>Promise.all([r.e(6499),r.e(3067)]).then(r.bind(r,23067)),"ph-x":()=>Promise.all([r.e(6499),r.e(979)]).then(r.bind(r,30979))},H={appStore:h,apple:u,bitcoin:p,chromeStore:f,cursor:g,discord:m,ethereum:y,etherscan:b,facebook:v,farcaster:w,github:E,google:C,playStore:_,reown:O,solana:x,telegram:N,twitch:A,twitter:D,twitterIcon:S,walletConnect:R,walletConnectInvert:I,walletConnectBrown:k,walletConnectLightBrown:P,x:D,wallet:T},F={"accent-primary":U.f.tokens.core.iconAccentPrimary,"accent-certified":U.f.tokens.core.iconAccentCertified,default:U.f.tokens.theme.iconDefault,success:U.f.tokens.core.iconSuccess,error:U.f.tokens.core.iconError,warning:U.f.tokens.core.iconWarning,inverse:U.f.tokens.theme.iconInverse},q=class extends n.WF{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){this.style.cssText=`
      --local-width: ${"inherit"===this.size?"inherit":`var(--apkt-spacing-${({xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"})[this.size]})`};
      --local-color: ${"inherit"===this.color?"inherit":F[this.color]}
    `;let e=W[this.name];if(e&&""!==e){let t=K[e];t&&t();let r={_$litStatic$:e,r:o};return d`<${r} size=${({xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"})[this.size]} weight="${this.weight}"></${r}>`}return H[this.name]||d``}};q.styles=[M.W5,j],B([(0,i.MZ)()],q.prototype,"size",void 0),B([(0,i.MZ)()],q.prototype,"name",void 0),B([(0,i.MZ)()],q.prototype,"weight",void 0),B([(0,i.MZ)()],q.prototype,"color",void 0),q=B([(0,L.E)("wui-icon")],q)},99766:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94244),t),i(r(11703),t)}}]);